{"file_contents":{"COMMUNITY_FEATURES.md":{"content":"# Community Features & Role-Based System\n\n## Overview\nThis document describes the new community features and role-based system implemented for the Innovare Technical Club platform.\n\n## Role-Based System\n\n### User Roles\n1. **Super Admin (Coordinators)**\n   - Full access to all features\n   - Can manage users, approve registrations\n   - Can create/edit/delete polls, announcements, and courses\n   - Can bulk import users via CSV\n\n2. **Coordinators**\n   - Can create/edit/delete polls, announcements, and courses\n   - Cannot manage users or approve registrations\n   - Access to community management features\n\n3. **Users**\n   - Can view polls, announcements, and course library\n   - Can participate in polls (when authenticated)\n   - Can reply to announcements (when authenticated)\n   - Must be approved by super admin to access features\n\n## Community Features\n\n### 1. Polls System\n- **Public Access**: Anyone can view polls\n- **Authentication Required**: Users must sign in to vote\n- **Admin Management**: Coordinators and super admins can create/edit/delete polls\n- **Features**:\n  - Multiple choice options\n  - Active/Inactive status\n  - Vote tracking\n  - One vote per user per poll\n\n### 2. Announcements System\n- **Public Access**: Anyone can view announcements\n- **Authentication Required**: Users must sign in to reply\n- **Admin Management**: Coordinators and super admins can create/edit/delete announcements\n- **Features**:\n  - Important announcements (highlighted)\n  - Reply system for community engagement\n  - Rich text content\n\n### 3. Course Library\n- **Authentication Required**: Only approved users can access\n- **Admin Management**: Coordinators and super admins can add/edit/delete courses\n- **Features**:\n  - Course images and descriptions\n  - Direct access URLs\n  - Active/Inactive status\n  - Organized grid layout\n\n## Authentication System\n\n### Current Implementation\n- **Mock Authentication**: Simple localStorage-based system for development\n- **Admin Login**: Username/password system for admin access\n- **Session Management**: Bearer token-based API authentication\n\n### Future Integration\n- **Clerk Integration**: Ready for Clerk authentication system\n- **User Approval**: Super admins can approve users after CSV import\n- **Role Management**: Dynamic role assignment and permissions\n\n## API Endpoints\n\n### Public Endpoints\n- `GET /api/polls` - List all polls\n- `GET /api/polls/:id` - Get poll with responses\n- `GET /api/announcements` - List all announcements\n- `GET /api/announcements/:id` - Get announcement with replies\n- `GET /api/course-library` - List all courses\n- `GET /api/course-library/:id` - Get specific course\n\n### Authenticated Endpoints\n- `POST /api/polls/:id/respond` - Vote in a poll\n- `POST /api/announcements/:id/reply` - Reply to announcement\n\n### Admin Endpoints\n- `POST /api/admin/polls` - Create poll\n- `PATCH /api/admin/polls/:id` - Update poll\n- `DELETE /api/admin/polls/:id` - Delete poll\n- `POST /api/admin/announcements` - Create announcement\n- `PATCH /api/admin/announcements/:id` - Update announcement\n- `DELETE /api/admin/announcements/:id` - Delete announcement\n- `POST /api/admin/course-library` - Add course\n- `PATCH /api/admin/course-library/:id` - Update course\n- `DELETE /api/admin/course-library/:id` - Delete course\n- `POST /api/admin/users/bulk` - Bulk import users\n- `PATCH /api/admin/users/:id/approve` - Approve user\n\n## Database Schema\n\n### New Tables\n1. **users** - User accounts with roles and approval status\n2. **polls** - Poll questions and options\n3. **poll_responses** - User votes on polls\n4. **announcements** - Community announcements\n5. **announcement_replies** - User replies to announcements\n6. **course_library** - Course materials and access URLs\n\n### Key Fields\n- **Role-based access**: `role` field (user, coordinator, super_admin)\n- **Approval system**: `isApproved` field for user access control\n- **Audit trail**: `createdAt`, `updatedAt` timestamps\n- **Content management**: Rich text and media support\n\n## Frontend Components\n\n### New Pages\n1. **Community Page** (`/community`)\n   - Tabs for polls, announcements, and course library\n   - Authentication-aware content display\n   - Interactive voting and reply systems\n\n2. **Community Management** (`/admin/community`)\n   - Admin interface for managing all community content\n   - Tabbed interface for different content types\n   - CRUD operations for polls, announcements, and courses\n\n### Components\n1. **CSV Upload** - Bulk user import functionality\n2. **Auth Context** - Authentication state management\n3. **Role Guards** - Permission-based access control\n\n## Usage Instructions\n\n### For Super Admins\n1. **User Management**:\n   - Use CSV upload to bulk import users\n   - Approve users individually or in bulk\n   - Monitor user activity and engagement\n\n2. **Content Management**:\n   - Create engaging polls for community feedback\n   - Post important announcements\n   - Build comprehensive course library\n\n### For Coordinators\n1. **Community Engagement**:\n   - Create polls to gather community input\n   - Post regular announcements\n   - Add relevant course materials\n\n### For Users\n1. **Participation**:\n   - Sign in to access full features\n   - Vote in active polls\n   - Reply to announcements\n   - Access course library\n\n## Security Features\n\n### Access Control\n- **Role-based permissions**: Different access levels for different roles\n- **Authentication required**: Sensitive operations require user authentication\n- **Admin verification**: User approval system prevents unauthorized access\n\n### Data Validation\n- **Input sanitization**: All user inputs are validated and sanitized\n- **Schema validation**: Zod schemas ensure data integrity\n- **API protection**: Rate limiting and input validation on all endpoints\n\n## Future Enhancements\n\n### Planned Features\n1. **Real-time Updates**: WebSocket integration for live community updates\n2. **Advanced Analytics**: Poll results and engagement metrics\n3. **Content Moderation**: Automated and manual content filtering\n4. **Mobile App**: Native mobile application for community engagement\n5. **Integration**: Slack/Discord bot integration for notifications\n\n### Clerk Integration\n1. **User Authentication**: Replace mock system with Clerk\n2. **Social Login**: Google, GitHub, and other OAuth providers\n3. **User Profiles**: Rich user profiles with avatars and preferences\n4. **Multi-factor Authentication**: Enhanced security for admin accounts\n\n## Development Notes\n\n### Current Status\n- ✅ Backend API implementation complete\n- ✅ Database schema and storage layer complete\n- ✅ Frontend components and pages complete\n- ✅ Basic authentication system implemented\n- ✅ Role-based access control implemented\n\n### Known Issues\n- Mock authentication system (temporary for development)\n- Basic error handling (can be enhanced)\n- Limited real-time features (planned for future)\n\n### Testing\n- Test all CRUD operations for community content\n- Verify role-based access control\n- Test CSV upload functionality\n- Verify authentication flows\n\n## Conclusion\n\nThe community features and role-based system provide a solid foundation for community engagement while maintaining security and access control. The system is designed to be scalable and can easily integrate with external authentication providers like Clerk in the future.\n","size_bytes":7310},"README.md":{"content":"LODA LASAN\nBhadwa College\n","size_bytes":26},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"replit.md":{"content":"# Overview\n\nThis project is a modern web application for the Innovare Technical Club, built as a full-stack application showcasing the club's activities, events, team members, and gallery. The application features a React frontend with a Node.js/Express backend, designed to provide an engaging user experience with interactive 3D elements and responsive design.\n\n# User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n# System Architecture\n\n## Frontend Architecture\nThe frontend is built using **React 18** with **TypeScript** and follows a component-based architecture:\n\n- **Build Tool**: Vite for fast development and optimized production builds\n- **UI Framework**: shadcn/ui components built on top of Radix UI primitives\n- **Styling**: Tailwind CSS with custom design tokens for consistent theming\n- **Routing**: Wouter for lightweight client-side routing\n- **State Management**: TanStack React Query for server state management\n- **3D Graphics**: Spline viewer integration for interactive 3D elements\n- **Forms**: React Hook Form with Zod validation schemas\n\nThe frontend follows a page-based structure with reusable components, custom hooks for common functionality, and a responsive design system.\n\n## Backend Architecture\nThe backend is built with **Express.js** and follows a RESTful API pattern:\n\n- **Runtime**: Node.js with TypeScript and ES modules\n- **Framework**: Express.js with middleware for JSON parsing and request logging\n- **API Design**: RESTful endpoints for events, team members, and gallery resources\n- **Error Handling**: Centralized error handling middleware\n- **Development**: Hot reload with Vite integration in development mode\n\nThe backend uses an in-memory storage implementation with an interface-based design that allows for easy migration to database storage.\n\n## Data Layer\nThe application uses **Drizzle ORM** with **PostgreSQL** for data persistence:\n\n- **Database**: PostgreSQL with Neon Database integration\n- **ORM**: Drizzle ORM for type-safe database operations\n- **Schema**: Defined database tables for events, team members, and gallery images\n- **Validation**: Zod schemas for runtime type validation and form validation\n- **Migrations**: Drizzle Kit for database schema migrations\n\nThe data layer includes proper TypeScript types generated from the database schema and validation schemas for API endpoints.\n\n## Development Workflow\nThe project uses a monorepo structure with shared TypeScript configuration:\n\n- **Shared Types**: Common schemas and types shared between frontend and backend\n- **Path Aliases**: Configured for clean imports and better developer experience\n- **Development Server**: Vite dev server with Express backend integration\n- **Build Process**: Separate build steps for frontend (Vite) and backend (esbuild)\n\n## Design System\nThe application implements a custom design system with:\n\n- **Typography**: Multiple font families (Inter, JetBrains Mono, Fira Code)\n- **Color Palette**: Tech-focused color scheme with CSS custom properties\n- **Components**: Comprehensive UI component library with consistent styling\n- **Responsive Design**: Mobile-first approach with responsive breakpoints\n- **Animations**: CSS animations and scroll-based interactions\n\n# External Dependencies\n\n## Core Framework Dependencies\n- **@neondatabase/serverless**: PostgreSQL database connection for serverless environments\n- **drizzle-orm**: Type-safe ORM for database operations\n- **express**: Web application framework for the backend API\n- **react**: Frontend framework for building user interfaces\n- **vite**: Build tool and development server\n\n## UI and Styling\n- **@radix-ui/***: Headless UI components for accessibility and functionality\n- **tailwindcss**: Utility-first CSS framework\n- **class-variance-authority**: Utility for creating variant-based component APIs\n- **lucide-react**: Icon library for consistent iconography\n\n## State Management and Forms\n- **@tanstack/react-query**: Server state management and caching\n- **react-hook-form**: Form state management and validation\n- **@hookform/resolvers**: Resolvers for form validation schemas\n- **zod**: Schema validation library\n\n## Development Tools\n- **typescript**: Static type checking\n- **@types/node**: Node.js type definitions\n- **tsx**: TypeScript execution environment\n- **drizzle-kit**: Database migration and introspection tools\n\n## 3D Graphics and Animations\n- **@splinetool/viewer**: 3D scene viewer for interactive graphics\n- **wouter**: Lightweight routing library for React\n\n## Additional Utilities\n- **clsx**: Utility for conditional CSS classes\n- **date-fns**: Date manipulation and formatting\n- **nanoid**: Unique ID generation\n- **cmdk**: Command palette component","size_bytes":4713},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      colors: {\n        background: \"var(--background)\",\n        foreground: \"var(--foreground)\",\n        card: {\n          DEFAULT: \"var(--card)\",\n          foreground: \"var(--card-foreground)\",\n        },\n        popover: {\n          DEFAULT: \"var(--popover)\",\n          foreground: \"var(--popover-foreground)\",\n        },\n        primary: {\n          DEFAULT: \"var(--primary)\",\n          foreground: \"var(--primary-foreground)\",\n        },\n        secondary: {\n          DEFAULT: \"var(--secondary)\",\n          foreground: \"var(--secondary-foreground)\",\n        },\n        muted: {\n          DEFAULT: \"var(--muted)\",\n          foreground: \"var(--muted-foreground)\",\n        },\n        accent: {\n          DEFAULT: \"var(--accent)\",\n          foreground: \"var(--accent-foreground)\",\n        },\n        destructive: {\n          DEFAULT: \"var(--destructive)\",\n          foreground: \"var(--destructive-foreground)\",\n        },\n        border: \"var(--border)\",\n        input: \"var(--input)\",\n        ring: \"var(--ring)\",\n        chart: {\n          \"1\": \"var(--chart-1)\",\n          \"2\": \"var(--chart-2)\",\n          \"3\": \"var(--chart-3)\",\n          \"4\": \"var(--chart-4)\",\n          \"5\": \"var(--chart-5)\",\n        },\n        sidebar: {\n          DEFAULT: \"var(--sidebar-background)\",\n          foreground: \"var(--sidebar-foreground)\",\n          primary: \"var(--sidebar-primary)\",\n          \"primary-foreground\": \"var(--sidebar-primary-foreground)\",\n          accent: \"var(--sidebar-accent)\",\n          \"accent-foreground\": \"var(--sidebar-accent-foreground)\",\n          border: \"var(--sidebar-border)\",\n          ring: \"var(--sidebar-ring)\",\n        },\n        \"tech-blue\": \"var(--tech-blue)\",\n        \"tech-green\": \"var(--tech-green)\",\n        \"tech-dark\": \"var(--tech-dark)\",\n        \"tech-grey\": \"var(--tech-grey)\",\n        \"tech-light\": \"var(--tech-light)\",\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        mono: [\"var(--font-mono)\"],\n        code: [\"var(--font-code)\"],\n        tech: [\"var(--font-tech)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: {\n            height: \"0\",\n          },\n          to: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n        },\n        \"accordion-up\": {\n          from: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n          to: {\n            height: \"0\",\n          },\n        },\n        fadeIn: {\n          from: {\n            opacity: \"0\",\n            transform: \"translateY(20px)\",\n          },\n          to: {\n            opacity: \"1\",\n            transform: \"translateY(0)\",\n          },\n        },\n        slideUp: {\n          from: {\n            opacity: \"0\",\n            transform: \"translateY(40px)\",\n          },\n          to: {\n            opacity: \"1\",\n            transform: \"translateY(0)\",\n          },\n        },\n        float: {\n          \"0%, 100%\": {\n            transform: \"translateY(0px)\",\n          },\n          \"50%\": {\n            transform: \"translateY(-10px)\",\n          },\n        },\n        slideInFromLeft: {\n          from: {\n            opacity: \"0\",\n            transform: \"translateX(-50px)\",\n          },\n          to: {\n            opacity: \"1\",\n            transform: \"translateX(0)\",\n          },\n        },\n        slideInFromRight: {\n          from: {\n            opacity: \"0\",\n            transform: \"translateX(50px)\",\n          },\n          to: {\n            opacity: \"1\",\n            transform: \"translateX(0)\",\n          },\n        },\n        scaleIn: {\n          from: {\n            opacity: \"0\",\n            transform: \"scale(0.95)\",\n          },\n          to: {\n            opacity: \"1\",\n            transform: \"scale(1)\",\n          },\n        },\n        bounceIn: {\n          \"0%\": {\n            opacity: \"0\",\n            transform: \"scale(0.3)\",\n          },\n          \"50%\": {\n            opacity: \"1\",\n            transform: \"scale(1.05)\",\n          },\n          \"70%\": {\n            transform: \"scale(0.9)\",\n          },\n          \"100%\": {\n            opacity: \"1\",\n            transform: \"scale(1)\",\n          },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n        \"fade-in\": \"fadeIn 0.8s ease-in-out\",\n        \"slide-up\": \"slideUp 0.6s ease-out\",\n        \"slide-left\": \"slideInFromLeft 0.8s ease-out\",\n        \"slide-right\": \"slideInFromRight 0.8s ease-out\",\n        \"scale-in\": \"scaleIn 0.6s ease-out\",\n        \"bounce-in\": \"bounceIn 0.8s ease-out\",\n        float: \"float 3s ease-in-out infinite\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":5051},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":971},"server/db.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\nimport \"dotenv/config\"\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });\n","size_bytes":505},"server/index.ts":{"content":"import \"dotenv/config\"\nimport express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"…\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\nconst host = process.env.HOST || (process.platform === 'win32' ? '127.0.0.1' : '0.0.0.0');\nconst useReusePort = process.env.NODE_ENV === 'production' && process.platform !== 'win32';\n\nconst listenOptions: any = {\n  port,\n  host,\n};\n\nif (useReusePort) {\n  listenOptions.reusePort = true;\n}\n\nserver.listen(listenOptions, () => {\n  log(`serving on ${host}:${port}`);\n});\n})();\n","size_bytes":2331},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { insertEventSchema, insertTeamMemberSchema, insertGalleryImageSchema, insertRegistrationSchema, insertAboutContentSchema, insertPollSchema, insertAnnouncementSchema, insertCourseLibrarySchema, insertPollResponseSchema, insertAnnouncementReplySchema, insertTechnofestSchema, insertTechfestRegistrationSchema, insertRegistrationMemberSchema } from \"@shared/schema\";\n\n// Simple session storage for demo (use proper sessions in production)\nconst adminSessions = new Map<string, { id: string; username: string; email: string }>();\n\n// Middleware to check admin authentication\nconst requireAuth = (req: any, res: any, next: any) => {\n  const sessionId = req.headers.authorization?.replace('Bearer ', '');\n  if (!sessionId || !adminSessions.has(sessionId)) {\n    return res.status(401).json({ message: \"Unauthorized\" });\n  }\n  next();\n};\n\n// Middleware to check coordinator or super admin access\nconst requireCoordinatorOrSuperAdmin = (req: any, res: any, next: any) => {\n  const sessionId = req.headers.authorization?.replace('Bearer ', '');\n  if (!sessionId || !adminSessions.has(sessionId)) {\n    return res.status(401).json({ message: \"Unauthorized\" });\n  }\n  // For now, we'll allow all authenticated admins to access coordinator features\n  // In a real implementation, you'd check the user's role from the session\n  next();\n};\n\n// Middleware to check super admin access only\nconst requireSuperAdmin = (req: any, res: any, next: any) => {\n  const sessionId = req.headers.authorization?.replace('Bearer ', '');\n  if (!sessionId || !adminSessions.has(sessionId)) {\n    return res.status(401).json({ message: \"Unauthorized\" });\n  }\n  // For now, we'll allow all authenticated admins to access super admin features\n  // In a real implementation, you'd check the user's role from the session\n  next();\n};\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // Public APIs\n  app.get(\"/api/events\", async (req, res) => {\n    try {\n      const events = await storage.getEvents();\n      res.json(events);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch events\" });\n    }\n  });\n\n  app.get(\"/api/events/:id\", async (req, res) => {\n    try {\n      const event = await storage.getEvent(req.params.id);\n      if (!event) {\n        return res.status(404).json({ message: \"Event not found\" });\n      }\n      res.json(event);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch event\" });\n    }\n  });\n\n  app.get(\"/api/team\", async (req, res) => {\n    try {\n      const members = await storage.getTeamMembers();\n      res.json(members);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch team members\" });\n    }\n  });\n\n  app.get(\"/api/gallery\", async (req, res) => {\n    try {\n      const images = await storage.getGalleryImages();\n      res.json(images);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch gallery images\" });\n    }\n  });\n\n  app.get(\"/api/about\", async (req, res) => {\n    try {\n      const content = await storage.getAboutContent();\n      res.json(content);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch about content\" });\n    }\n  });\n\n  // Registration API\n  app.post(\"/api/events/:id/register\", async (req, res) => {\n    try {\n      const validatedData = insertRegistrationSchema.parse({\n        ...req.body,\n        eventId: req.params.id\n      });\n      const registration = await storage.createRegistration(validatedData);\n      res.json(registration);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid registration data\" });\n    }\n  });\n\n  // New Community APIs (Public read access)\n  app.get(\"/api/polls\", async (req, res) => {\n    try {\n      const polls = await storage.getPolls();\n      res.json(polls);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch polls\" });\n    }\n  });\n\n  app.get(\"/api/polls/:id\", async (req, res) => {\n    try {\n      const pollWithResponses = await storage.getPollWithResponses(req.params.id);\n      if (!pollWithResponses) {\n        return res.status(404).json({ message: \"Poll not found\" });\n      }\n      res.json(pollWithResponses);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch poll\" });\n    }\n  });\n\n  app.get(\"/api/announcements\", async (req, res) => {\n    try {\n      const announcements = await storage.getAnnouncements();\n      res.json(announcements);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch announcements\" });\n    }\n  });\n\n  app.get(\"/api/announcements/:id\", async (req, res) => {\n    try {\n      const announcement = await storage.getAnnouncement(req.params.id);\n      if (!announcement) {\n        return res.status(404).json({ message: \"Announcement not found\" });\n      }\n      const replies = await storage.getAnnouncementReplies(req.params.id);\n      res.json({ ...announcement, replies });\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch announcement\" });\n    }\n  });\n\n  app.get(\"/api/course-library\", async (req, res) => {\n    try {\n      const courses = await storage.getCourseLibrary();\n      res.json(courses);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch course library\" });\n    }\n  });\n\n  app.get(\"/api/course-library/:id\", async (req, res) => {\n    try {\n      const course = await storage.getCourse(req.params.id);\n      if (!course) {\n        return res.status(404).json({ message: \"Course not found\" });\n      }\n      res.json(course);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch course\" });\n    }\n  });\n\n  // User Authentication\n  app.post(\"/api/user/login\", async (req, res) => {\n    try {\n      const { username, password } = req.body;\n      console.log(`Login attempt for username: ${username}`);\n      \n      const user = await storage.authenticateUser(username, password);\n      \n      if (!user) {\n        console.log(`Login failed for username: ${username}`);\n        return res.status(401).json({ message: \"Invalid credentials or user not approved\" });\n      }\n\n      const sessionId = `user_session_${Date.now()}_${Math.random()}`;\n      adminSessions.set(sessionId, { \n        id: user.id, \n        username: user.username, \n        email: user.email,\n        role: user.role \n      });\n      \n      console.log(`Login successful for username: ${username}`);\n      res.json({ \n        token: sessionId, \n        user: { \n          id: user.id, \n          username: user.username, \n          email: user.email,\n          role: user.role,\n          isApproved: user.isApproved\n        } \n      });\n    } catch (error) {\n      console.error(\"User login error:\", error);\n      res.status(500).json({ message: \"Login failed\" });\n    }\n  });\n\n  // Debug route to check available users (remove in production)\n  app.get(\"/api/debug/users\", async (req, res) => {\n    try {\n      const users = await storage.getUsers();\n      res.json(users.map(user => ({\n        id: user.id,\n        username: user.username,\n        email: user.email,\n        role: user.role,\n        isApproved: user.isApproved\n      })));\n    } catch (error) {\n      console.error(\"Debug users error:\", error);\n      res.status(500).json({ message: \"Failed to fetch users\" });\n    }\n  });\n\n  // User Registration Request\n  app.post(\"/api/user/register\", async (req, res) => {\n    try {\n      const { username, email, password } = req.body;\n      \n      // Check if user already exists\n      const existingUser = await storage.getUserByUsername(username);\n      if (existingUser) {\n        return res.status(400).json({ message: \"Username already exists\" });\n      }\n\n      const existingEmail = await storage.getUserByEmail(email);\n      if (existingEmail) {\n        return res.status(400).json({ message: \"Email already exists\" });\n      }\n\n             // Create user with pending approval\n       const newUser = await storage.createUser({\n         username,\n         email,\n         password,\n         role: \"user\",\n         isApproved: false\n       });\n\n      res.json({ \n        message: \"Registration request submitted successfully. Please wait for admin approval.\",\n        user: {\n          id: newUser.id,\n          username: newUser.username,\n          email: newUser.email,\n          isApproved: newUser.isApproved\n        }\n      });\n    } catch (error) {\n      console.error(\"User registration error:\", error);\n      res.status(500).json({ message: \"Registration failed\" });\n    }\n  });\n\n  // Admin Authentication\n  app.post(\"/api/admin/login\", async (req, res) => {\n    try {\n      const { username, password } = req.body;\n      const admin = await storage.getAdminByUsername(username);\n      \n      if (!admin || admin.password !== password) {\n        return res.status(401).json({ message: \"Invalid credentials\" });\n      }\n\n      const sessionId = `session_${Date.now()}_${Math.random()}`;\n      adminSessions.set(sessionId, { id: admin.id, username: admin.username, email: admin.email });\n      \n      res.json({ token: sessionId, admin: { id: admin.id, username: admin.username, email: admin.email } });\n    } catch (error) {\n      console.error(\"Login error:\", error);\n      res.status(500).json({ message: \"Login failed\" });\n    }\n  });\n\n  app.post(\"/api/admin/logout\", requireAuth, (req, res) => {\n    const sessionId = req.headers.authorization?.replace('Bearer ', '');\n    if (sessionId) {\n      adminSessions.delete(sessionId);\n    }\n    res.json({ message: \"Logged out successfully\" });\n  });\n\n  // Users (Super Admin)\n  app.get(\"/api/admin/users\", requireSuperAdmin, async (req, res) => {\n    try {\n      const users = await storage.getUsers();\n      res.json(users);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch users\" });\n    }\n  });\n\n  app.patch(\"/api/admin/users/:id/approve\", requireSuperAdmin, async (req, res) => {\n    try {\n      const user = await storage.approveUser(req.params.id);\n      if (!user) {\n        return res.status(404).json({ message: \"User not found\" });\n      }\n      res.json(user);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to approve user\" });\n    }\n  });\n\n  app.post(\"/api/admin/users/bulk\", requireSuperAdmin, async (req, res) => {\n    try {\n      const { users } = req.body;\n      if (!Array.isArray(users)) {\n        return res.status(400).json({ message: \"Users must be an array\" });\n      }\n      const created = await storage.bulkCreateUsers(users);\n      res.json({ count: created.length, users: created });\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to create users\" });\n    }\n  });\n\n  // Admin APIs\n  app.get(\"/api/admin/registrations\", requireAuth, async (req, res) => {\n    try {\n      const [regularRegistrations, techfestRegistrations] = await Promise.all([\n        storage.getRegistrations(),\n        storage.getTechfestRegistrations()\n      ]);\n      \n      // Combine and format all registrations\n      const allRegistrations = [\n        ...regularRegistrations.map(reg => ({\n          ...reg,\n          type: 'regular',\n          eventType: 'Event'\n        })),\n        ...techfestRegistrations.map(reg => ({\n          ...reg,\n          type: 'techfest',\n          eventType: 'TechFest',\n          name: reg.teamName,\n          email: reg.contactEmail,\n          eventId: reg.technofestId,\n          status: 'pending' // TechFest registrations don't have status by default\n        }))\n      ];\n      \n      res.json(allRegistrations);\n    } catch (error) {\n      console.error('Failed to fetch registrations:', error);\n      res.status(500).json({ message: \"Failed to fetch registrations\" });\n    }\n  });\n\n  app.patch(\"/api/admin/registrations/:id/status\", requireAuth, async (req, res) => {\n    try {\n      const registration = await storage.updateRegistrationStatus(req.params.id, req.body.status);\n      if (!registration) {\n        return res.status(404).json({ message: \"Registration not found\" });\n      }\n      res.json(registration);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to update registration\" });\n    }\n  });\n\n  app.get(\"/api/admin/registrations/csv\", requireAuth, async (req, res) => {\n    try {\n      const [regularRegistrations, techfestRegistrations] = await Promise.all([\n        storage.getRegistrations(),\n        storage.getTechfestRegistrations()\n      ]);\n      \n      // Combine and format all registrations for CSV\n      const allRegistrations = [\n        ...regularRegistrations.map(reg => ({\n          name: reg.name,\n          email: reg.email,\n          phone: reg.phone || '',\n          eventId: reg.eventId,\n          eventType: 'Event',\n          status: reg.status || 'pending',\n          createdAt: reg.createdAt\n        })),\n        ...techfestRegistrations.map(reg => ({\n          name: reg.teamName,\n          email: reg.contactEmail,\n          phone: reg.contactPhone || '',\n          eventId: reg.technofestId,\n          eventType: 'TechFest',\n          status: 'pending',\n          createdAt: reg.createdAt\n        }))\n      ];\n      \n      // CSV header\n      const headers = ['Name', 'Email', 'Phone', 'Event ID', 'Event Type', 'Status', 'Registration Date'];\n      let csvContent = headers.join(',') + '\\n';\n      \n      // CSV rows\n      for (const registration of allRegistrations) {\n        const row = [\n          `\"${registration.name || ''}\"`,\n          `\"${registration.email || ''}\"`,\n          `\"${registration.phone || ''}\"`,\n          `\"${registration.eventId || ''}\"`,\n          `\"${registration.eventType || ''}\"`,\n          `\"${registration.status || 'pending'}\"`,\n          `\"${registration.createdAt ? new Date(registration.createdAt).toISOString().split('T')[0] : ''}\"`\n        ];\n        csvContent += row.join(',') + '\\n';\n      }\n      \n      res.setHeader('Content-Type', 'text/csv');\n      res.setHeader('Content-Disposition', 'attachment; filename=\"registrations.csv\"');\n      res.send(csvContent);\n    } catch (error) {\n      console.error('CSV export error:', error);\n      res.status(500).json({ message: \"Failed to export CSV\" });\n    }\n  });\n\n  // Admin Events\n  app.post(\"/api/admin/events\", requireAuth, async (req, res) => {\n    try {\n      const validatedData = insertEventSchema.parse(req.body);\n      const event = await storage.createEvent(validatedData);\n      res.json(event);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid event data\" });\n    }\n  });\n\n  app.patch(\"/api/events/:id\", requireAuth, async (req, res) => {\n    try {\n      const event = await storage.updateEvent(req.params.id, req.body);\n      if (!event) {\n        return res.status(404).json({ message: \"Event not found\" });\n      }\n      res.json(event);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to update event\" });\n    }\n  });\n\n  app.delete(\"/api/events/:id\", requireAuth, async (req, res) => {\n    try {\n      const deleted = await storage.deleteEvent(req.params.id);\n      if (!deleted) {\n        return res.status(404).json({ message: \"Event not found\" });\n      }\n      res.json({ message: \"Event deleted successfully\" });\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete event\" });\n    }\n  });\n\n  // Admin Team Members\n  app.post(\"/api/team\", requireAuth, async (req, res) => {\n    try {\n      const validatedData = insertTeamMemberSchema.parse(req.body);\n      const member = await storage.createTeamMember(validatedData);\n      res.json(member);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid team member data\" });\n    }\n  });\n\n  app.patch(\"/api/team/:id\", requireAuth, async (req, res) => {\n    try {\n      const member = await storage.updateTeamMember(req.params.id, req.body);\n      if (!member) {\n        return res.status(404).json({ message: \"Team member not found\" });\n      }\n      res.json(member);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to update team member\" });\n    }\n  });\n\n  app.delete(\"/api/team/:id\", requireAuth, async (req, res) => {\n    try {\n      const deleted = await storage.deleteTeamMember(req.params.id);\n      if (!deleted) {\n        return res.status(404).json({ message: \"Team member not found\" });\n      }\n      res.json({ message: \"Team member deleted successfully\" });\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete team member\" });\n    }\n  });\n\n  // Admin Gallery\n  app.post(\"/api/gallery\", requireAuth, async (req, res) => {\n    try {\n      const validatedData = insertGalleryImageSchema.parse(req.body);\n      const image = await storage.createGalleryImage(validatedData);\n      res.json(image);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid gallery image data\" });\n    }\n  });\n\n  app.delete(\"/api/gallery/:id\", requireAuth, async (req, res) => {\n    try {\n      const deleted = await storage.deleteGalleryImage(req.params.id);\n      if (!deleted) {\n        return res.status(404).json({ message: \"Gallery image not found\" });\n      }\n      res.json({ message: \"Gallery image deleted successfully\" });\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete gallery image\" });\n    }\n  });\n\n  // Admin About Content\n  app.patch(\"/api/admin/about/:section\", requireAuth, async (req, res) => {\n    try {\n      const validatedData = insertAboutContentSchema.parse(req.body);\n      const content = await storage.updateAboutContent(req.params.section, validatedData);\n      res.json(content);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid about content data\" });\n    }\n  });\n\n  // New Admin APIs for role-based system\n  // Poll Management (Coordinator and Super Admin)\n  app.post(\"/api/admin/polls\", requireCoordinatorOrSuperAdmin, async (req, res) => {\n    try {\n      // Get admin info from the session\n      const sessionId = req.headers.authorization?.replace('Bearer ', '');\n      const admin = adminSessions.get(sessionId);\n      \n      if (!admin) {\n        return res.status(401).json({ message: \"Admin session not found\" });\n      }\n\n      // Add createdBy field to the request body\n      const pollData = {\n        ...req.body,\n        createdBy: admin.id // Use admin ID as createdBy\n      };\n\n      const validatedData = insertPollSchema.parse(pollData);\n      const poll = await storage.createPoll(validatedData);\n      res.json(poll);\n    } catch (error: any) {\n      console.error(\"Poll creation error:\", error);\n      res.status(400).json({ \n        message: \"Invalid poll data\", \n        details: error.errors || error.message \n      });\n    }\n  });\n\n  app.patch(\"/api/admin/polls/:id\", requireCoordinatorOrSuperAdmin, async (req, res) => {\n    try {\n      const poll = await storage.updatePoll(req.params.id, req.body);\n      if (!poll) {\n        return res.status(404).json({ message: \"Poll not found\" });\n      }\n      res.json(poll);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to update poll\" });\n    }\n  });\n\n  app.delete(\"/api/admin/polls/:id\", requireCoordinatorOrSuperAdmin, async (req, res) => {\n    try {\n      const deleted = await storage.deletePoll(req.params.id);\n      if (!deleted) {\n        return res.status(404).json({ message: \"Poll not found\" });\n      }\n      res.json({ message: \"Poll deleted successfully\" });\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete poll\" });\n    }\n  });\n\n  // Announcement Management (Coordinator and Super Admin)\n  app.post(\"/api/admin/announcements\", requireCoordinatorOrSuperAdmin, async (req, res) => {\n    try {\n      // Get admin info from the session\n      const sessionId = req.headers.authorization?.replace('Bearer ', '');\n      const admin = adminSessions.get(sessionId);\n      \n      if (!admin) {\n        return res.status(401).json({ message: \"Admin session not found\" });\n      }\n\n      // Add createdBy field to the request body\n      const announcementData = {\n        ...req.body,\n        createdBy: admin.id // Use admin ID as createdBy\n      };\n\n      const validatedData = insertAnnouncementSchema.parse(announcementData);\n      const announcement = await storage.createAnnouncement(validatedData);\n      res.json(announcement);\n    } catch (error: any) {\n      console.error(\"Announcement creation error:\", error);\n      res.status(400).json({ \n        message: \"Invalid announcement data\", \n        details: error.errors || error.message \n      });\n    }\n  });\n\n  app.patch(\"/api/admin/announcements/:id\", requireCoordinatorOrSuperAdmin, async (req, res) => {\n    try {\n      const announcement = await storage.updateAnnouncement(req.params.id, req.body);\n      if (!announcement) {\n        return res.status(404).json({ message: \"Announcement not found\" });\n      }\n      res.json(announcement);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to update announcement\" });\n    }\n  });\n\n  app.delete(\"/api/admin/announcements/:id\", requireCoordinatorOrSuperAdmin, async (req, res) => {\n    try {\n      const deleted = await storage.deleteAnnouncement(req.params.id);\n      if (!deleted) {\n        return res.status(404).json({ message: \"Announcement not found\" });\n      }\n      res.json({ message: \"Announcement deleted successfully\" });\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete announcement\" });\n    }\n  });\n\n  // Course Library Management (Coordinator and Super Admin)\n  app.post(\"/api/admin/course-library\", requireCoordinatorOrSuperAdmin, async (req, res) => {\n    try {\n      // Get admin info from the session\n      const sessionId = req.headers.authorization?.replace('Bearer ', '');\n      const admin = adminSessions.get(sessionId);\n      \n      if (!admin) {\n        return res.status(401).json({ message: \"Admin session not found\" });\n      }\n\n      // Add createdBy field to the request body\n      const courseData = {\n        ...req.body,\n        createdBy: admin.id // Use admin ID as createdBy\n      };\n\n      const validatedData = insertCourseLibrarySchema.parse(courseData);\n      const course = await storage.createCourse(validatedData);\n      res.json(course);\n    } catch (error: any) {\n      console.error(\"Course creation error:\", error);\n      res.status(400).json({ \n        message: \"Invalid course data\", \n        details: error.errors || error.message \n      });\n    }\n  });\n\n  // TechFest APIs\n  app.get(\"/api/technofest\", async (req, res) => {\n    try {\n      const events = await storage.getTechnofestEvents();\n      res.json(events);\n    } catch (error) {\n      console.error(\"TechFest events fetch error:\", error);\n      res.status(500).json({ message: \"Failed to fetch technofest events\" });\n    }\n  });\n\n  app.get(\"/api/technofest/:id\", async (req, res) => {\n    try {\n      const event = await storage.getTechnofestEvent(req.params.id);\n      if (!event) {\n        return res.status(404).json({ message: \"TechFest event not found\" });\n      }\n      res.json(event);\n    } catch (error) {\n      console.error(\"TechFest event fetch error:\", error);\n      res.status(500).json({ message: \"Failed to fetch technofest event\" });\n    }\n  });\n\n\n  // Admin TechFest Management\n  app.post(\"/api/admin/technofest\", requireAuth, async (req, res) => {\n    try {\n      const validatedData = insertTechnofestSchema.parse(req.body);\n      const event = await storage.createTechnofestEvent(validatedData);\n      \n      // Create Spline component if URL is provided\n      if (event.spline_right_url) {\n        try {\n          const { componentGenerator } = await import(\"./component-generator\");\n          await componentGenerator.createSplineComponent(event.name, event.spline_right_url);\n          console.log(`Created Spline component for event: ${event.name}`);\n        } catch (componentError) {\n          console.warn(`Failed to create component for event ${event.name}:`, componentError);\n        }\n      }\n      \n      res.json(event);\n    } catch (error: any) {\n      console.error(\"TechFest event creation error:\", error);\n      res.status(400).json({ \n        message: \"Invalid technofest event data\", \n        details: error.errors || error.message \n      });\n    }\n  });\n\n  app.patch(\"/api/admin/technofest/:id\", requireAuth, async (req, res) => {\n    try {\n      const oldEvent = await storage.getTechnofestEvent(req.params.id);\n      const event = await storage.updateTechnofestEvent(req.params.id, req.body);\n      if (!event) {\n        return res.status(404).json({ message: \"TechFest event not found\" });\n      }\n      \n      // Handle Spline component updates\n      if (event.spline_right_url !== oldEvent?.spline_right_url) {\n        try {\n          const { componentGenerator } = await import(\"./component-generator\");\n          \n          // Delete old component if name changed or no URL\n          if (oldEvent && (event.name !== oldEvent.name || !event.spline_right_url)) {\n            await componentGenerator.deleteSplineComponent(oldEvent.name);\n          }\n          \n          // Create new component if URL provided\n          if (event.spline_right_url) {\n            await componentGenerator.createSplineComponent(event.name, event.spline_right_url);\n            console.log(`Updated Spline component for event: ${event.name}`);\n          }\n        } catch (componentError) {\n          console.warn(`Failed to update component for event ${event.name}:`, componentError);\n        }\n      }\n      \n      res.json(event);\n    } catch (error) {\n      console.error(\"TechFest event update error:\", error);\n      res.status(500).json({ message: \"Failed to update technofest event\" });\n    }\n  });\n\n  app.delete(\"/api/admin/technofest/:id\", requireAuth, async (req, res) => {\n    try {\n      // Get event details before deletion for component cleanup\n      const event = await storage.getTechnofestEvent(req.params.id);\n      const deleted = await storage.deleteTechnofestEvent(req.params.id);\n      if (!deleted) {\n        return res.status(404).json({ message: \"TechFest event not found\" });\n      }\n      \n      // Delete associated Spline component\n      if (event) {\n        try {\n          const { componentGenerator } = await import(\"./component-generator\");\n          await componentGenerator.deleteSplineComponent(event.name);\n          console.log(`Deleted Spline component for event: ${event.name}`);\n        } catch (componentError) {\n          console.warn(`Failed to delete component for event ${event.name}:`, componentError);\n        }\n      }\n      \n      res.json({ message: \"TechFest event deleted successfully\" });\n    } catch (error) {\n      console.error(\"TechFest event deletion error:\", error);\n      res.status(500).json({ message: \"Failed to delete technofest event\" });\n    }\n  });\n\n  app.patch(\"/api/admin/course-library/:id\", requireCoordinatorOrSuperAdmin, async (req, res) => {\n    try {\n      const course = await storage.updateCourse(req.params.id, req.body);\n      if (!course) {\n        return res.status(404).json({ message: \"Course not found\" });\n      }\n      res.json(course);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to update course\" });\n    }\n  });\n\n  app.delete(\"/api/admin/course-library/:id\", requireCoordinatorOrSuperAdmin, async (req, res) => {\n    try {\n      const deleted = await storage.deleteCourse(req.params.id);\n      if (!deleted) {\n        return res.status(404).json({ message: \"Course not found\" });\n      }\n      res.json({ message: \"Course deleted successfully\" });\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete course\" });\n    }\n  });\n\n  // User Interaction APIs (require authentication)\n  app.post(\"/api/polls/:id/respond\", async (req, res) => {\n    try {\n      const { username, selectedOption } = req.body;\n      if (!username || selectedOption === undefined) {\n        return res.status(400).json({ message: \"Username and selected option are required\" });\n      }\n\n      // Get user by username to validate and get user ID\n      const user = await storage.getUserByUsername(username);\n      if (!user) {\n        return res.status(400).json({ message: \"User not found\" });\n      }\n\n      // Create response data without username for now (until database is updated)\n      const responseData = {\n        pollId: req.params.id,\n        userId: user.id,\n        selectedOption\n      };\n\n      const response = await storage.createPollResponse(responseData);\n      \n      // Return response with username for display\n      res.json({\n        ...response,\n        username: user.username\n      });\n    } catch (error: any) {\n      console.error(\"Poll response creation error:\", error);\n      res.status(400).json({ \n        message: \"Invalid poll response data\", \n        details: error.errors || error.message \n      });\n    }\n  });\n\n  app.post(\"/api/announcements/:id/reply\", async (req, res) => {\n    try {\n      const { username, content } = req.body;\n      if (!username || !content) {\n        return res.status(400).json({ message: \"Username and content are required\" });\n      }\n\n      // Get user by username to validate and get user ID\n      const user = await storage.getUserByUsername(username);\n      if (!user) {\n        return res.status(400).json({ message: \"User not found\" });\n      }\n\n      // Create reply data without username for now (until database is updated)\n      const replyData = {\n        announcementId: req.params.id,\n        userId: user.id,\n        content\n      };\n\n      const reply = await storage.createAnnouncementReply(replyData);\n      \n      // Return reply with username for display\n      res.json({\n        ...reply,\n        username: user.username\n      });\n    } catch (error: any) {\n      console.error(\"Announcement reply creation error:\", error);\n      res.status(400).json({ \n        message: \"Invalid reply data\", \n        details: error.errors || error.message \n      });\n    }\n  });\n\n  // Get announcement replies\n  app.get(\"/api/announcements/:id/replies\", async (req, res) => {\n    try {\n      const replies = await storage.getAnnouncementReplies(req.params.id);\n      res.json(replies);\n    } catch (error) {\n      console.error(\"Error fetching announcement replies:\", error);\n      res.status(500).json({ message: \"Failed to fetch replies\" });\n    }\n  });\n\n  // Get poll responses\n  app.get(\"/api/polls/:id/responses\", async (req, res) => {\n    try {\n      const responses = await storage.getPollResponses(req.params.id);\n      res.json(responses);\n    } catch (error) {\n      console.error(\"Error fetching poll responses:\", error);\n      res.status(500).json({ message: \"Failed to fetch responses\" });\n    }\n  });\n\n  app.get(\"/api/technofest\", async (req, res) => {\n  try {\n    const events = await storage.getTechnofestEvents();\n    res.json(events);\n  } catch (error) {\n    console.error(\"Error fetching technofest events:\", error);\n    res.status(500).json({ message: \"Failed to fetch technofest events\" });\n  }\n});\n\n// Get specific technofest event by ID (public)\napp.get(\"/api/technofest/:id\", async (req, res) => {\n  try {\n    const event = await storage.getTechnofestEvent(req.params.id);\n    if (!event) {\n      return res.status(404).json({ message: \"Technofest event not found\" });\n    }\n    res.json(event);\n  } catch (error) {\n    console.error(\"Error fetching technofest event:\", error);\n    res.status(500).json({ message: \"Failed to fetch technofest event\" });\n  }\n});\n\n// Technofest registration (public)\napp.post(\"/api/technofest/:id/register\", async (req, res) => {\n  try {\n    const { teamName, contactEmail, members } = req.body;\n    \n    if (!Array.isArray(members) || members.length === 0) {\n      return res.status(400).json({ message: \"Invalid registration data - members array required\" });\n    }\n\n    // First member should be the team leader\n    const teamLeader = members[0];\n    if (!teamLeader || !teamLeader.name || !teamLeader.email) {\n      return res.status(400).json({ message: \"Team leader name and email are required\" });\n    }\n    \n    // Validate team size against event requirements\n    const event = await storage.getTechnofestEvent(req.params.id);\n    if (!event) {\n      return res.status(404).json({ message: \"Technofest event not found\" });\n    }\n\n    const validMembers = members.filter(m => m.name?.trim());\n    if (validMembers.length < event.team_min || validMembers.length > event.team_max) {\n      return res.status(400).json({ \n        message: `Team size must be between ${event.team_min} and ${event.team_max} members` \n      });\n    }\n\n    const registrationData = {\n      technofestId: req.params.id,\n      teamName: teamName.trim(),\n      teamLeaderName: teamLeader.name.trim(),\n      teamLeaderEmail: teamLeader.email.trim(),\n      contactEmail: contactEmail.trim(),\n    };\n\n    const registration = await storage.createTechfestRegistration(registrationData);\n    \n    // Create additional registration members (skip the first member as it's the leader)\n    const memberData = validMembers.slice(1).map(member => ({\n      registrationId: registration.id,\n      name: member.name.trim(),\n      email: member.email?.trim() || null,\n    }));\n\n    await storage.bulkCreateRegistrationMembers(memberData);\n    \n    res.json({ \n      success: true,\n      message: \"Registration successful! You will receive a confirmation email shortly.\",\n      registration: {\n        id: registration.id,\n        teamName: registration.teamName,\n        contactEmail: registration.contactEmail,\n        technofestId: registration.technofestId,\n      }\n    });\n  } catch (error: any) {\n    console.error(\"Technofest registration error:\", error);\n    res.status(500).json({ \n      message: error.message || \"Registration failed. Please try again.\" \n    });\n  }\n});\n\napp.get(\"/api/admin/settings/:key\", requireAuth, async (req, res) => {\n  try {\n    const value = await storage.getSiteSetting(req.params.key);\n    if (value === null) {\n      return res.status(404).json({ message: \"Setting not found\" });\n    }\n    res.json({ key: req.params.key, value });\n  } catch (error) {\n    res.status(500).json({ message: \"Failed to fetch setting\" });\n  }\n});\n\n// Update site setting\napp.put(\"/api/admin/settings/:key\", requireAuth, async (req, res) => {\n  try {\n    const { value } = req.body;\n    if (!value) {\n      return res.status(400).json({ message: \"Value is required\" });\n    }\n    \n    await storage.setSiteSetting(req.params.key, value);\n    res.json({ key: req.params.key, value, message: \"Setting updated successfully\" });\n  } catch (error) {\n    res.status(500).json({ message: \"Failed to update setting\" });\n  }\n});\n\n// Get all site settings\napp.get(\"/api/admin/settings\", requireAuth, async (req, res) => {\n  try {\n    const settings = await storage.getAllSiteSettings();\n    res.json(settings);\n  } catch (error) {\n    res.status(500).json({ message: \"Failed to fetch settings\" });\n  }\n});\n\n  const httpServer = createServer(app);\n  return httpServer;\n}\n","size_bytes":34947},"server/storage.ts":{"content":"import { \n  type Event, \n  type InsertEvent,\n  type TeamMember,\n  type InsertTeamMember,\n  type GalleryImage,\n  type InsertGalleryImage,\n  type Admin,\n  type InsertAdmin,\n  type Registration,\n  type InsertRegistration,\n  type AboutContent,\n  type InsertAboutContent,\n  type User,\n  type InsertUser,\n  type Poll,\n  type InsertPoll,\n  type PollResponse,\n  type InsertPollResponse,\n  type Announcement,\n  type InsertAnnouncement,\n  type AnnouncementReply,\n  type InsertAnnouncementReply,\n  type CourseLibrary,\n  type InsertCourseLibrary,\n  type Technofest,\n  type InsertTechnofest,\n  type TechfestRegistration,\n  type InsertTechfestRegistration,\n  type RegistrationMember,\n  type InsertRegistrationMember,\n  technofest,\n  techfestRegistrations,\n  registrationMembers,\n  events,\n  teamMembers,\n  galleryImages,\n  admins,\n  registrations,\n  aboutContent,\n  users,\n  polls,\n  pollResponses,\n  announcements,\n  announcementReplies,\n  courseLibrary,\n  siteSettings,\n  type SiteSettings,\n  type InsertSiteSettings\n} from \"@shared/schema\";\nimport { randomUUID } from \"crypto\";\nimport { eq, and, desc } from \"drizzle-orm\";\n\n// Conditionally import database only when needed\nlet db: any;\nlet pool: any;\n\nexport interface IStorage {\n  // Events\n  getEvents(): Promise<Event[]>;\n  getEvent(id: string): Promise<Event | undefined>;\n  createEvent(event: InsertEvent): Promise<Event>;\n  updateEvent(id: string, event: Partial<InsertEvent>): Promise<Event | undefined>;\n  deleteEvent(id: string): Promise<boolean>;\n\n  // Team Members\n  getTeamMembers(): Promise<TeamMember[]>;\n  getTeamMember(id: string): Promise<TeamMember | undefined>;\n  createTeamMember(member: InsertTeamMember): Promise<TeamMember>;\n  updateTeamMember(id: string, member: Partial<InsertTeamMember>): Promise<TeamMember | undefined>;\n  deleteTeamMember(id: string): Promise<boolean>;\n\n  // Gallery\n  getGalleryImages(): Promise<GalleryImage[]>;\n  getGalleryImage(id: string): Promise<GalleryImage | undefined>;\n  createGalleryImage(image: InsertGalleryImage): Promise<GalleryImage>;\n  updateGalleryImage(id: string, image: Partial<InsertGalleryImage>): Promise<GalleryImage | undefined>;\n  deleteGalleryImage(id: string): Promise<boolean>;\n\n  // Admin Authentication\n  getAdmin(id: string): Promise<Admin | undefined>;\n  getAdminByUsername(username: string): Promise<Admin | undefined>;\n  createAdmin(admin: InsertAdmin): Promise<Admin>;\n\n  // Registrations\n  getRegistrations(): Promise<Registration[]>;\n  getRegistrationsByEvent(eventId: string): Promise<Registration[]>;\n  createRegistration(registration: InsertRegistration): Promise<Registration>;\n  updateRegistrationStatus(id: string, status: string): Promise<Registration | undefined>;\n\n  // About Content\n  getAboutContent(): Promise<AboutContent[]>;\n  getAboutContentBySection(section: string): Promise<AboutContent | undefined>;\n  updateAboutContent(section: string, content: InsertAboutContent): Promise<AboutContent>;\n\n  // Users\n  getUsers(): Promise<User[]>;\n  getUser(id: string): Promise<User | undefined>;\n  getUserByEmail(email: string): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  authenticateUser(username: string, password: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n  updateUser(id: string, user: Partial<InsertUser>): Promise<User | undefined>;\n  deleteUser(id: string): Promise<boolean>;\n  approveUser(id: string): Promise<User | undefined>;\n  bulkCreateUsers(users: Array<{ username: string; email: string; password: string }>): Promise<User[]>;\n\n  // Polls\n  getPolls(): Promise<Poll[]>;\n  getPoll(id: string): Promise<Poll | undefined>;\n  createPoll(poll: InsertPoll): Promise<Poll>;\n  updatePoll(id: string, poll: Partial<InsertPoll>): Promise<Poll | undefined>;\n  deletePoll(id: string): Promise<boolean>;\n  getPollWithResponses(id: string): Promise<{ poll: Poll; responses: PollResponse[]; totalVotes: number } | undefined>;\n\n  // Poll Responses\n  createPollResponse(response: InsertPollResponse): Promise<PollResponse>;\n  getUserPollResponse(pollId: string, userId: string): Promise<PollResponse | undefined>;\n  getPollResponses(pollId: string): Promise<PollResponse[]>;\n\n  // Announcements\n  getAnnouncements(): Promise<Announcement[]>;\n  getAnnouncement(id: string): Promise<Announcement | undefined>;\n  createAnnouncement(announcement: InsertAnnouncement): Promise<Announcement>;\n  updateAnnouncement(id: string, announcement: Partial<InsertAnnouncement>): Promise<Announcement | undefined>;\n  deleteAnnouncement(id: string): Promise<boolean>;\n\n  // Announcement Replies\n  createAnnouncementReply(reply: InsertAnnouncementReply): Promise<AnnouncementReply>;\n  getAnnouncementReplies(announcementId: string): Promise<AnnouncementReply[]>;\n\n  // Poll Responses\n  getPollResponses(pollId: string): Promise<PollResponse[]>;\n  createPollResponse(response: InsertPollResponse): Promise<PollResponse>;\n\n  // Course Library\n  getCourseLibrary(): Promise<CourseLibrary[]>;\n  getCourse(id: string): Promise<CourseLibrary | undefined>;\n  createCourse(course: InsertCourseLibrary): Promise<CourseLibrary>;\n  updateCourse(id: string, course: Partial<InsertCourseLibrary>): Promise<CourseLibrary | undefined>;\n  deleteCourse(id: string): Promise<boolean>;\n  \n  // Initialize data\n  initializeData(): Promise<void>;\n\n  // Technofest\n  getTechnofestEvents(): Promise<Technofest[]>;\n  getTechnofestEvent(id: string): Promise<Technofest | undefined>;\n  getTechnofestEventBySlug(slug: string): Promise<Technofest | undefined>;\n  createTechnofestEvent(event: InsertTechnofest): Promise<Technofest>;\n  updateTechnofestEvent(id: string, event: Partial<InsertTechnofest>): Promise<Technofest | undefined>;\n  deleteTechnofestEvent(id: string): Promise<boolean>;\n  getTechnofestEventsByCategory(category: string): Promise<Technofest[]>;\n  getActiveTechnofestEvents(): Promise<Technofest[]>;\n\n  // TECHNOFEST REGISTRATIONS\n  getTechfestRegistrations(): Promise<TechfestRegistration[]>;\n  getTechfestRegistration(id: string): Promise<TechfestRegistration | undefined>;\n  getTechfestRegistrationsByEvent(technofestId: string): Promise<TechfestRegistration[]>;\n  createTechfestRegistration(registration: InsertTechfestRegistration): Promise<TechfestRegistration>;\n  deleteTechfestRegistration(id: string): Promise<boolean>;\n\n  // REGISTRATION MEMBERS\n  getRegistrationMembers(registrationId: string): Promise<RegistrationMember[]>;\n  createRegistrationMember(member: InsertRegistrationMember): Promise<RegistrationMember>;\n  deleteRegistrationMember(id: string): Promise<boolean>;\n  bulkCreateRegistrationMembers(members: InsertRegistrationMember[]): Promise<RegistrationMember[]>;\n\n  getSiteSetting(key: string): Promise<string | null>;\n  setSiteSetting(key: string, value: string): Promise<void>;\n  getAllSiteSettings(): Promise<SiteSettings[]>;\n}\n\nexport class MemStorage implements IStorage {\n  private events: Map<string, Event> = new Map();\n  private teamMembers: Map<string, TeamMember> = new Map();\n  private galleryImages: Map<string, GalleryImage> = new Map();\n  private admins: Map<string, Admin> = new Map();\n  private registrations: Map<string, Registration> = new Map();\n  private aboutContent: Map<string, AboutContent> = new Map();\n  private users: Map<string, User> = new Map();\n  private polls: Map<string, Poll> = new Map();\n  private pollResponses: Map<string, PollResponse> = new Map();\n  private announcements: Map<string, Announcement> = new Map();\n  private announcementReplies: Map<string, AnnouncementReply> = new Map();\n  private courseLibrary: Map<string, CourseLibrary> = new Map();\n  private technofestEvents: Map<string, Technofest> = new Map();\n  private techfestRegistrations: Map<string, TechfestRegistration> = new Map();\n  private registrationMembers: Map<string, RegistrationMember> = new Map(); \n  private siteSettings: Map<string, SiteSettings> = new Map();\n\n  constructor() {\n    // Initialize with default admin\n    const defaultAdminId = randomUUID();\n    const defaultAdmin: Admin = {\n      id: defaultAdminId,\n      username: \"admin\",\n      password: \"admin123\", // In real app, this should be hashed\n      email: \"admin@innovare.club\",\n      createdAt: new Date(),\n    };\n    this.admins.set(defaultAdminId, defaultAdmin);\n\n    // Initialize default about content\n    const heroContent: AboutContent = {\n      id: randomUUID(),\n      section: \"hero\",\n      title: \"Welcome to Innovare Technical Club\",\n      content: \"Fostering innovation and technical excellence through collaborative learning and cutting-edge projects.\",\n      imageUrl: null,\n      updatedAt: new Date(),\n    };\n    this.aboutContent.set(\"hero\", heroContent);\n\n    // Initialize default users\n    const defaultUserId = randomUUID();\n    const defaultUser: User = {\n      id: defaultUserId,\n      username: \"demo_user\",\n      email: \"demo@innovare.club\",\n      password: \"password123\",\n      role: \"user\",\n      isApproved: true,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    };\n    this.users.set(defaultUserId, defaultUser);\n\n    const coordinatorId = randomUUID();\n    const coordinatorUser: User = {\n      id: coordinatorId,\n      username: \"coordinator\",\n      email: \"coordinator@innovare.club\",\n      password: \"password123\",\n      role: \"coordinator\",\n      isApproved: true,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    };\n    this.users.set(coordinatorId, coordinatorUser);\n\n    // Add your specific user\n    const deepanshuId = randomUUID();\n    const deepanshuUser: User = {\n      id: deepanshuId,\n      username: \"deepanshu\",\n      email: \"balharadeepanshu-013@gmail.com\",\n      password: \"admin123\",\n      role: \"super_admin\",\n      isApproved: true,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    };\n    this.users.set(deepanshuId, deepanshuUser);\n\n    // Initialize default poll\n    const defaultPollId = randomUUID();\n    const defaultPoll: Poll = {\n      id: defaultPollId,\n      title: \"What's your favorite programming language?\",\n      description: \"Vote for your preferred programming language\",\n      options: [\"JavaScript\", \"Python\", \"Java\", \"C++\"],\n      createdBy: defaultUserId,\n      isActive: true,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    };\n    this.polls.set(defaultPollId, defaultPoll);\n\n    // Initialize default announcement\n    const defaultAnnouncementId = randomUUID();\n    const defaultAnnouncement: Announcement = {\n      id: defaultAnnouncementId,\n      title: \"Welcome to Innovare!\",\n      content: \"We are excited to have you join Innovare Technical Club. Stay tuned for upcoming events and opportunities.\",\n      createdBy: defaultUserId,\n      isImportant: false,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    };\n    this.announcements.set(defaultAnnouncementId, defaultAnnouncement);\n  \n    const sampleTechfestId = randomUUID();\n    const sampleTechfest: Technofest = {\n      id: sampleTechfestId,\n      slug: \"web-dev-challenge\",\n      name: \"Web Development Challenge\",\n      number: 1,\n      category: \"Development\",\n      shortDescription: \"Build amazing web applications\",\n      description: \"A comprehensive web development challenge where participants will build full-stack applications using modern technologies.\",\n      rules: [\"Team size: 2-4 members\", \"48-hour deadline\", \"Use any framework\", \"Deploy your project\"],\n      youtubeUrl: \"https://youtube.com/watch?v=example\",\n      teamMin: 2,\n      teamMax: 4,\n      splineRightUrl: null,\n      isActive: true,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    };\n    this.technofestEvents.set(sampleTechfestId, sampleTechfest);\n\n  const defaultBgSetting: SiteSettings = {\n      key: \"background_spline_url\",\n      value: \"https://prod.spline.design/DC0L-NagpocfiwmY/scene.splinecode\",\n      updatedAt: new Date(),\n    };\n    this.siteSettings.set(\"background_spline_url\", defaultBgSetting);\n  }\n\n  // Initialize data method for consistency with DatabaseStorage\n  async initializeData(): Promise<void> {\n    // Data is already initialized in constructor\n    console.log(\"In-memory storage initialized with default data\");\n  }\n\n  // Events\n  async getEvents(): Promise<Event[]> {\n    return Array.from(this.events.values());\n  }\n\n  async getEvent(id: string): Promise<Event | undefined> {\n    return this.events.get(id);\n  }\n\n  async createEvent(event: InsertEvent): Promise<Event> {\n    const id = randomUUID();\n    const newEvent: Event = { \n      ...event, \n      id, \n      createdAt: new Date(),\n      tags: event.tags || null,\n      imageUrl: event.imageUrl || null,\n      featured: event.featured || null\n    };\n    this.events.set(id, newEvent);\n    return newEvent;\n  }\n\n  async updateEvent(id: string, event: Partial<InsertEvent>): Promise<Event | undefined> {\n    const existing = this.events.get(id);\n    if (!existing) return undefined;\n    const updated = { ...existing, ...event };\n    this.events.set(id, updated);\n    return updated;\n  }\n\n  async deleteEvent(id: string): Promise<boolean> {\n    return this.events.delete(id);\n  }\n\n  // Team Members\n  async getTeamMembers(): Promise<TeamMember[]> {\n    return Array.from(this.teamMembers.values());\n  }\n\n  async getTeamMember(id: string): Promise<TeamMember | undefined> {\n    return this.teamMembers.get(id);\n  }\n\n  async createTeamMember(member: InsertTeamMember): Promise<TeamMember> {\n    const id = randomUUID();\n    const newMember: TeamMember = { \n      ...member, \n      id, \n      createdAt: new Date(),\n      imageUrl: member.imageUrl || null\n    };\n    this.teamMembers.set(id, newMember);\n    return newMember;\n  }\n\n  async updateTeamMember(id: string, member: Partial<InsertTeamMember>): Promise<TeamMember | undefined> {\n    const existing = this.teamMembers.get(id);\n    if (!existing) return undefined;\n    const updated = { ...existing, ...member };\n    this.teamMembers.set(id, updated);\n    return updated;\n  }\n\n  async deleteTeamMember(id: string): Promise<boolean> {\n    return this.teamMembers.delete(id);\n  }\n\n  // Gallery\n  async getGalleryImages(): Promise<GalleryImage[]> {\n    return Array.from(this.galleryImages.values());\n  }\n\n  async getGalleryImage(id: string): Promise<GalleryImage | undefined> {\n    return this.galleryImages.get(id);\n  }\n\n  async createGalleryImage(image: InsertGalleryImage): Promise<GalleryImage> {\n    const id = randomUUID();\n    const newImage: GalleryImage = { \n      ...image, \n      id, \n      createdAt: new Date(),\n      description: image.description || null\n    };\n    this.galleryImages.set(id, newImage);\n    return newImage;\n  }\n\n  async updateGalleryImage(id: string, image: Partial<InsertGalleryImage>): Promise<GalleryImage | undefined> {\n    const existing = this.galleryImages.get(id);\n    if (!existing) return undefined;\n    const updated = { ...existing, ...image };\n    this.galleryImages.set(id, updated);\n    return updated;\n  }\n\n  async deleteGalleryImage(id: string): Promise<boolean> {\n    return this.galleryImages.delete(id);\n  }\n\n  // Admin Authentication\n  async getAdmin(id: string): Promise<Admin | undefined> {\n    return this.admins.get(id);\n  }\n\n  async getAdminByUsername(username: string): Promise<Admin | undefined> {\n    return Array.from(this.admins.values()).find(admin => admin.username === username);\n  }\n\n  async createAdmin(admin: InsertAdmin): Promise<Admin> {\n    const id = randomUUID();\n    const newAdmin: Admin = { ...admin, id, createdAt: new Date() };\n    this.admins.set(id, newAdmin);\n    return newAdmin;\n  }\n\n  // Registrations\n  async getRegistrations(): Promise<Registration[]> {\n    return Array.from(this.registrations.values());\n  }\n\n  async getRegistrationsByEvent(eventId: string): Promise<Registration[]> {\n    return Array.from(this.registrations.values()).filter(reg => reg.eventId === eventId);\n  }\n\n  async createRegistration(registration: InsertRegistration): Promise<Registration> {\n    const id = randomUUID();\n    const newRegistration: Registration = { \n      ...registration, \n      id, \n      createdAt: new Date(),\n      status: registration.status || \"pending\",\n      phone: registration.phone || null\n    };\n    this.registrations.set(id, newRegistration);\n    return newRegistration;\n  }\n\n  async updateRegistrationStatus(id: string, status: string): Promise<Registration | undefined> {\n    const existing = this.registrations.get(id);\n    if (!existing) return undefined;\n    const updated = { ...existing, status };\n    this.registrations.set(id, updated);\n    return updated;\n  }\n\n  // About Content\n  async getAboutContent(): Promise<AboutContent[]> {\n    return Array.from(this.aboutContent.values());\n  }\n\n  async getAboutContentBySection(section: string): Promise<AboutContent | undefined> {\n    return this.aboutContent.get(section);\n  }\n\n  async updateAboutContent(section: string, content: InsertAboutContent): Promise<AboutContent> {\n    const id = randomUUID();\n    const updated: AboutContent = { \n      ...content, \n      id, \n      section, \n      updatedAt: new Date(),\n      imageUrl: content.imageUrl || null\n    };\n    this.aboutContent.set(section, updated);\n    return updated;\n  }\n\n  // Users\n  async getUsers(): Promise<User[]> {\n    return Array.from(this.users.values());\n  }\n\n  async getUser(id: string): Promise<User | undefined> {\n    return this.users.get(id);\n  }\n\n  // Removed getUserByClerkId since we're not using Clerk\n\n  async getUserByEmail(email: string): Promise<User | undefined> {\n    return Array.from(this.users.values()).find(user => user.email === email);\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    return Array.from(this.users.values()).find(user => user.username === username);\n  }\n\n  async authenticateUser(username: string, password: string): Promise<User | undefined> {\n    console.log(`Attempting to authenticate user: ${username}`);\n    const user = Array.from(this.users.values()).find(user => user.username === username);\n    console.log(`User found:`, user ? { username: user.username, isApproved: user.isApproved } : 'Not found');\n    if (user && user.password === password && user.isApproved) {\n      console.log(`Authentication successful for user: ${username}`);\n      return user;\n    }\n    console.log(`Authentication failed for user: ${username}`);\n    return undefined;\n  }\n\n  async createUser(user: InsertUser): Promise<User> {\n    const id = randomUUID();\n    const newUser: User = { \n      ...user, \n      id, \n      role: user.role || \"user\", \n      password: user.password || null,\n      createdAt: new Date(), \n      updatedAt: new Date() \n    };\n    this.users.set(id, newUser);\n    return newUser;\n  }\n\n  async updateUser(id: string, user: Partial<InsertUser>): Promise<User | undefined> {\n    const existing = this.users.get(id);\n    if (!existing) return undefined;\n    const updated = { ...existing, ...user };\n    this.users.set(id, updated);\n    return updated;\n  }\n\n  async deleteUser(id: string): Promise<boolean> {\n    return this.users.delete(id);\n  }\n\n  async approveUser(id: string): Promise<User | undefined> {\n    const existing = this.users.get(id);\n    if (!existing) return undefined;\n    const updated = { ...existing, isApproved: true };\n    this.users.set(id, updated);\n    return updated;\n  }\n\n  async bulkCreateUsers(usersToCreate: Array<{ username: string; email: string; password: string }>): Promise<User[]> {\n    const createdUsers: User[] = [];\n    for (const user of usersToCreate) {\n      const id = randomUUID();\n      const newUser: User = {\n        id,\n        username: user.username,\n        email: user.email,\n        password: user.password,\n        role: \"user\",\n        isApproved: false,\n        createdAt: new Date(),\n        updatedAt: new Date(),\n      };\n      this.users.set(id, newUser);\n      createdUsers.push(newUser);\n    }\n    return createdUsers;\n  }\n\n  // Polls\n  async getPolls(): Promise<Poll[]> {\n    return Array.from(this.polls.values());\n  }\n\n  async getPoll(id: string): Promise<Poll | undefined> {\n    return this.polls.get(id);\n  }\n\n  async createPoll(poll: InsertPoll): Promise<Poll> {\n    const id = randomUUID();\n    const newPoll: Poll = { \n      ...poll, \n      id, \n      createdAt: new Date(),\n      updatedAt: new Date()\n    };\n    this.polls.set(id, newPoll);\n    return newPoll;\n  }\n\n  async updatePoll(id: string, poll: Partial<InsertPoll>): Promise<Poll | undefined> {\n    const existing = this.polls.get(id);\n    if (!existing) return undefined;\n    const updated = { ...existing, ...poll };\n    this.polls.set(id, updated);\n    return updated;\n  }\n\n  async deletePoll(id: string): Promise<boolean> {\n    return this.polls.delete(id);\n  }\n\n  async getPollWithResponses(id: string): Promise<{ poll: Poll; responses: PollResponse[]; totalVotes: number } | undefined> {\n    const poll = this.polls.get(id);\n    if (!poll) return undefined;\n\n    const responses = Array.from(this.pollResponses.values()).filter(\n      (response) => response.pollId === id\n    );\n    const totalVotes = responses.length;\n\n    return { poll, responses, totalVotes };\n  }\n\n  // Poll Responses\n  async createPollResponse(response: InsertPollResponse): Promise<PollResponse> {\n    const id = randomUUID();\n    const newResponse: PollResponse = {\n      ...response,\n      id,\n      createdAt: new Date(),\n      selectedOption: response.selectedOption,\n    };\n    this.pollResponses.set(id, newResponse);\n    return newResponse;\n  }\n\n  async getUserPollResponse(pollId: string, userId: string): Promise<PollResponse | undefined> {\n    return Array.from(this.pollResponses.values()).find(\n      (response) => response.pollId === pollId && response.userId === userId\n    );\n  }\n\n  async getPollResponses(pollId: string): Promise<PollResponse[]> {\n    return Array.from(this.pollResponses.values()).filter(\n      (response) => response.pollId === pollId\n    );\n  }\n\n  // Announcements\n  async getAnnouncements(): Promise<Announcement[]> {\n    return Array.from(this.announcements.values());\n  }\n\n  async getAnnouncement(id: string): Promise<Announcement | undefined> {\n    return this.announcements.get(id);\n  }\n\n  async createAnnouncement(announcement: InsertAnnouncement): Promise<Announcement> {\n    const id = randomUUID();\n    const newAnnouncement: Announcement = {\n      ...announcement,\n      id,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    };\n    this.announcements.set(id, newAnnouncement);\n    return newAnnouncement;\n  }\n\n  async updateAnnouncement(id: string, announcement: Partial<InsertAnnouncement>): Promise<Announcement | undefined> {\n    const existing = this.announcements.get(id);\n    if (!existing) return undefined;\n    const updated = { ...existing, ...announcement };\n    this.announcements.set(id, updated);\n    return updated;\n  }\n\n  async deleteAnnouncement(id: string): Promise<boolean> {\n    return this.announcements.delete(id);\n  }\n\n  // Announcement Replies\n  async createAnnouncementReply(reply: InsertAnnouncementReply): Promise<AnnouncementReply> {\n    const id = randomUUID();\n    const newReply: AnnouncementReply = {\n      ...reply,\n      id,\n      createdAt: new Date(),\n    };\n    this.announcementReplies.set(id, newReply);\n    return newReply;\n  }\n\n  async getAnnouncementReplies(announcementId: string): Promise<AnnouncementReply[]> {\n    return Array.from(this.announcementReplies.values()).filter(\n      (reply) => reply.announcementId === announcementId\n    );\n  }\n\n  async getPollResponses(pollId: string): Promise<PollResponse[]> {\n    return Array.from(this.pollResponses.values()).filter(\n      (response) => response.pollId === pollId\n    );\n  }\n\n  // Course Library\n  async getCourseLibrary(): Promise<CourseLibrary[]> {\n    return Array.from(this.courseLibrary.values());\n  }\n\n  async getCourse(id: string): Promise<CourseLibrary | undefined> {\n    return this.courseLibrary.get(id);\n  }\n\n  async createCourse(course: InsertCourseLibrary): Promise<CourseLibrary> {\n    const id = randomUUID();\n    const newCourse: CourseLibrary = {\n      ...course,\n      id,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    };\n    this.courseLibrary.set(id, newCourse);\n    return newCourse;\n  }\n\n  async updateCourse(id: string, course: Partial<InsertCourseLibrary>): Promise<CourseLibrary | undefined> {\n    const existing = this.courseLibrary.get(id);\n    if (!existing) return undefined;\n    const updated = { ...existing, ...course };\n    this.courseLibrary.set(id, updated);\n    return updated;\n  }\n\n  async deleteCourse(id: string): Promise<boolean> {\n    return this.courseLibrary.delete(id);\n  }\n\n  async getTechnofestEvents(): Promise<Technofest[]> {\n    return Array.from(this.technofestEvents.values());\n  }\n\n  async getTechnofestEvent(id: string): Promise<Technofest | undefined> {\n    return this.technofestEvents.get(id);\n  }\n\n  async getTechnofestEventBySlug(slug: string): Promise<Technofest | undefined> {\n    return Array.from(this.technofestEvents.values()).find(event => event.slug === slug);\n  }\n\n  async createTechnofestEvent(event: InsertTechnofest): Promise<Technofest> {\n    const id = randomUUID();\n    const newEvent: Technofest = {\n      ...event,\n      id,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    };\n    this.technofestEvents.set(id, newEvent);\n    return newEvent;\n  }\n\n  async updateTechnofestEvent(id: string, event: Partial<InsertTechnofest>): Promise<Technofest | undefined> {\n    const existing = this.technofestEvents.get(id);\n    if (!existing) return undefined;\n    const updated = { ...existing, ...event, updatedAt: new Date() };\n    this.technofestEvents.set(id, updated);\n    return updated;\n  }\n\n  async deleteTechnofestEvent(id: string): Promise<boolean> {\n    return this.technofestEvents.delete(id);\n  }\n\n  async getTechnofestEventsByCategory(category: string): Promise<Technofest[]> {\n    return Array.from(this.technofestEvents.values()).filter(event => event.category === category);\n  }\n\n  async getActiveTechnofestEvents(): Promise<Technofest[]> {\n    return Array.from(this.technofestEvents.values()).filter(event => event.isActive);\n  }\n\n  // TECHNOFEST REGISTRATION METHODS\n  async getTechfestRegistrations(): Promise<TechfestRegistration[]> {\n    return Array.from(this.techfestRegistrations.values());\n  }\n\n  async getTechfestRegistration(id: string): Promise<TechfestRegistration | undefined> {\n    return this.techfestRegistrations.get(id);\n  }\n\n  async getTechfestRegistrationsByEvent(technofestId: string): Promise<TechfestRegistration[]> {\n    return Array.from(this.techfestRegistrations.values()).filter(reg => reg.technofestId === technofestId);\n  }\n\n  async createTechfestRegistration(registration: InsertTechfestRegistration): Promise<TechfestRegistration> {\n    const id = randomUUID();\n    const newRegistration: TechfestRegistration = {\n      ...registration,\n      id,\n      createdAt: new Date(),\n    };\n    this.techfestRegistrations.set(id, newRegistration);\n    return newRegistration;\n  }\n\n  async deleteTechfestRegistration(id: string): Promise<boolean> {\n    return this.techfestRegistrations.delete(id);\n  }\n\n  // REGISTRATION MEMBER METHODS\n  async getRegistrationMembers(registrationId: string): Promise<RegistrationMember[]> {\n    return Array.from(this.registrationMembers.values()).filter(member => member.registrationId === registrationId);\n  }\n\n  async createRegistrationMember(member: InsertRegistrationMember): Promise<RegistrationMember> {\n    const id = randomUUID();\n    const newMember: RegistrationMember = {\n      ...member,\n      id,\n    };\n    this.registrationMembers.set(id, newMember);\n    return newMember;\n  }\n\n  async deleteRegistrationMember(id: string): Promise<boolean> {\n    return this.registrationMembers.delete(id);\n  }\n\n  async bulkCreateRegistrationMembers(members: InsertRegistrationMember[]): Promise<RegistrationMember[]> {\n    const createdMembers: RegistrationMember[] = [];\n    for (const member of members) {\n      const created = await this.createRegistrationMember(member);\n      createdMembers.push(created);\n    }\n    return createdMembers;\n  }\n  async getSiteSetting(key: string): Promise<string | null> {\n    const setting = this.siteSettings.get(key);\n    return setting?.value || null;\n  }\n\n  async setSiteSetting(key: string, value: string): Promise<void> {\n    const setting: SiteSettings = {\n      key,\n      value,\n      updatedAt: new Date(),\n    };\n    this.siteSettings.set(key, setting);\n  }\n\n  async getAllSiteSettings(): Promise<SiteSettings[]> {\n    return Array.from(this.siteSettings.values());\n  }\n}\n\nexport class DatabaseStorage implements IStorage {\n  private static async initializeDatabase() {\n    try {\n      const dbModule = await import(\"./db\");\n      db = dbModule.db;\n      pool = dbModule.pool;\n    } catch (error) {\n      throw new Error(`Failed to initialize database: ${error}`);\n    }\n  }\n\n  async initializeData() {\n    // Initialize database connection first\n    await DatabaseStorage.initializeDatabase();\n    \n    // Check if admin exists, if not create default admin\n    const existingAdmin = await db.select().from(admins).limit(1);\n    if (existingAdmin.length === 0) {\n      await db.insert(admins).values({\n        id: randomUUID(),\n        username: \"admin\",\n        password: \"admin123\", // In real app, this should be hashed\n        email: \"admin@innovare.club\",\n      });\n    }\n\n    // Check if about content exists, if not create default\n    const existingAbout = await db.select().from(aboutContent).limit(1);\n    if (existingAbout.length === 0) {\n      await db.insert(aboutContent).values({\n        id: randomUUID(),\n        section: \"hero\",\n        title: \"Welcome to Innovare Technical Club\",\n        content: \"Fostering innovation and technical excellence through collaborative learning and cutting-edge projects.\",\n        imageUrl: null,\n      });\n    }\n\n    // Check if users exist, if not create default users\n    const existingUsers = await db.select().from(users).limit(1);\n    if (existingUsers.length === 0) {\n      await db.insert(users).values([\n        {\n          id: randomUUID(),\n          username: \"demo_user\",\n          email: \"demo@innovare.club\",\n          password: \"password123\",\n          role: \"user\",\n          isApproved: true,\n          createdAt: new Date(),\n          updatedAt: new Date(),\n        },\n        {\n          id: randomUUID(),\n          username: \"coordinator\",\n          email: \"coordinator@innovare.club\",\n          password: \"password123\",\n          role: \"coordinator\",\n          isApproved: true,\n          createdAt: new Date(),\n          updatedAt: new Date(),\n        },\n        {\n          id: randomUUID(),\n          username: \"deepanshu\",\n          email: \"balharadeepanshu-013@gmail.com\",\n          password: \"admin123\",\n          role: \"super_admin\",\n          isApproved: true,\n          createdAt: new Date(),\n          updatedAt: new Date(),\n        }\n      ]);\n    }\n\n    // Add sample events if none exist\n    const existingEvents = await db.select().from(events).limit(1);\n    if (existingEvents.length === 0) {\n      await db.insert(events).values([\n        {\n          id: randomUUID(),\n          title: \"Tech Workshop 2024\",\n          description: \"Join us for an intensive workshop on modern web development technologies.\",\n          date: new Date(\"2024-09-15\"),\n          location: \"Main Auditorium\",\n          tags: [\"workshop\", \"web-dev\"],\n          imageUrl: \"https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?w=800\",\n          featured: 1,\n        },\n        {\n          id: randomUUID(),\n          title: \"AI/ML Bootcamp\",\n          description: \"Explore the fundamentals of Artificial Intelligence and Machine Learning.\",\n          date: new Date(\"2024-10-20\"),\n          location: \"Computer Lab\",\n          tags: [\"ai\", \"ml\", \"bootcamp\"],\n          imageUrl: \"https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=800\",\n          featured: 0,\n        }\n      ]);\n    }\n    \n    // Add sample gallery images if none exist\n    const existingGallery = await db.select().from(galleryImages).limit(1);\n    if (existingGallery.length === 0) {\n      await db.insert(galleryImages).values([\n        {\n          id: randomUUID(),\n          title: \"Tech Workshop 2023\",\n          imageUrl: \"https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=800\",\n          description: \"Students collaborating on innovative projects\",\n        },\n        {\n          id: randomUUID(),\n          title: \"AI Hackathon\",\n          imageUrl: \"https://images.unsplash.com/photo-1531482615713-2afd69097998?w=800\",\n          description: \"24-hour hackathon focused on AI solutions\",\n        }\n      ]);\n    }\n  }\n\n  // Events\n  async getEvents(): Promise<Event[]> {\n    return await db.select().from(events);\n  }\n\n  async getEvent(id: string): Promise<Event | undefined> {\n    const [event] = await db.select().from(events).where(eq(events.id, id));\n    return event || undefined;\n  }\n\n  async createEvent(event: InsertEvent): Promise<Event> {\n    const id = randomUUID();\n    const [newEvent] = await db\n      .insert(events)\n      .values({ \n        ...event, \n        id,\n        tags: event.tags || null,\n        imageUrl: event.imageUrl || null,\n        featured: event.featured || null\n      })\n      .returning();\n    return newEvent;\n  }\n\n  async updateEvent(id: string, event: Partial<InsertEvent>): Promise<Event | undefined> {\n    const [updated] = await db\n      .update(events)\n      .set(event)\n      .where(eq(events.id, id))\n      .returning();\n    return updated || undefined;\n  }\n\n  async deleteEvent(id: string): Promise<boolean> {\n    const result = await db.delete(events).where(eq(events.id, id));\n    return (result.rowCount || 0) > 0;\n  }\n\n  // Team Members\n  async getTeamMembers(): Promise<TeamMember[]> {\n    return await db.select().from(teamMembers);\n  }\n\n  async getTeamMember(id: string): Promise<TeamMember | undefined> {\n    const [member] = await db.select().from(teamMembers).where(eq(teamMembers.id, id));\n    return member || undefined;\n  }\n\n  async createTeamMember(member: InsertTeamMember): Promise<TeamMember> {\n    const id = randomUUID();\n    const [newMember] = await db\n      .insert(teamMembers)\n      .values({ \n        ...member, \n        id,\n        imageUrl: member.imageUrl || null\n      })\n      .returning();\n    return newMember;\n  }\n\n  async updateTeamMember(id: string, member: Partial<InsertTeamMember>): Promise<TeamMember | undefined> {\n    const [updated] = await db\n      .update(teamMembers)\n      .set(member)\n      .where(eq(teamMembers.id, id))\n      .returning();\n    return updated || undefined;\n  }\n\n  async deleteTeamMember(id: string): Promise<boolean> {\n    const result = await db.delete(teamMembers).where(eq(teamMembers.id, id));\n    return (result.rowCount || 0) > 0;\n  }\n\n  // Gallery\n  async getGalleryImages(): Promise<GalleryImage[]> {\n    return await db.select().from(galleryImages);\n  }\n\n  async getGalleryImage(id: string): Promise<GalleryImage | undefined> {\n    const [image] = await db.select().from(galleryImages).where(eq(galleryImages.id, id));\n    return image || undefined;\n  }\n\n  async createGalleryImage(image: InsertGalleryImage): Promise<GalleryImage> {\n    const id = randomUUID();\n    const [newImage] = await db\n      .insert(galleryImages)\n      .values({ \n        ...image, \n        id,\n        description: image.description || null\n      })\n      .returning();\n    return newImage;\n  }\n\n  async updateGalleryImage(id: string, image: Partial<InsertGalleryImage>): Promise<GalleryImage | undefined> {\n    const [updated] = await db\n      .update(galleryImages)\n      .set(image)\n      .where(eq(galleryImages.id, id))\n      .returning();\n    return updated || undefined;\n  }\n\n  async deleteGalleryImage(id: string): Promise<boolean> {\n    const result = await db.delete(galleryImages).where(eq(galleryImages.id, id));\n    return (result.rowCount || 0) > 0;\n  }\n\n  // Admin Authentication\n  async getAdmin(id: string): Promise<Admin | undefined> {\n    const [admin] = await db.select().from(admins).where(eq(admins.id, id));\n    return admin || undefined;\n  }\n\n  async getAdminByUsername(username: string): Promise<Admin | undefined> {\n    const [admin] = await db.select().from(admins).where(eq(admins.username, username));\n    return admin || undefined;\n  }\n\n  async createAdmin(admin: InsertAdmin): Promise<Admin> {\n    const id = randomUUID();\n    const [newAdmin] = await db\n      .insert(admins)\n      .values({ ...admin, id })\n      .returning();\n    return newAdmin;\n  }\n\n  // Registrations\n  async getRegistrations(): Promise<Registration[]> {\n    return await db.select().from(registrations);\n  }\n\n  async getRegistrationsByEvent(eventId: string): Promise<Registration[]> {\n    return await db.select().from(registrations).where(eq(registrations.eventId, eventId));\n  }\n\n  async createRegistration(registration: InsertRegistration): Promise<Registration> {\n    const id = randomUUID();\n    const [newRegistration] = await db\n      .insert(registrations)\n      .values({ \n        ...registration, \n        id,\n        status: registration.status || \"pending\",\n        phone: registration.phone || null\n      })\n      .returning();\n    return newRegistration;\n  }\n\n  async updateRegistrationStatus(id: string, status: string): Promise<Registration | undefined> {\n    const [updated] = await db\n      .update(registrations)\n      .set({ status })\n      .where(eq(registrations.id, id))\n      .returning();\n    return updated || undefined;\n  }\n\n  // About Content\n  async getAboutContent(): Promise<AboutContent[]> {\n    return await db.select().from(aboutContent);\n  }\n\n  async getAboutContentBySection(section: string): Promise<AboutContent | undefined> {\n    const [content] = await db.select().from(aboutContent).where(eq(aboutContent.section, section));\n    return content || undefined;\n  }\n\n  async updateAboutContent(section: string, content: InsertAboutContent): Promise<AboutContent> {\n    const existing = await this.getAboutContentBySection(section);\n    if (existing) {\n      const [updated] = await db\n        .update(aboutContent)\n        .set({ ...content, updatedAt: new Date() })\n        .where(eq(aboutContent.section, section))\n        .returning();\n      return updated;\n    } else {\n      const id = randomUUID();\n      const [newContent] = await db\n        .insert(aboutContent)\n        .values({ \n          ...content, \n          id, \n          section,\n          imageUrl: content.imageUrl || null\n        })\n        .returning();\n      return newContent;\n    }\n  }\n\n  // Users\n  async getUsers(): Promise<User[]> {\n    return await db.select().from(users);\n  }\n\n  async getUser(id: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.id, id));\n    return user || undefined;\n  }\n\n  // Removed getUserByClerkId since we're not using Clerk\n\n  async getUserByEmail(email: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.email, email));\n    return user || undefined;\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.username, username));\n    return user || undefined;\n  }\n\n  async authenticateUser(username: string, password: string): Promise<User | undefined> {\n    console.log(`Attempting to authenticate user: ${username}`);\n    const [user] = await db.select().from(users).where(eq(users.username, username));\n    console.log(`User found:`, user ? { username: user.username, isApproved: user.isApproved } : 'Not found');\n    if (user && user.password === password && user.isApproved) {\n      console.log(`Authentication successful for user: ${username}`);\n      return user;\n    }\n    console.log(`Authentication failed for user: ${username}`);\n    return undefined;\n  }\n\n  async createUser(user: InsertUser): Promise<User> {\n    const id = randomUUID();\n    const [newUser] = await db\n      .insert(users)\n      .values({ \n        ...user, \n        id, \n        role: user.role || \"user\", \n        password: user.password || null,\n        updatedAt: new Date() \n      })\n      .returning();\n    return newUser;\n  }\n\n  async updateUser(id: string, user: Partial<InsertUser>): Promise<User | undefined> {\n    const [updated] = await db\n      .update(users)\n      .set(user)\n      .where(eq(users.id, id))\n      .returning();\n    return updated || undefined;\n  }\n\n  async deleteUser(id: string): Promise<boolean> {\n    const result = await db.delete(users).where(eq(users.id, id));\n    return (result.rowCount || 0) > 0;\n  }\n\n  async approveUser(id: string): Promise<User | undefined> {\n    const [updated] = await db\n      .update(users)\n      .set({ isApproved: true })\n      .where(eq(users.id, id))\n      .returning();\n    return updated || undefined;\n  }\n\n  async bulkCreateUsers(usersToCreate: Array<{ username: string; email: string; password: string }>): Promise<User[]> {\n    const createdUsers: User[] = [];\n    for (const user of usersToCreate) {\n      const id = randomUUID();\n      const [newUser] = await db\n        .insert(users)\n        .values({\n          id,\n          username: user.username,\n          email: user.email,\n          password: user.password,\n          role: \"user\",\n          isApproved: false,\n          createdAt: new Date(),\n          updatedAt: new Date(),\n        })\n        .returning();\n      createdUsers.push(newUser);\n    }\n    return createdUsers;\n  }\n\n  // Polls\n  async getPolls(): Promise<Poll[]> {\n    return await db.select().from(polls);\n  }\n\n  async getPoll(id: string): Promise<Poll | undefined> {\n    const [poll] = await db.select().from(polls).where(eq(polls.id, id));\n    return poll || undefined;\n  }\n\n  async createPoll(poll: InsertPoll): Promise<Poll> {\n    const id = randomUUID();\n    const [newPoll] = await db\n      .insert(polls)\n      .values({ \n        ...poll, \n        id,\n        createdAt: new Date(),\n        updatedAt: new Date()\n      })\n      .returning();\n    return newPoll;\n  }\n\n  async updatePoll(id: string, poll: Partial<InsertPoll>): Promise<Poll | undefined> {\n    const [updated] = await db\n      .update(polls)\n      .set(poll)\n      .where(eq(polls.id, id))\n      .returning();\n    return updated || undefined;\n  }\n\n  async deletePoll(id: string): Promise<boolean> {\n    const result = await db.delete(polls).where(eq(polls.id, id));\n    return (result.rowCount || 0) > 0;\n  }\n\n  async getPollWithResponses(id: string): Promise<{ poll: Poll; responses: PollResponse[]; totalVotes: number } | undefined> {\n    const poll = await this.getPoll(id);\n    if (!poll) return undefined;\n\n    const responses = await db.select().from(pollResponses).where(eq(pollResponses.pollId, id));\n    const totalVotes = responses.length;\n\n    return { poll, responses, totalVotes };\n  }\n\n  // Poll Responses\n  async createPollResponse(response: InsertPollResponse): Promise<PollResponse> {\n    const id = randomUUID();\n    const [newResponse] = await db\n      .insert(pollResponses)\n      .values({ \n        ...response, \n        id,\n        createdAt: new Date(),\n        selectedOption: response.selectedOption,\n      })\n      .returning();\n    return newResponse;\n  }\n\n  async getUserPollResponse(pollId: string, userId: string): Promise<PollResponse | undefined> {\n    const [response] = await db.select().from(pollResponses).where(and(eq(pollResponses.pollId, pollId), eq(pollResponses.userId, userId)));\n    return response || undefined;\n  }\n\n  async getPollResponses(pollId: string): Promise<PollResponse[]> {\n    return await db.select().from(pollResponses).where(eq(pollResponses.pollId, pollId));\n  }\n\n  // Announcements\n  async getAnnouncements(): Promise<Announcement[]> {\n    return await db.select().from(announcements);\n  }\n\n  async getAnnouncement(id: string): Promise<Announcement | undefined> {\n    const [announcement] = await db.select().from(announcements).where(eq(announcements.id, id));\n    return announcement || undefined;\n  }\n\n  async createAnnouncement(announcement: InsertAnnouncement): Promise<Announcement> {\n    const id = randomUUID();\n    const [newAnnouncement] = await db\n      .insert(announcements)\n      .values({ \n        ...announcement, \n        id,\n        createdAt: new Date(),\n        updatedAt: new Date(),\n      })\n      .returning();\n    return newAnnouncement;\n  }\n\n  async updateAnnouncement(id: string, announcement: Partial<InsertAnnouncement>): Promise<Announcement | undefined> {\n    const [updated] = await db\n      .update(announcements)\n      .set(announcement)\n      .where(eq(announcements.id, id))\n      .returning();\n    return updated || undefined;\n  }\n\n  async deleteAnnouncement(id: string): Promise<boolean> {\n    const result = await db.delete(announcements).where(eq(announcements.id, id));\n    return (result.rowCount || 0) > 0;\n  }\n\n  // Announcement Replies\n  async createAnnouncementReply(reply: InsertAnnouncementReply): Promise<AnnouncementReply> {\n    const id = randomUUID();\n    console.log(\"Creating announcement reply:\", { ...reply, id });\n    try {\n      const [newReply] = await db\n        .insert(announcementReplies)\n        .values({ \n          ...reply, \n          id,\n          createdAt: new Date(),\n        })\n        .returning();\n      console.log(\"Announcement reply created successfully:\", newReply);\n      return newReply;\n    } catch (error) {\n      console.error(\"Error creating announcement reply:\", error);\n      throw error;\n    }\n  }\n\n  async getAnnouncementReplies(announcementId: string): Promise<AnnouncementReply[]> {\n    try {\n      console.log(\"Fetching replies for announcement:\", announcementId);\n      const replies = await db.select().from(announcementReplies).where(eq(announcementReplies.announcementId, announcementId));\n      console.log(\"Found replies:\", replies);\n      \n      // If username column doesn't exist, we need to fetch usernames separately\n      const repliesWithUsernames = await Promise.all(\n        replies.map(async (reply) => {\n          try {\n            const user = await this.getUser(reply.userId);\n            return {\n              ...reply,\n              username: user?.username || 'Unknown User'\n            };\n          } catch (error) {\n            console.error(\"Error fetching user for reply:\", error);\n            return {\n              ...reply,\n              username: 'Unknown User'\n            };\n          }\n        })\n      );\n      \n      return repliesWithUsernames;\n    } catch (error) {\n      console.error(\"Error fetching announcement replies:\", error);\n      throw error;\n    }\n  }\n\n  async getPollResponses(pollId: string): Promise<PollResponse[]> {\n    try {\n      const responses = await db.select().from(pollResponses).where(eq(pollResponses.pollId, pollId));\n      \n      // If username column doesn't exist, we need to fetch usernames separately\n      const responsesWithUsernames = await Promise.all(\n        responses.map(async (response) => {\n          try {\n            const user = await this.getUser(response.userId);\n            return {\n              ...response,\n              username: user?.username || 'Unknown User'\n            };\n          } catch (error) {\n            console.error(\"Error fetching user for response:\", error);\n            return {\n              ...response,\n              username: 'Unknown User'\n            };\n          }\n        })\n      );\n      \n      return responsesWithUsernames;\n    } catch (error) {\n      console.error(\"Error fetching poll responses:\", error);\n      throw error;\n    }\n  }\n\n  // Course Library\n  async getCourseLibrary(): Promise<CourseLibrary[]> {\n    return await db.select().from(courseLibrary);\n  }\n\n  async getCourse(id: string): Promise<CourseLibrary | undefined> {\n    const [course] = await db.select().from(courseLibrary).where(eq(courseLibrary.id, id));\n    return course || undefined;\n  }\n\n  async createCourse(course: InsertCourseLibrary): Promise<CourseLibrary> {\n    const id = randomUUID();\n    const [newCourse] = await db\n      .insert(courseLibrary)\n      .values({ \n        ...course, \n        id,\n        createdAt: new Date(),\n        updatedAt: new Date(),\n      })\n      .returning();\n    return newCourse;\n  }\n\n  async updateCourse(id: string, course: Partial<InsertCourseLibrary>): Promise<CourseLibrary | undefined> {\n    const [updated] = await db\n      .update(courseLibrary)\n      .set(course)\n      .where(eq(courseLibrary.id, id))\n      .returning();\n    return updated || undefined;\n  }\n\n  async deleteCourse(id: string): Promise<boolean> {\n    const result = await db.delete(courseLibrary).where(eq(courseLibrary.id, id));\n    return (result.rowCount || 0) > 0;\n  }\n\n  async getTechnofestEvents(): Promise<Technofest[]> {\n    return await db.select().from(technofest);\n  }\n\n  async getTechnofestEvent(id: string): Promise<Technofest | undefined> {\n    const [event] = await db.select().from(technofest).where(eq(technofest.id, id));\n    return event || undefined;\n  }\n\n  async getTechnofestEventBySlug(slug: string): Promise<Technofest | undefined> {\n    const [event] = await db.select().from(technofest).where(eq(technofest.slug, slug));\n    return event || undefined;\n  }\n\n  async createTechnofestEvent(event: InsertTechnofest): Promise<Technofest> {\n    const [newEvent] = await db\n      .insert(technofest)\n      .values({\n        ...event,\n        createdAt: new Date(),\n        updatedAt: new Date(),\n      })\n      .returning();\n    return newEvent;\n  }\n\n  async updateTechnofestEvent(id: string, event: Partial<InsertTechnofest>): Promise<Technofest | undefined> {\n    const [updated] = await db\n      .update(technofest)\n      .set({ ...event, updatedAt: new Date() })\n      .where(eq(technofest.id, id))\n      .returning();\n    return updated || undefined;\n  }\n\n  async deleteTechnofestEvent(id: string): Promise<boolean> {\n    const result = await db.delete(technofest).where(eq(technofest.id, id));\n    return (result.rowCount || 0) > 0;\n  }\n\n  async getTechnofestEventsByCategory(category: string): Promise<Technofest[]> {\n    return await db.select().from(technofest).where(eq(technofest.category, category));\n  }\n\n  async getActiveTechnofestEvents(): Promise<Technofest[]> {\n    return await db.select().from(technofest).where(eq(technofest.isActive, true));\n  }\n\n  // TECHNOFEST REGISTRATION METHODS\n  async getTechfestRegistrations(): Promise<TechfestRegistration[]> {\n    return await db.select().from(techfestRegistrations);\n  }\n\n  async getTechfestRegistration(id: string): Promise<TechfestRegistration | undefined> {\n    const [registration] = await db.select().from(techfestRegistrations).where(eq(techfestRegistrations.id, id));\n    return registration || undefined;\n  }\n\n  async getTechfestRegistrationsByEvent(technofestId: string): Promise<TechfestRegistration[]> {\n    return await db.select().from(techfestRegistrations).where(eq(techfestRegistrations.technofestId, technofestId));\n  }\n\n  async createTechfestRegistration(registration: InsertTechfestRegistration): Promise<TechfestRegistration> {\n    const [newRegistration] = await db\n      .insert(techfestRegistrations)\n      .values({\n        ...registration,\n        createdAt: new Date(),\n      })\n      .returning();\n    return newRegistration;\n  }\n\n  async getTechfestRegistrations(): Promise<TechfestRegistration[]> {\n    return await db.select().from(techfestRegistrations);\n  }\n\n  async deleteTechfestRegistration(id: string): Promise<boolean> {\n    const result = await db.delete(techfestRegistrations).where(eq(techfestRegistrations.id, id));\n    return (result.rowCount || 0) > 0;\n  }\n\n  // REGISTRATION MEMBER METHODS\n  async getRegistrationMembers(registrationId: string): Promise<RegistrationMember[]> {\n    return await db.select().from(registrationMembers).where(eq(registrationMembers.registrationId, registrationId));\n  }\n\n  async createRegistrationMember(member: InsertRegistrationMember): Promise<RegistrationMember> {\n    const [newMember] = await db\n      .insert(registrationMembers)\n      .values(member)\n      .returning();\n    return newMember;\n  }\n\n  async deleteRegistrationMember(id: string): Promise<boolean> {\n    const result = await db.delete(registrationMembers).where(eq(registrationMembers.id, id));\n    return (result.rowCount || 0) > 0;\n  }\n\n  async bulkCreateRegistrationMembers(members: InsertRegistrationMember[]): Promise<RegistrationMember[]> {\n    const createdMembers = await db\n      .insert(registrationMembers)\n      .values(members)\n      .returning();\n    return createdMembers;\n  }\n\n  async getSiteSetting(key: string): Promise<string | null> {\n    const [setting] = await db.select().from(siteSettings).where(eq(siteSettings.key, key));\n    return setting?.value || null;\n  }\n\n  async setSiteSetting(key: string, value: string): Promise<void> {\n    await db\n      .insert(siteSettings)\n      .values({ key, value })\n      .onConflictDoUpdate({ \n        target: siteSettings.key, \n        set: { value, updatedAt: new Date() } \n      });\n  }\n\n  async getAllSiteSettings(): Promise<SiteSettings[]> {\n    return await db.select().from(siteSettings);\n  }\n}\n\n// Use in-memory storage for development when database is not available\nlet storage: IStorage;\ntry {\n  // Try to use database storage if DATABASE_URL is available\n  if (process.env.DATABASE_URL) {\n    storage = new DatabaseStorage();\n    // Initialize data on startup\n    storage.initializeData().catch(console.error);\n  } else {\n    // Fallback to in-memory storage\n    console.log(\"No DATABASE_URL found, using in-memory storage\");\n    storage = new MemStorage();\n    // Initialize data on startup\n    storage.initializeData().catch(console.error);\n  }\n} catch (error) {\n  console.log(\"Database connection failed, using in-memory storage:\", error);\n  storage = new MemStorage();\n  // Initialize data on startup\n  storage.initializeData().catch(console.error);\n}\n\nexport { storage };\n","size_bytes":53827},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"shared/schema.ts":{"content":"import { pgTable, text, varchar, timestamp, integer, boolean, uuid, smallint, jsonb } from \"drizzle-orm/pg-core\";\nimport { sql } from \"drizzle-orm\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const events = pgTable(\"events\", {\n  id: varchar(\"id\").primaryKey(),\n  title: text(\"title\").notNull(),\n  description: text(\"description\").notNull(),\n  date: timestamp(\"date\").notNull(),\n  location: text(\"location\").notNull(),\n  tags: text(\"tags\").array(),\n  imageUrl: text(\"image_url\"),\n  featured: integer(\"featured\").default(0),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const teamMembers = pgTable(\"team_members\", {\n  id: varchar(\"id\").primaryKey(),\n  name: text(\"name\").notNull(),\n  description: text(\"description\").notNull(),\n  imageUrl: text(\"image_url\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const galleryImages = pgTable(\"gallery_images\", {\n  id: varchar(\"id\").primaryKey(),\n  title: text(\"title\").notNull(),\n  imageUrl: text(\"image_url\").notNull(),\n  description: text(\"description\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const admins = pgTable(\"admins\", {\n  id: varchar(\"id\").primaryKey(),\n  username: varchar(\"username\").notNull().unique(),\n  password: varchar(\"password\").notNull(),\n  email: varchar(\"email\").notNull().unique(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const registrations = pgTable(\"registrations\", {\n  id: varchar(\"id\").primaryKey(),\n  eventId: varchar(\"event_id\").notNull(),\n  name: text(\"name\").notNull(),\n  email: varchar(\"email\").notNull(),\n  phone: varchar(\"phone\"),\n  status: varchar(\"status\").default(\"pending\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const aboutContent = pgTable(\"about_content\", {\n  id: varchar(\"id\").primaryKey(),\n  section: varchar(\"section\").notNull().unique(),\n  title: text(\"title\").notNull(),\n  content: text(\"content\").notNull(),\n  imageUrl: text(\"image_url\"),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// New tables for role-based system and community features\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey(),\n  username: varchar(\"username\").notNull().unique(),\n  email: varchar(\"email\").notNull().unique(),\n  password: varchar(\"password\"), // Added password field for user login\n  role: varchar(\"role\").notNull().default(\"user\"), // user, coordinator, super_admin\n  isApproved: boolean(\"is_approved\").default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport const polls = pgTable(\"polls\", {\n  id: varchar(\"id\").primaryKey(),\n  title: text(\"title\").notNull(),\n  description: text(\"description\"),\n  options: text(\"options\").array().notNull(), // Array of poll options\n  createdBy: varchar(\"created_by\").notNull(), // User ID who created the poll\n  isActive: boolean(\"is_active\").default(true),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport const pollResponses = pgTable(\"poll_responses\", {\n  id: varchar(\"id\").primaryKey(),\n  pollId: varchar(\"poll_id\").notNull(),\n  userId: varchar(\"user_id\").notNull(),\n  username: varchar(\"username\").notNull(),\n  selectedOption: integer(\"selected_option\").notNull(), // Index of selected option\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const announcements = pgTable(\"announcements\", {\n  id: varchar(\"id\").primaryKey(),\n  title: text(\"title\").notNull(),\n  content: text(\"content\").notNull(),\n  createdBy: varchar(\"created_by\").notNull(), // User ID who created the announcement\n  isImportant: boolean(\"is_important\").default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport const announcementReplies = pgTable(\"announcement_replies\", {\n  id: varchar(\"id\").primaryKey(),\n  announcementId: varchar(\"announcement_id\").notNull(),\n  userId: varchar(\"user_id\").notNull(),\n  username: varchar(\"username\").notNull(),\n  content: text(\"content\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const courseLibrary = pgTable(\"course_library\", {\n  id: varchar(\"id\").primaryKey(),\n  title: text(\"title\").notNull(),\n  description: text(\"description\"),\n  imageUrl: text(\"image_url\"),\n  courseUrl: text(\"course_url\").notNull(),\n  createdBy: varchar(\"created_by\").notNull(), // User ID who created the course\n  isActive: boolean(\"is_active\").default(true),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport const technofest = pgTable(\"technofest\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  slug: text(\"slug\").unique(),\n  name: text(\"name\").notNull(),\n  number: integer(\"number\"),\n  category: text(\"category\").notNull(),\n  short_description: text(\"short_description\").notNull(),\n  description: text(\"description\").notNull(),\n  rules: jsonb(\"rules\").notNull().default(sql`'[]'::jsonb`),\n  youtube_url: text(\"youtube_url\"),\n  team_min: smallint(\"team_min\").notNull(),\n  team_max: smallint(\"team_max\").notNull(),\n  spline_right_url: text(\"spline_right_url\"),\n  is_active: boolean(\"is_active\").notNull().default(true),\n  created_at: timestamp(\"created_at\", { withTimezone: true }).notNull().defaultNow(),\n  updated_at: timestamp(\"updated_at\", { withTimezone: true }).notNull().defaultNow(),\n});\n\nexport const techfestRegistrations = pgTable(\"techfest_registrations\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  technofestId: uuid(\"technofest_id\").notNull().references(() => technofest.id, { onDelete: \"cascade\" }),\n  teamName: text(\"team_name\").notNull(),\n  teamLeaderName: text(\"team_leader_name\").notNull(),\n  teamLeaderEmail: text(\"team_leader_email\").notNull(),\n  contactEmail: text(\"contact_email\").notNull(),\n  createdAt: timestamp(\"created_at\", { withTimezone: true }).notNull().defaultNow(),\n});\n\nexport const registrationMembers = pgTable(\"registration_members\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  registrationId: uuid(\"registration_id\").notNull().references(() => techfestRegistrations.id, { onDelete: \"cascade\" }),\n  name: text(\"name\").notNull(),\n  email: text(\"email\"),\n});\n\nexport const siteSettings = pgTable(\"site_settings\", {\n  key: text(\"key\").primaryKey(),\n  value: text(\"value\").notNull(),\n  updatedAt: timestamp(\"updated_at\", { withTimezone: true }).notNull().defaultNow(),\n});\n\n\nexport const insertEventSchema = createInsertSchema(events).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertTeamMemberSchema = createInsertSchema(teamMembers).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertGalleryImageSchema = createInsertSchema(galleryImages).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertAdminSchema = createInsertSchema(admins).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertRegistrationSchema = createInsertSchema(registrations).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertAboutContentSchema = createInsertSchema(aboutContent).omit({\n  id: true,\n  updatedAt: true,\n});\n\nexport const insertTechnofestSchema = createInsertSchema(technofest).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertTechfestRegistrationSchema = createInsertSchema(techfestRegistrations).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertRegistrationMemberSchema = createInsertSchema(registrationMembers).omit({\n  id: true,\n});\n\n// New schemas for role-based system\nexport const insertUserSchema = createInsertSchema(users).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertPollSchema = createInsertSchema(polls).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertPollResponseSchema = createInsertSchema(pollResponses).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertAnnouncementSchema = createInsertSchema(announcements).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertAnnouncementReplySchema = createInsertSchema(announcementReplies).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertCourseLibrarySchema = createInsertSchema(courseLibrary).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertSiteSettingsSchema = createInsertSchema(siteSettings).omit({\n  updatedAt: true,\n});\n\nexport type Event = typeof events.$inferSelect;\nexport type InsertEvent = z.infer<typeof insertEventSchema>;\nexport type TeamMember = typeof teamMembers.$inferSelect;\nexport type InsertTeamMember = z.infer<typeof insertTeamMemberSchema>;\nexport type GalleryImage = typeof galleryImages.$inferSelect;\nexport type InsertGalleryImage = z.infer<typeof insertGalleryImageSchema>;\nexport type Admin = typeof admins.$inferSelect;\nexport type InsertAdmin = z.infer<typeof insertAdminSchema>;\nexport type Registration = typeof registrations.$inferSelect;\nexport type InsertRegistration = z.infer<typeof insertRegistrationSchema>;\nexport type AboutContent = typeof aboutContent.$inferSelect;\nexport type InsertAboutContent = z.infer<typeof insertAboutContentSchema>;\n\n// New types for role-based system\nexport type User = typeof users.$inferSelect;\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type Poll = typeof polls.$inferSelect;\nexport type InsertPoll = z.infer<typeof insertPollSchema>;\nexport type PollResponse = typeof pollResponses.$inferSelect;\nexport type InsertPollResponse = z.infer<typeof insertPollResponseSchema>;\nexport type Announcement = typeof announcements.$inferSelect;\nexport type InsertAnnouncement = z.infer<typeof insertAnnouncementSchema>;\nexport type AnnouncementReply = typeof announcementReplies.$inferSelect;\nexport type InsertAnnouncementReply = z.infer<typeof insertAnnouncementReplySchema>;\nexport type CourseLibrary = typeof courseLibrary.$inferSelect;\nexport type InsertCourseLibrary = z.infer<typeof insertCourseLibrarySchema>;\n\nexport type Technofest = typeof technofest.$inferSelect;\nexport type InsertTechnofest = z.infer<typeof insertTechnofestSchema>;\n\nexport type TechfestRegistration = typeof techfestRegistrations.$inferSelect;\nexport type InsertTechfestRegistration = z.infer<typeof insertTechfestRegistrationSchema>;\n\nexport type RegistrationMember = typeof registrationMembers.$inferSelect;\nexport type InsertRegistrationMember = z.infer<typeof insertRegistrationMemberSchema>;\n\nexport type SiteSettings = typeof siteSettings.$inferSelect;\nexport type InsertSiteSettings = typeof siteSettings.$inferInsert;\n\n","size_bytes":10581},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { Navigation } from \"@/components/navigation\";\nimport { Footer } from \"@/components/footer\";\nimport { AdminLayout } from \"@/components/admin-layout\";\nimport { AuthGuard } from \"@/components/auth-guard\";\nimport Home from \"@/pages/home\";\nimport About from \"@/pages/about\";\nimport Events from \"@/pages/events\";\nimport Techfest from \"./pages/techfest\";\nimport Gallery from \"@/pages/gallery\";\nimport NotFound from \"@/pages/not-found\";\nimport AdminLogin from \"@/pages/admin/login\";\nimport AdminDashboard from \"@/pages/admin/dashboard\";\nimport AdminEvents from \"@/pages/admin/events\";\nimport AdminTeam from \"@/pages/admin/team\";\nimport AdminGallery from \"@/pages/admin/gallery\";\nimport AdminRegistrations from \"@/pages/admin/registrations\";\nimport AdminAbout from \"@/pages/admin/about\";\nimport Community from \"@/pages/community\";\nimport AdminPolls from \"@/pages/admin/polls\";\nimport AdminAnnouncements from \"@/pages/admin/announcements\";\nimport AdminCourses from \"@/pages/admin/courses\";\nimport AdminUsers from \"@/pages/admin/users\";\nimport AdminTechnofest from \"@/pages/admin/technofest\";\nimport UserLogin from \"@/pages/user/login\";\nimport { useEffect, useState } from \"react\";\nimport { SplineLoader } from \"./components/loader-spline\";\nfunction PageLoader() {\n  return (\n    <div className=\"fixed inset-0 bg-tech-light z-50 flex items-center justify-center\">\n      <SplineLoader\n      />\n    </div>\n  );\n}\n\nfunction Router() {\n  return (\n    <Switch>\n      {/* Admin routes */}\n      <Route path=\"/admin/login\" component={AdminLogin} />\n      <Route path=\"/admin/:rest*\">\n        {(params) => (\n          <AuthGuard>\n            <AdminLayout>\n              <Switch>\n                <Route path=\"/admin/dashboard\" component={AdminDashboard} />\n                <Route path=\"/admin/events\" component={AdminEvents} />\n                <Route path=\"/admin/technofest\" component={AdminTechnofest} />\n                <Route path=\"/admin/team\" component={AdminTeam} />\n                <Route path=\"/admin/gallery\" component={AdminGallery} />\n                <Route path=\"/admin/registrations\" component={AdminRegistrations} />\n                <Route path=\"/admin/polls\" component={AdminPolls} />\n              <Route path=\"/admin/announcements\" component={AdminAnnouncements} />\n              <Route path=\"/admin/courses\" component={AdminCourses} />\n                <Route path=\"/admin/users\" component={AdminUsers} />\n                <Route path=\"/admin/about\" component={AdminAbout} />\n                <Route path=\"/admin/:rest*\" component={() => <div className=\"p-6\">Admin feature coming soon...</div>} />\n              </Switch>\n            </AdminLayout>\n          </AuthGuard>\n        )}\n      </Route>\n      \n      {/* User routes */}\n      <Route path=\"/user/login\" component={UserLogin} />\n      \n      {/* Public routes */}\n      <Route>\n        {() => (\n          <div className=\"min-h-screen flex flex-col\">\n            <Navigation />\n            <main className=\"flex-1\">\n              <Switch>\n                <Route path=\"/\" component={Home} />\n                <Route path=\"/about\" component={About} />\n                <Route path=\"/events\" component={Events} />\n                <Route path=\"/techfest\" component={Techfest} />\n                <Route path=\"/gallery\" component={Gallery} />\n                <Route path=\"/community\" component={Community} />\n                <Route component={NotFound} />\n              </Switch>\n            </main>\n          </div>\n        )}\n      </Route>\n    </Switch>\n  );\n}\n\nfunction App() {\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setIsLoading(false);\n    }, 2000);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  if (isLoading) {\n    return <PageLoader />;\n  }\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <Toaster />\n        <Router />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":4249},"client/src/index.css":{"content":"@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@300;400;500;600;700;800&family=Fira+Code:wght@300;400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700;800;900&display=swap');\n\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n:root {\n  --background: hsl(0 0% 100%);\n  --foreground: hsl(220 13% 18%);\n  --card: hsl(220 13% 97%);\n  --card-foreground: hsl(220 13% 18%);\n  --popover: hsl(0 0% 100%);\n  --popover-foreground: hsl(220 13% 18%);\n  --primary: hsl(221 83% 53%);\n  --primary-foreground: hsl(0 0% 100%);\n  --secondary: hsl(210 40% 98%);\n  --secondary-foreground: hsl(220 13% 18%);\n  --muted: hsl(220 13% 95%);\n  --muted-foreground: hsl(220 13% 45%);\n  --accent: hsl(220 13% 95%);\n  --accent-foreground: hsl(220 13% 18%);\n  --destructive: hsl(0 72% 51%);\n  --destructive-foreground: hsl(0 0% 100%);\n  --border: hsl(220 13% 91%);\n  --input: hsl(220 13% 91%);\n  --ring: hsl(221 83% 53%);\n  --chart-1: hsl(221 83% 53%);\n  --chart-2: hsl(160 84% 39%);\n  --chart-3: hsl(43 74% 49%);\n  --chart-4: hsl(27 87% 67%);\n  --chart-5: hsl(12 76% 61%);\n  --sidebar: hsl(220 13% 97%);\n  --sidebar-foreground: hsl(220 13% 18%);\n  --sidebar-primary: hsl(221 83% 53%);\n  --sidebar-primary-foreground: hsl(0 0% 100%);\n  --sidebar-accent: hsl(220 13% 95%);\n  --sidebar-accent-foreground: hsl(220 13% 18%);\n  --sidebar-border: hsl(220 13% 91%);\n  --sidebar-ring: hsl(221 83% 53%);\n  --font-sans: 'Space Grotesk', 'Inter', sans-serif;\n  --font-mono: 'JetBrains Mono', monospace;\n  --font-code: 'Fira Code', monospace;\n  --font-tech: 'Orbitron', 'JetBrains Mono', monospace;\n  font-display: swap; /* Prevent FOIT/FOUT */\n  --radius: 0.75rem;\n  --tech-blue: hsl(221 83% 53%);\n  --tech-green: hsl(160 84% 39%);\n  --tech-dark: hsl(220 13% 18%);\n  --tech-grey: hsl(220 13% 45%);\n  --tech-light: hsl(220 40% 98%);\n}\n\n.dark {\n  --background: hsl(224 71% 4%);\n  --foreground: hsl(213 31% 91%);\n  --card: hsl(224 71% 4%);\n  --card-foreground: hsl(213 31% 91%);\n  --popover: hsl(224 71% 4%);\n  --popover-foreground: hsl(213 31% 91%);\n  --primary: hsl(221 83% 53%);\n  --primary-foreground: hsl(0 0% 100%);\n  --secondary: hsl(215 28% 17%);\n  --secondary-foreground: hsl(213 31% 91%);\n  --muted: hsl(215 28% 17%);\n  --muted-foreground: hsl(217 11% 65%);\n  --accent: hsl(215 28% 17%);\n  --accent-foreground: hsl(213 31% 91%);\n  --destructive: hsl(0 63% 31%);\n  --destructive-foreground: hsl(213 31% 91%);\n  --border: hsl(215 28% 17%);\n  --input: hsl(215 28% 17%);\n  --ring: hsl(221 83% 53%);\n  --chart-1: hsl(221 83% 53%);\n  --chart-2: hsl(160 84% 39%);\n  --chart-3: hsl(43 74% 49%);\n  --chart-4: hsl(27 87% 67%);\n  --chart-5: hsl(12 76% 61%);\n  --sidebar: hsl(224 71% 4%);\n  --sidebar-foreground: hsl(213 31% 91%);\n  --sidebar-primary: hsl(221 83% 53%);\n  --sidebar-primary-foreground: hsl(0 0% 100%);\n  --sidebar-accent: hsl(215 28% 17%);\n  --sidebar-accent-foreground: hsl(213 31% 91%);\n  --sidebar-border: hsl(215 28% 17%);\n  --sidebar-ring: hsl(221 83% 53%);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply bg-background text-foreground font-sans antialiased;\n  }\n\n  html {\n    scroll-behavior: smooth;\n  }\n}\n\n@layer components {\n  .tech-gradient {\n    background: linear-gradient(135deg, var(--tech-blue) 0%, var(--tech-green) 100%);\n  }\n\n  .geometric-card {\n    background: linear-gradient(135deg, hsl(0 0% 100%) 0%, hsl(220 40% 98%) 100%);\n    box-shadow: 0 4px 20px hsla(220 13% 18% / 0.08);\n    border: 1px solid hsl(220 13% 91%);\n  }\n\n  .spline-container {\n    position: relative;\n    overflow: hidden;\n  }\n\n  .loading-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: hsla(220 40% 98% / 0.9);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 10;\n  }\n\n  .animate-fade-in {\n    animation: fadeIn 0.8s ease-in-out;\n  }\n\n  .animate-slide-up {\n    animation: slideUp 0.6s ease-out;\n  }\n\n  .animate-float {\n    animation: float 3s ease-in-out infinite;\n  }\n\n  .animate-slide-left {\n    animation: slideInFromLeft 0.8s ease-out;\n  }\n\n  .animate-slide-right {\n    animation: slideInFromRight 0.8s ease-out;\n  }\n\n  .animate-scale-in {\n    animation: scaleIn 0.6s ease-out;\n  }\n\n  .animate-bounce-in {\n    animation: bounceIn 0.8s ease-out;\n  }\n\n  .scroll-smooth {\n    scroll-behavior: smooth;\n  }\n\n  .parallax {\n    transform: translateZ(0);\n    will-change: transform;\n  }\n\n  .hover-lift {\n    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s ease;\n    will-change: transform;\n  }\n\n  .hover-lift:hover {\n    transform: translateY(-5px) translateZ(0);\n    box-shadow: 0 10px 25px rgba(34, 60, 80, 0.2);\n  }\n\n  .responsive-container {\n    max-width: 1400px;\n    margin: 0 auto;\n    padding: 0 1rem;\n  }\n\n  @media (min-width: 640px) {\n    .responsive-container {\n      padding: 0 1.5rem;\n    }\n  }\n\n  @media (min-width: 1024px) {\n    .responsive-container {\n      padding: 0 2rem;\n    }\n  }\n\n  .spline-container {\n    position: relative;\n    overflow: hidden;\n    border-radius: 1rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .spline-cached {\n    pointer-events: none;\n    user-select: none;\n  }\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes slideUp {\n  from {\n    opacity: 0;\n    transform: translateY(40px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes float {\n  0%, 100% {\n    transform: translateY(0px);\n  }\n  50% {\n    transform: translateY(-10px);\n  }\n}\n\n@keyframes slideInFromLeft {\n  from {\n    opacity: 0;\n    transform: translateX(-50px);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n\n@keyframes slideInFromRight {\n  from {\n    opacity: 0;\n    transform: translateX(50px);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n\n@keyframes scaleIn {\n  from {\n    opacity: 0;\n    transform: scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n\n@keyframes bounceIn {\n  0% {\n    opacity: 0;\n    transform: scale(0.3);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(1.05);\n  }\n  70% {\n    transform: scale(0.9);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n\n/* Spline viewer styles */\nspline-viewer {\n  width: 100%;\n  height: 100%;\n  display: block;\n  border-radius: 12px;\n  overflow: hidden;\n  background: transparent;\n}\n\n/* Hide Spline branding */\nspline-viewer .spline-watermark,\nspline-viewer .spline-logo,\nspline-viewer [data-spline-logo],\nspline-viewer .logo,\nspline-viewer [class*=\"logo\"],\nspline-viewer [class*=\"watermark\"],\nspline-viewer [class*=\"brand\"],\nspline-viewer a[href*=\"spline.design\"],\nspline-viewer a[href*=\"utm_campaign=spline-logo\"],\nspline-viewer a[href*=\"utm_source=spline-viewer\"],\nspline-viewer a[href*=\"utm_source=public-url\"],\nspline-viewer #logo {\n  display: none !important;\n  opacity: 0 !important;\n  visibility: hidden !important;\n  pointer-events: none !important;\n}\n\n/* Additional hiding using shadow DOM penetration */\nspline-viewer::part(logo),\nspline-viewer::part(watermark) {\n  display: none !important;\n}\n\n/* Ensure Spline containers are properly sized */\n.spline-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n/* Navbar specific spline styling */\nnav spline-viewer {\n  border-radius: 50%;\n  overflow: hidden;\n}\n\n/* Performance optimizations */\n* {\n  box-sizing: border-box;\n}\n\nhtml {\n  scroll-behavior: smooth;\n}\n\nbody {\n  font-display: swap;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n/* Reduce layout shifts */\nimg {\n  height: auto;\n  max-width: 100%;\n}\n\n/* Optimize animations */\n@media (prefers-reduced-motion: reduce) {\n  *,\n  *::before,\n  *::after {\n    animation-duration: 0.01ms !important;\n    animation-iteration-count: 1 !important;\n    transition-duration: 0.01ms !important;\n  }\n}\n\n/* GPU acceleration for animations */\n.animate-fade-in,\n.animate-slide-left,\n.animate-slide-right,\n.animate-scale-in,\n.animate-bounce-in {\n  will-change: transform, opacity;\n  backface-visibility: hidden;\n  transform: translateZ(0);\n}\n\n/* Hide any bottom-right positioned elements (common logo position) */\nspline-viewer > *:last-child[style*=\"position: absolute\"][style*=\"bottom\"][style*=\"right\"] {\n  display: none !important;\n}\n\n/* Enhanced smooth scrolling for TechFest */\n#events-section {\n  scroll-behavior: smooth;\n  scroll-snap-type: y mandatory;\n}\n\n#events-section .snap-start {\n  scroll-snap-align: start;\n}\n\n/* Smooth motion for all animations */\n.motion-safe {\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n/* Enhanced scrolling smoothness */\n.scroll-smooth {\n  scroll-behavior: smooth;\n}\n","size_bytes":8854},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { AuthProvider } from \"@/contexts/auth-context\";\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      retry: 1,\n      refetchOnWindowFocus: false,\n    },\n  },\n});\n\ncreateRoot(document.getElementById(\"root\")!).render(\n  <QueryClientProvider client={queryClient}>\n    <AuthProvider>\n      <App />\n      <Toaster />\n    </AuthProvider>\n  </QueryClientProvider>\n);\n","size_bytes":614},"client/src/components/PermanentSplineBg.tsx":{"content":"// src/components/PermanentSplineBg.tsx\nimport React, { useEffect } from 'react';\n\nconst VIEWER_SRC =\n  'https://unpkg.com/@splinetool/viewer@1.9.49/build/spline-viewer.js';\nconst BG_SCENE =\n  'https://prod.spline.design/DC0L-NagpocfiwmY/scene.splinecode';\n\n// Allow the custom element in TS projects\ndeclare global {\n  namespace JSX {\n    interface IntrinsicElements {\n      'spline-viewer': React.DetailedHTMLProps<\n        React.HTMLAttributes<HTMLElement>,\n        HTMLElement\n      > & { url?: string };\n    }\n  }\n}\n\nexport function PermanentSplineBg({\n  url = BG_SCENE,\n  /** Lower = more vibrant; we reduced from 0.25 → 0.06 */\n  tintOpacity = 0.06,\n  className = '',\n}: {\n  url?: string;\n  tintOpacity?: number;\n  className?: string;\n}) {\n  useEffect(() => {\n    // inject viewer script once\n    const existing = document.querySelector('script[data-spline-viewer]');\n    if (!existing) {\n      const s = document.createElement('script');\n      s.type = 'module';\n      s.async = true;\n      s.src = VIEWER_SRC;\n      s.setAttribute('data-spline-viewer', '1');\n      document.head.appendChild(s);\n    }\n\n    // resource hints\n    const hints = [\n      ['preconnect', 'https://unpkg.com'],\n      ['dns-prefetch', 'https://unpkg.com'],\n      ['preconnect', 'https://prod.spline.design'],\n      ['dns-prefetch', 'https://prod.spline.design'],\n    ] as const;\n\n    const added: HTMLLinkElement[] = [];\n    for (const [rel, href] of hints) {\n      const l = document.createElement('link');\n      l.rel = rel;\n      l.href = href;\n      if (rel === 'preconnect') l.crossOrigin = '';\n      document.head.appendChild(l);\n      added.push(l);\n    }\n    return () => added.forEach((n) => n.remove());\n  }, []);\n\n  return (\n    <div className={`pointer-events-none fixed inset-0 -z-20 ${className}`}>\n      <spline-viewer\n        url={url}\n        style={{ width: '100%', height: '100%', display: 'block' }}\n      />\n      {/* Softer tint so the background is more vibrant */}\n      <div\n        className=\"absolute inset-0\"\n        style={{ background: `rgba(0,0,0,${tintOpacity})` }}\n      />\n    </div>\n  );\n}\n","size_bytes":2111},"client/src/components/SplineScene.tsx":{"content":"// src/components/SplineScene.tsx\nimport React, { memo, useEffect, useRef } from \"react\";\n\nexport interface SplineSceneProps {\n  className?: string;\n  sceneUrl: string;\n  /** Cap devicePixelRatio to reduce GPU load (default 1.75) */\n  maxDpr?: number;\n}\n\n/**\n * SplineScene\n * - Dynamically loads Spline runtime from CDN when mounted\n * - Caps DPR for perf, observes resize, pauses on tab hidden\n * - Fully destroys the Spline app on unmount\n */\nexport const SplineScene = memo(function SplineScene({\n  className = \"\",\n  sceneUrl,\n  maxDpr = 1.75,\n}: SplineSceneProps) {\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n  const appRef = useRef<any>(null);\n  const roRef = useRef<ResizeObserver | null>(null);\n\n  useEffect(() => {\n    let canceled = false;\n    let removeVisibility: (() => void) | null = null;\n\n    async function init() {\n      if (!canvasRef.current) return;\n      try {\n        const mod = await import(\n          \"https://unpkg.com/@splinetool/runtime@1.10.51/build/runtime.js\"\n        );\n        if (canceled) return;\n\n        const { Application } = mod as { Application: any };\n        const app = new Application(canvasRef.current);\n\n        // Cap DPR for perf on hi-DPI displays\n        const desired = Math.min(window.devicePixelRatio || 1, maxDpr);\n        try { app.setPixelRatio?.(desired); } catch {}\n\n        // Load scene\n        await app.load(sceneUrl);\n        appRef.current = app;\n\n        // Resize observer to keep canvas sharp\n        roRef.current = new ResizeObserver(() => {\n          try { app.resize?.(); } catch {\n            try { app.setPixelRatio?.(desired); } catch {}\n          }\n        });\n        roRef.current.observe(canvasRef.current!);\n\n        // Pause when tab is hidden\n        const onVisibility = () => {\n          try {\n            if (document.hidden) app.pause?.();\n            else app.play?.();\n          } catch {}\n        };\n        document.addEventListener(\"visibilitychange\", onVisibility);\n        removeVisibility = () => document.removeEventListener(\"visibilitychange\", onVisibility);\n      } catch (err) {\n        console.error(\"[SplineScene] Failed to init:\", err);\n      }\n    }\n\n    init();\n\n    return () => {\n      canceled = true;\n      try { removeVisibility?.(); } catch {}\n      try { roRef.current?.disconnect(); } catch {}\n      roRef.current = null;\n\n      if (appRef.current) {\n        try { appRef.current.destroy?.(); } catch (e) {\n          console.warn(\"[SplineScene] Error destroying app:\", e);\n        }\n        appRef.current = null;\n      }\n    };\n  }, [sceneUrl, maxDpr]);\n\n  return (\n    <div className={`relative w-full h-full rounded-2xl ${className}`}>\n      <canvas\n        ref={canvasRef}\n        className=\"block w-full h-full outline-none\"\n        style={{ background: \"transparent\" }}\n      />\n    </div>\n  );\n});\n","size_bytes":2834},"client/src/components/SuitPursuit.tsx":{"content":"// src/components/SuitPursuit.tsx\nimport React, { memo } from \"react\";\nimport { SplineScene } from \"./SplineScene\";\n\ninterface SuitPursuitProps {\n  className?: string;\n}\n\nexport const SuitPursuit = memo(function SuitPursuit({ className = \"\" }: SuitPursuitProps) {\n  return (\n    <SplineScene\n      className={{className}}\n      sceneUrl=\"https://prod.spline.design/N5KWfoFEi1dBayTl/scene.splinecode\"\n      maxDpr={1.75}\n    />\n  );\n});\n","size_bytes":436},"client/src/components/admin-layout.tsx":{"content":"import { Link, useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { \n  Calendar, \n  Users, \n  Image, \n  FileText, \n  UserCheck,\n  Home,\n  LogOut,\n  BarChart3,\n  MessageSquare,\n  Vote,\n  BookOpen,\n  Trophy\n} from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { adminLogout } from \"@/lib/api\";\n\ninterface AdminLayoutProps {\n  children: React.ReactNode;\n}\n\nexport function AdminLayout({ children }: AdminLayoutProps) {\n  const [location] = useLocation();\n  const [, setLocation] = useLocation();\n\n  const handleLogout = async () => {\n    try {\n      await adminLogout();\n    } finally {\n      setLocation('/admin/login');\n    }\n  };\n\n  const navigation = [\n    { name: 'Dashboard', href: '/admin/dashboard', icon: BarChart3 },\n    { name: 'Events', href: '/admin/events', icon: Calendar },\n    { name: 'TechFest', href: '/admin/technofest', icon: Trophy },\n    { name: 'Registrations', href: '/admin/registrations', icon: UserCheck },\n    { name: 'Team', href: '/admin/team', icon: Users },\n    { name: 'Polls', href: '/admin/polls', icon: Vote },\n    { name: 'Announcements', href: '/admin/announcements', icon: MessageSquare },\n    { name: 'Courses', href: '/admin/courses', icon: BookOpen },\n    { name: 'Gallery', href: '/admin/gallery', icon: Image },\n    { name: 'About Us', href: '/admin/about', icon: FileText },\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-tech-light\">\n      {/* Sidebar */}\n      <div className=\"fixed inset-y-0 left-0 z-50 w-64 bg-tech-dark shadow-lg\">\n        <div className=\"flex h-full flex-col\">\n          {/* Logo */}\n          <div className=\"flex h-16 shrink-0 items-center px-6 border-b border-tech-grey/20\">\n            <Link href=\"/\" className=\"flex items-center space-x-2\">\n              <Home className=\"h-6 w-6 text-tech-blue\" />\n              <span className=\"font-tech font-bold text-tech-light\">Innovare Admin</span>\n            </Link>\n          </div>\n\n          {/* Navigation */}\n          <nav className=\"flex-1 px-4 pb-4 pt-5\">\n            <ul className=\"space-y-1\">\n              {navigation.map((item) => (\n                <li key={item.name}>\n                  <Link\n                    href={item.href}\n                    className={cn(\n                      \"group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors font-tech\",\n                      location === item.href\n                        ? \"bg-tech-blue text-tech-dark\"\n                        : \"text-tech-light hover:bg-tech-grey/20 hover:text-tech-blue\"\n                    )}\n                    data-testid={`nav-${item.name.toLowerCase().replace(' ', '-')}`}\n                  >\n                    <item.icon\n                      className={cn(\n                        \"mr-3 h-5 w-5 shrink-0\",\n                        location === item.href\n                          ? \"text-tech-dark\"\n                          : \"text-tech-grey group-hover:text-tech-blue\"\n                      )}\n                    />\n                    {item.name}\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </nav>\n\n          {/* Logout */}\n          <div className=\"px-4 pb-4\">\n            <Button\n              onClick={handleLogout}\n              variant=\"ghost\"\n              className=\"w-full justify-start text-tech-light hover:bg-red-900/20 hover:text-red-400 font-tech\"\n              data-testid=\"button-logout\"\n            >\n              <LogOut className=\"mr-3 h-5 w-5\" />\n              Logout\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      {/* Main content */}\n      <div className=\"pl-64\">\n        <main className=\"flex-1\">\n          {children}\n        </main>\n      </div>\n    </div>\n  );\n}","size_bytes":3754},"client/src/components/auth-guard.tsx":{"content":"import { useEffect, useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { getAuthToken } from \"@/lib/api\";\nimport { Loader2 } from \"lucide-react\";\n\ninterface AuthGuardProps {\n  children: React.ReactNode;\n}\n\nexport function AuthGuard({ children }: AuthGuardProps) {\n  const [, setLocation] = useLocation();\n  const [isAuthenticated, setIsAuthenticated] = useState<boolean | null>(null);\n\n  useEffect(() => {\n    const checkAuth = () => {\n      const token = getAuthToken();\n      if (!token) {\n        setLocation(\"/admin/login\");\n        return;\n      }\n      \n      // Here you could also validate the token with the server\n      // For now, we'll just check if it exists\n      setIsAuthenticated(true);\n    };\n\n    checkAuth();\n  }, [setLocation]);\n\n  if (isAuthenticated === null) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-tech-light\">\n        <div className=\"text-center\">\n          <Loader2 className=\"h-8 w-8 animate-spin text-tech-blue mx-auto mb-4\" />\n          <p className=\"text-tech-grey font-tech\">Verifying authentication...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return null; // Will redirect to login\n  }\n\n  return <>{children}</>;\n}\n","size_bytes":1246},"client/src/components/countdown-timer.tsx":{"content":"import { useState, useEffect } from \"react\";\n\ninterface CountdownTimerProps {\n  targetDate: string;\n  className?: string;\n}\n\nexport function CountdownTimer({ targetDate, className = \"\" }: CountdownTimerProps) {\n  const [timeLeft, setTimeLeft] = useState({\n    days: 0,\n    hours: 0,\n    minutes: 0,\n    seconds: 0,\n  });\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const now = new Date().getTime();\n      const target = new Date(targetDate).getTime();\n      const difference = target - now;\n\n      if (difference > 0) {\n        setTimeLeft({\n          days: Math.floor(difference / (1000 * 60 * 60 * 24)),\n          hours: Math.floor((difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)),\n          minutes: Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60)),\n          seconds: Math.floor((difference % (1000 * 60)) / 1000),\n        });\n      } else {\n        setTimeLeft({ days: 0, hours: 0, minutes: 0, seconds: 0 });\n      }\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, [targetDate]);\n\n  return (\n    <div className={`tech-gradient rounded-xl lg:rounded-2xl p-4 sm:p-6 text-white text-center hover-lift animate-bounce-in ${className}`}>\n      <h4 className=\"font-tech text-base sm:text-lg font-semibold mb-3 sm:mb-4\">Time Remaining</h4>\n      <div className=\"grid grid-cols-4 gap-2 sm:gap-3 text-center\" data-testid=\"countdown-timer\">\n        <div className=\"bg-white/20 rounded-lg p-2 sm:p-3\">\n          <div className=\"font-mono text-lg sm:text-xl lg:text-2xl font-bold\" data-testid=\"countdown-days\">\n            {timeLeft.days.toString().padStart(2, \"0\")}\n          </div>\n          <div className=\"text-xs sm:text-sm\">Days</div>\n        </div>\n        <div className=\"bg-white/20 rounded-lg p-2 sm:p-3\">\n          <div className=\"font-mono text-lg sm:text-xl lg:text-2xl font-bold\" data-testid=\"countdown-hours\">\n            {timeLeft.hours.toString().padStart(2, \"0\")}\n          </div>\n          <div className=\"text-xs sm:text-sm\">Hours</div>\n        </div>\n        <div className=\"bg-white/20 rounded-lg p-2 sm:p-3\">\n          <div className=\"font-mono text-lg sm:text-xl lg:text-2xl font-bold\" data-testid=\"countdown-minutes\">\n            {timeLeft.minutes.toString().padStart(2, \"0\")}\n          </div>\n          <div className=\"text-xs sm:text-sm\">Minutes</div>\n        </div>\n        <div className=\"bg-white/20 rounded-lg p-2 sm:p-3\">\n          <div className=\"font-mono text-lg sm:text-xl lg:text-2xl font-bold\" data-testid=\"countdown-seconds\">\n            {timeLeft.seconds.toString().padStart(2, \"0\")}\n          </div>\n          <div className=\"text-xs sm:text-sm\">Seconds</div>\n        </div>\n      </div>\n      <button className=\"mt-3 sm:mt-4 w-full bg-white text-tech-blue font-mono font-semibold py-2 sm:py-3 rounded-lg sm:rounded-xl hover:bg-gray-100 transition-all duration-300 hover-lift text-sm sm:text-base\" data-testid=\"register-button\">\n        Register Now\n      </button>\n    </div>\n  );\n}\n","size_bytes":2972},"client/src/components/csv-upload.tsx":{"content":"import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { authenticatedRequest } from \"@/lib/api\";\nimport { Upload, FileText, Users, CheckCircle, AlertCircle } from \"lucide-react\";\n\ninterface CSVUploadProps {\n  onSuccess?: () => void;\n}\n\nexport default function CSVUpload({ onSuccess }: CSVUploadProps) {\n  const { toast } = useToast();\n  const [file, setFile] = useState<File | null>(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const [preview, setPreview] = useState<any[]>([]);\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const selectedFile = e.target.files?.[0];\n    if (selectedFile && selectedFile.type === \"text/csv\") {\n      setFile(selectedFile);\n      parseCSV(selectedFile);\n    } else {\n      toast({\n        title: \"Invalid file type\",\n        description: \"Please select a valid CSV file\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const parseCSV = (file: File) => {\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      const text = e.target?.result as string;\n      const lines = text.split('\\n');\n      const headers = lines[0].split(',').map(h => h.trim());\n      const data = lines.slice(1).filter(line => line.trim()).map(line => {\n        const values = line.split(',').map(v => v.trim());\n        const row: any = {};\n        headers.forEach((header, index) => {\n          row[header] = values[index] || '';\n        });\n        return row;\n      });\n      setPreview(data.slice(0, 5)); // Show first 5 rows\n    };\n    reader.readAsText(file);\n  };\n\n  const handleUpload = async () => {\n    if (!file) return;\n\n    setIsUploading(true);\n    const formData = new FormData();\n    formData.append('file', file);\n\n    try {\n      await authenticatedRequest(\"/api/admin/users/bulk\", \"POST\", formData);\n      toast({\n        title: \"Success\",\n        description: \"Users imported successfully\",\n      });\n      setFile(null);\n      setPreview([]);\n      onSuccess?.();\n    } catch (error: any) {\n      toast({\n        title: \"Error\",\n        description: error.message || \"Failed to import users\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const downloadTemplate = () => {\n    const csvContent = \"username,email,password\\njohn_doe,john@example.com,password123\\njane_smith,jane@example.com,password456\";\n    const blob = new Blob([csvContent], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'users_template.csv';\n    a.click();\n    window.URL.revokeObjectURL(url);\n  };\n\n  return (\n    <Card className=\"bg-white border-tech-grey/20\">\n      <CardHeader>\n        <CardTitle className=\"text-tech-dark font-tech flex items-center gap-2\">\n          <Users className=\"h-5 w-5\" />\n          Bulk User Import\n        </CardTitle>\n        <CardDescription className=\"font-tech\">\n          Upload a CSV file to import multiple users at once\n        </CardDescription>\n      </CardHeader>\n      \n      <CardContent className=\"space-y-6\">\n        {/* File Upload */}\n        <div className=\"space-y-4\">\n          <div>\n            <Label htmlFor=\"csv-file\" className=\"font-tech\">Select CSV File</Label>\n            <Input\n              id=\"csv-file\"\n              type=\"file\"\n              accept=\".csv\"\n              onChange={handleFileChange}\n              className=\"font-tech\"\n            />\n          </div>\n          \n          <div className=\"flex gap-2\">\n            <Button\n              variant=\"outline\"\n              onClick={downloadTemplate}\n              className=\"font-tech\"\n            >\n              <FileText className=\"h-4 w-4 mr-2\" />\n              Download Template\n            </Button>\n            \n            {file && (\n              <Button\n                onClick={handleUpload}\n                disabled={isUploading}\n                className=\"bg-tech-blue hover:bg-tech-purple text-white font-tech\"\n              >\n                {isUploading ? (\n                  <>\n                    <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\n                    Uploading...\n                  </>\n                ) : (\n                  <>\n                    <Upload className=\"h-4 w-4 mr-2\" />\n                    Upload Users\n                  </>\n                )}\n              </Button>\n            )}\n          </div>\n        </div>\n\n        {/* File Info */}\n        {file && (\n          <div className=\"p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n            <div className=\"flex items-center gap-2 text-blue-800\">\n              <CheckCircle className=\"h-4 w-4\" />\n              <span className=\"font-medium font-tech\">File selected: {file.name}</span>\n            </div>\n            <p className=\"text-sm text-blue-600 mt-1 font-tech\">\n              Size: {(file.size / 1024).toFixed(2)} KB\n            </p>\n          </div>\n        )}\n\n        {/* Preview */}\n        {preview.length > 0 && (\n          <div className=\"space-y-3\">\n            <h4 className=\"font-medium text-tech-dark font-tech\">Preview (First 5 rows)</h4>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full text-sm border border-tech-grey/20\">\n                <thead>\n                  <tr className=\"bg-tech-grey/10\">\n                    {Object.keys(preview[0] || {}).map((header) => (\n                      <th key={header} className=\"px-3 py-2 text-left font-medium text-tech-dark border-b border-tech-grey/20\">\n                        {header}\n                      </th>\n                    ))}\n                  </tr>\n                </thead>\n                <tbody>\n                  {preview.map((row, index) => (\n                    <tr key={index} className=\"border-b border-tech-grey/20\">\n                      {Object.values(row).map((value: any, cellIndex) => (\n                        <td key={cellIndex} className=\"px-3 py-2 text-tech-grey\">\n                          {value}\n                        </td>\n                      ))}\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        )}\n\n        {/* Instructions */}\n        <div className=\"p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\n          <div className=\"flex items-start gap-2\">\n            <AlertCircle className=\"h-5 w-5 text-yellow-600 mt-0.5\" />\n            <div className=\"text-sm text-yellow-800 font-tech\">\n              <p className=\"font-medium mb-1\">CSV Format Requirements:</p>\n              <ul className=\"list-disc list-inside space-y-1\">\n                <li>First row should contain headers: username, email, password</li>\n                <li>Each subsequent row should contain user data</li>\n                <li>Passwords will be hashed automatically</li>\n                <li>Users will be created with \"pending\" status</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":7354},"client/src/components/drift.tsx":{"content":"// src/components/drift.tsx\nimport React, { memo } from \"react\";\nimport { SplineScene } from \"./SplineScene\";\n\ninterface DriftDraftProps {\n  className?: string;\n}\n\nexport const DriftDraft = memo(function DriftDraft({ className = \"\" }: DriftDraftProps) {\n  return (\n    <SplineScene\n      className={{className}}\n      sceneUrl=\"https://prod.spline.design/9ip7RU6yI67VKCrY/scene.splinecode\"\n      maxDpr={1.75}\n    />\n  );\n});\n","size_bytes":426},"client/src/components/footer.tsx":{"content":"import { Link } from \"wouter\";\nimport { Facebook, Twitter, Linkedin, Github } from \"lucide-react\";\n\nexport function Footer() {\n  return (\n    <footer className=\"bg-tech-dark text-white py-12 lg:py-16\">\n      <div className=\"responsive-container\">\n        <div className=\"grid sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8\">\n          <div className=\"sm:col-span-2 lg:col-span-2\">\n            <h3 className=\"font-tech text-xl sm:text-2xl font-bold mb-3 lg:mb-4\">Innovare Technical Club</h3>\n            <p className=\"text-gray-400 mb-4 lg:mb-6 max-w-md text-sm sm:text-base leading-relaxed\">\n              Empowering the next generation of tech innovators through cutting-edge projects,\n              collaborative learning, and breakthrough solutions.\n            </p>\n            <div className=\"flex space-x-3 lg:space-x-4\">\n              <div className=\"w-8 h-8 sm:w-10 sm:h-10 bg-tech-blue rounded-lg flex items-center justify-center hover:bg-tech-green transition-all duration-300 cursor-pointer hover-lift\" data-testid=\"social-facebook\">\n                <Facebook className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n              </div>\n              <div className=\"w-8 h-8 sm:w-10 sm:h-10 bg-tech-blue rounded-lg flex items-center justify-center hover:bg-tech-green transition-all duration-300 cursor-pointer hover-lift\" data-testid=\"social-twitter\">\n                <Twitter className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n              </div>\n              <div className=\"w-8 h-8 sm:w-10 sm:h-10 bg-tech-blue rounded-lg flex items-center justify-center hover:bg-tech-green transition-all duration-300 cursor-pointer hover-lift\" data-testid=\"social-linkedin\">\n                <Linkedin className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n              </div>\n              <div className=\"w-8 h-8 sm:w-10 sm:h-10 bg-tech-blue rounded-lg flex items-center justify-center hover:bg-tech-green transition-all duration-300 cursor-pointer hover-lift\" data-testid=\"social-github\">\n                <Github className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n              </div>\n            </div>\n          </div>\n\n          <div>\n            <h4 className=\"font-tech font-semibold mb-3 lg:mb-4 text-sm sm:text-base\">Quick Links</h4>\n            <ul className=\"space-y-1 lg:space-y-2 text-gray-400 text-sm sm:text-base\">\n              <li>\n                <Link href=\"/\" className=\"hover:text-white transition-colors duration-300\" data-testid=\"footer-home\">\n                  Home\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/about\" className=\"hover:text-white transition-colors duration-300\" data-testid=\"footer-about\">\n                  About Us\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/events\" className=\"hover:text-white transition-colors duration-300\" data-testid=\"footer-events\">\n                  Events\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/gallery\" className=\"hover:text-white transition-colors duration-300\" data-testid=\"footer-gallery\">\n                  Gallery\n                </Link>\n              </li>\n            </ul>\n          </div>\n\n          <div>\n            <h4 className=\"font-tech font-semibold mb-3 lg:mb-4 text-sm sm:text-base\">Contact Info</h4>\n            <ul className=\"space-y-1 lg:space-y-2 text-gray-400 text-xs sm:text-sm\">\n              <li data-testid=\"contact-email\">innovare@techclub.edu</li>\n              <li data-testid=\"contact-location\">Tech Building, Room 404</li>\n              <li data-testid=\"contact-meetings\">Friday Meetings, 4:00 PM</li>\n              <li data-testid=\"contact-phone\">+1 (555) 123-4567</li>\n            </ul>\n          </div>\n        </div>\n\n        <div className=\"border-t border-gray-700 mt-8 lg:mt-12 pt-6 lg:pt-8 text-center text-gray-400\">\n          <p className=\"font-mono text-xs sm:text-sm\">&copy; 2024 Innovare Technical Club. All rights reserved.</p>\n        </div>\n      </div>\n    </footer>\n  );\n}\n","size_bytes":3976},"client/src/components/home-robot.tsx":{"content":"import { memo, useEffect, useRef } from 'react';\n\ninterface HomeRobotProps {\n  className?: string;\n}\n\nexport const HomeRobot = memo(function HomeRobot({ className = \"\" }: HomeRobotProps) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const appRef = useRef<any>(null);\n\n  useEffect(() => {\n    let Application: any;\n    let app: any;\n\n    async function init() {\n      if (!canvasRef.current) return;\n\n      try {\n        // Dynamically import the Spline runtime ES module from CDN\n        // @ts-ignore - Dynamic import from CDN\n        const module = await import('https://unpkg.com/@splinetool/runtime@1.10.51/build/runtime.js');\n        Application = module.Application;\n\n        // Initialize the 3D app on the canvas\n        app = new Application(canvasRef.current);\n\n        // Load your specific Spline scene\n        await app.load('https://prod.spline.design/xpETVksa9bPLWNHs/scene.splinecode');\n\n        appRef.current = app;\n      } catch (error) {\n        console.error('Failed to load Spline scene:', error);\n      }\n    }\n\n    init();\n\n    // Cleanup on unmount\n    return () => {\n      if (appRef.current) {\n        try {\n          appRef.current.destroy();\n        } catch (error) {\n          console.error('Error destroying Spline app:', error);\n        }\n        appRef.current = null;\n      }\n    };\n  }, []);\n\n  return (\n    <div\n      className={`relative overflow-hidden rounded-2xl w-full h-64 sm:h-80 md:h-96 lg:h-[500px] ${className}`}\n    >\n      <canvas\n        ref={canvasRef}\n        className=\"w-full h-full block outline-none\"\n        style={{\n          background: 'transparent',\n          display: 'block',\n        }}\n      />\n    </div>\n  );\n});","size_bytes":1688},"client/src/components/llm.tsx":{"content":"// src/components/llm.tsx\nimport React, { memo } from \"react\";\nimport { SplineScene } from \"./SplineScene\";\n\ninterface MLLMMProps {\n  className?: string;\n}\n\nexport const MLLMM = memo(function MLLMM({ className = \"\" }: MLLMMProps) {\n  return (\n    <SplineScene\n      className={{className}}\n      sceneUrl=\"https://prod.spline.design/igDIeIuXWbuegzCZ/scene.splinecode\"\n      maxDpr={1.75}\n    />\n  );\n});\n","size_bytes":404},"client/src/components/loader-spline.tsx":{"content":"import { memo, useEffect, useRef } from 'react';\n\ninterface SplineLoaderProps {\n  className?: string;\n}\n\nexport const SplineLoader = memo(function SplineLoader({ className = \"\" }: SplineLoaderProps) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const appRef = useRef<any>(null);\n\n  useEffect(() => {\n    let Application: any;\n    let app: any;\n\n    async function init() {\n      if (!canvasRef.current) return;\n\n      try {\n        // Dynamically import the Spline runtime ES module from CDN\n        // @ts-ignore - Dynamic import from CDN\n        const module = await import('https://unpkg.com/@splinetool/runtime@1.10.51/build/runtime.js');\n        Application = module.Application;\n\n        // Initialize the 3D app on the canvas\n        app = new Application(canvasRef.current);\n\n        // Load your specific Spline scene\n        await app.load('https://prod.spline.design/e3edlM-UvyG2xiRK/scene.splinecode');\n\n        appRef.current = app;\n      } catch (error) {\n        console.error('Failed to load Spline scene:', error);\n      }\n    }\n\n    init();\n\n    // Cleanup on unmount\n    return () => {\n      if (appRef.current) {\n        try {\n          appRef.current.destroy();\n        } catch (error) {\n          console.error('Error destroying Spline app:', error);\n        }\n        appRef.current = null;\n      }\n    };\n  }, []);\n\n return (\n    <div className={`fixed inset-0 bg-tech-light z-50 flex items-center justify-center ${className}`}>\n      <div className=\"relative w-full h-full max-w-full max-h-full overflow-hidden\">\n        <canvas\n          ref={canvasRef}\n          className=\"absolute top-1/2 left-1/2 block outline-none\"\n          style={{\n            transform: \"translate(-50%, -50%)\",\n            width: \"100vw\",\n            height: \"100vh\",\n            maxWidth: \"100vw\",\n            maxHeight: \"100vh\",\n            objectFit: \"contain\",\n            background: \"transparent\",\n            display: \"block\",\n          }}\n        />\n      </div>\n    </div>\n  );\n});","size_bytes":2004},"client/src/components/navbar-robot.tsx":{"content":"import { memo, useEffect, useRef } from 'react';\n\ninterface NavbarRobotProps {\n  className?: string;\n}\n\nexport const NavbarRobot = memo(function NavbarRobot({ className = \"\" }: NavbarRobotProps) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const appRef = useRef<any>(null);\n\n  useEffect(() => {\n    let Application: any;\n    let app: any;\n\n    async function init() {\n      if (!canvasRef.current) return;\n\n      try {\n        // Dynamically import the Spline runtime ES module from CDN\n        // @ts-ignore - Dynamic import from CDN\n        const module = await import('https://unpkg.com/@splinetool/runtime@1.10.51/build/runtime.js');\n        Application = module.Application;\n\n        // Initialize the 3D app on the canvas\n        app = new Application(canvasRef.current);\n\n        // Load your specific Spline scene\n        await app.load('https://prod.spline.design/Ay6UN91vSyqNnyBd/scene.splinecode');\n\n        appRef.current = app;\n      } catch (error) {\n        console.error('Failed to load Spline scene:', error);\n      }\n    }\n\n    init();\n\n    // Cleanup on unmount\n    return () => {\n      if (appRef.current) {\n        try {\n          appRef.current.destroy();\n        } catch (error) {\n          console.error('Error destroying Spline app:', error);\n        }\n        appRef.current = null;\n      }\n    };\n  }, []);\n\n  return (\n    <div className={`relative overflow-hidden rounded-lg ${className}`}>\n      <canvas\n        ref={canvasRef}\n        className=\"w-full h-full block outline-none\"\n        style={{\n          background: 'transparent',\n          width: '100%',\n          height: '100%',\n          display: 'block'\n        }}\n      />\n    </div>\n  );\n});","size_bytes":1693},"client/src/components/navigation.tsx":{"content":"import { useState, useEffect, memo } from \"react\";\nimport { Link, useLocation } from \"wouter\";\nimport { NavbarRobot } from \"./navbar-robot\";\nimport { LogOut } from \"lucide-react\";\nimport { useIsMobile } from \"@/hooks/use-mobile\";\nimport { useAuth } from \"@/contexts/auth-context\";\n\nexport const Navigation = memo(function Navigation() {\n  const [location] = useLocation();\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const [profileMenuOpen, setProfileMenuOpen] = useState(false);\n  const isMobile = useIsMobile();\n  const { user, isAuthenticated, logout } = useAuth();\n\n  // The new order: Events, About Us, NavbarRobot, Community, Gallery\n  const navItems = [\n    { name: \"Events\", href: \"/events\" },\n    { name: \"About Us\", href: \"/about\" },\n    // NavbarRobot goes here in layout below\n    { name: \"Community\", href: \"/community\" },\n    { name: \"Gallery\", href: \"/gallery\" },\n  ];\n\n  const toggleMobileMenu = () => setMobileMenuOpen((prev) => !prev);\n  const closeMobileMenu = () => setMobileMenuOpen(false);\n\n  useEffect(() => {\n    if (!isMobile) setMobileMenuOpen(false);\n    setProfileMenuOpen(false);\n  }, [isMobile, location]);\n\n  return (\n    <nav className=\"fixed top-0 left-0 right-0 z-40 bg-background/90 backdrop-blur-lg border-b border-border/50\">\n      <div className=\"responsive-container relative\">\n        {/* TOP RIGHT PROFILE or SIGN IN */}\n        <div className=\"absolute right-0 top-0 h-full flex items-center pr-2 z-50\">\n          {isAuthenticated ? (\n            <div className=\"relative\">\n              {/* Profile Avatar Button */}\n              <button\n                className=\"w-10 h-10 rounded-full bg-tech-blue text-white flex items-center justify-center overflow-hidden focus:outline-none\"\n                onClick={() => setProfileMenuOpen((prev) => !prev)}\n                aria-label=\"Profile menu\"\n              >\n                {user.profile_image ? (\n                  <img\n                    src={user.profile_image}\n                    alt=\"Profile\"\n                    className=\"w-full h-full object-cover\"\n                  />\n                ) : (\n                  <span className=\"font-bold text-lg\">\n                    {user.username ? user.username[0].toUpperCase() : \"U\"}\n                  </span>\n                )}\n              </button>\n\n              {/* Dropdown Menu */}\n              {profileMenuOpen && (\n                <div className=\"absolute right-0 mt-1 bg-white rounded-lg shadow-lg p-4 min-w-[220px] font-tech z-50 border text-tech-dark\">\n                  {/* User Info */}\n                  <div className=\"flex items-center gap-3 mb-3\">\n                    <div className=\"w-12 h-12 rounded-full overflow-hidden bg-tech-blue text-white flex items-center justify-center\">\n                      {user.profile_image ? (\n                        <img\n                          src={user.profile_image}\n                          alt=\"Profile\"\n                          className=\"w-full h-full object-cover\"\n                        />\n                      ) : (\n                        <span className=\"font-bold text-xl\">\n                          {user.username ? user.username[0].toUpperCase() : \"U\"}\n                        </span>\n                      )}\n                    </div>\n                    <div>\n                      <div className=\"font-bold\">{user.username}</div>\n                      <div className=\"text-xs text-tech-grey\">{user.email}</div>\n                    </div>\n                  </div>\n\n                  {/* Sign Out */}\n                  <button\n                    className=\"w-full mt-2 flex items-center gap-2 p-2 rounded hover:bg-tech-light font-bold text-left text-red-600\"\n                    onClick={() => {\n                      setProfileMenuOpen(false);\n                      logout();\n                    }}\n                  >\n                    <LogOut className=\"w-4 h-4\" /> Sign Out\n                  </button>\n                </div>\n              )}\n            </div>\n          ) : (\n            <Link\n              href=\"/user/login\"\n              className=\"font-tech px-4 py-2 rounded-full font-bold transition bg-tech-blue hover:bg-tech-purple text-white shadow-lg\"\n              data-testid=\"nav-login\"\n            >\n              Sign In\n            </Link>\n          )}\n        </div>\n\n        <div className=\"flex justify-center items-center h-16 lg:h-20\">\n          {/* Desktop Navigation */}\n          <div className=\"hidden lg:flex items-center space-x-8 xl:space-x-12\">\n            {/* Left side: Events, About Us */}\n            {navItems.slice(0, 2).map((item) => (\n              <Link\n                key={item.name}\n                href={item.href}\n                className={`nav-link font-tech font-medium transition-all duration-300 hover:text-tech-blue hover-lift text-sm xl:text-base ${\n                  location === item.href\n                    ? \"text-tech-blue font-bold\"\n                    : \"text-tech-grey\"\n                }`}\n                data-testid={`nav-${item.name.toLowerCase().replace(/\\s+/g, \"-\")}`}\n              >\n                {item.name}\n              </Link>\n            ))}\n            {/* Center: NavbarRobot */}\n            <Link href=\"/\" data-testid=\"nav-logo\">\n              <NavbarRobot className=\"w-16 h-16 cursor-pointer\" />\n            </Link>\n            {/* Right side: Community, Gallery */}\n            {navItems.slice(2).map((item) => (\n              <Link\n                key={item.name}\n                href={item.href}\n                className={`nav-link font-tech font-medium transition-all duration-300 hover:text-tech-blue hover-lift text-sm xl:text-base ${\n                  location === item.href\n                    ? \"text-tech-blue font-bold\"\n                    : \"text-tech-grey\"\n                }`}\n                data-testid={`nav-${item.name.toLowerCase().replace(/\\s+/g, \"-\")}`}\n              >\n                {item.name}\n              </Link>\n            ))}\n          </div>\n          {/* Mobile Navigation Button */}\n          <div className=\"lg:hidden flex items-center justify-center\">\n            <button\n              onClick={toggleMobileMenu}\n              className=\"flex items-center justify-center w-16 h-16 rounded-lg hover:bg-accent transition-colors hover-lift overflow-hidden\"\n              data-testid=\"mobile-menu-toggle\"\n            >\n              <NavbarRobot className=\"w-16 h-16 flex-shrink-0\" />\n            </button>\n          </div>\n        </div>\n\n        {/* Mobile Navigation Menu */}\n        {mobileMenuOpen && (\n          <div className=\"lg:hidden bg-background/95 backdrop-blur-lg border-t border-border/50 animate-slide-up z-40\">\n            <div className=\"px-4 py-4 space-y-2\">\n              {[...navItems.slice(0, 2), { name: \"Logo\", href: \"/\" }, ...navItems.slice(2)].map(\n                (item, idx) =>\n                  item.name === \"Logo\" ? (\n                    <Link\n                      href={item.href}\n                      key=\"logo-mobile\"\n                      onClick={closeMobileMenu}\n                      className=\"flex box items-center justify-center py-3\"\n                    >\n                      <NavbarRobot className=\"w-16 h-16\" />\n                    </Link>\n                  ) : (\n                    <Link\n                      key={item.name}\n                      href={item.href}\n                      onClick={closeMobileMenu}\n                      className={`mobile-nav-link block px-4 py-3 font-tech font-medium transition-all duration-300 rounded-lg hover:bg-tech-light hover:text-tech-blue animate-fade-in ${\n                        location === item.href\n                          ? \"text-tech-blue font-bold bg-tech-light\"\n                          : \"text-tech-grey\"\n                      }`}\n                      style={{ animationDelay: `${idx * 0.1}s` }}\n                      data-testid={`mobile-nav-${item.name.toLowerCase().replace(/\\s+/g, \"-\")}`}\n                    >\n                      {item.name}\n                    </Link>\n                  )\n              )}\n              <div>\n                {isAuthenticated ? (\n                  <div className=\"flex items-center gap-2 mt-4\">\n                    {/* Mobile Avatar */}\n                    <button\n                      className=\"w-10 h-10 rounded-full bg-tech-blue text-white font-bold text-lg overflow-hidden\"\n                      onClick={() => setProfileMenuOpen((prev) => !prev)}\n                    >\n                      {user.profile_image ? (\n                        <img\n                          src={user.profile_image}\n                          alt=\"Profile\"\n                          className=\"w-full h-full object-cover\"\n                        />\n                      ) : (\n                        user.username\n                          ? user.username[0].toUpperCase()\n                          : \"U\"\n                      )}\n                    </button>\n                    <span className=\"font-tech\">{user.username}</span>\n                    <button\n                      className=\"ml-auto px-3 py-2 rounded bg-tech-light hover:bg-red-100 text-red-600\"\n                      onClick={logout}\n                    >\n                      Sign Out\n                    </button>\n                  </div>\n                ) : (\n                  <Link\n                    href=\"/user/login\"\n                    className=\"font-tech block w-full mt-4 px-4 py-2 rounded-full font-bold transition bg-tech-blue hover:bg-tech-purple text-white shadow-lg text-center\"\n                    data-testid=\"nav-login-mobile\"\n                  >\n                    Sign In\n                  </Link>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </nav>\n  );\n});\n","size_bytes":9803},"client/src/components/problem.tsx":{"content":"// src/components/problem.tsx\nimport React, { memo } from \"react\";\nimport { SplineScene } from \"./SplineScene\";\n\ninterface ProblemSolveProps {\n  className?: string;\n}\n\nexport const ProblemSolve = memo(function ProblemSolve({ className = \"\" }: ProblemSolveProps) {\n  return (\n    <SplineScene\n      className={{className}}\n      sceneUrl=\"https://prod.spline.design/Nz6c8Jz7oQKvPZ5W/scene.splinecode\"\n      maxDpr={1.75}\n    />\n  );\n});\n","size_bytes":436},"client/src/components/quiz.tsx":{"content":"// src/components/quiz.tsx\nimport React, { memo } from \"react\";\nimport { SplineScene } from \"./SplineScene\";\n\ninterface BuzzQuizProps {\n  className?: string;\n}\n\nexport const BuzzQuiz = memo(function BuzzQuiz({ className = \"\" }: BuzzQuizProps) {\n  return (\n    <SplineScene\n      className={{className}}\n      sceneUrl=\"https://prod.spline.design/xbTsV82bm4xhiDri/scene.splinecode\"\n      maxDpr={1.75}\n    />\n  );\n});\n","size_bytes":417},"client/src/components/spline-viewer.tsx":{"content":"import { useEffect, memo, useCallback } from \"react\";\n\n// Declare the spline-viewer element for TypeScript\ndeclare global {\n  namespace JSX {\n    interface IntrinsicElements {\n      'spline-viewer': {\n        url: string;\n        style?: React.CSSProperties;\n        'loading-anim'?: string;\n        'mouse-controls'?: string;\n        'preload'?: string;\n      };\n    }\n  }\n}\n\ninterface SplineViewerProps {\n  url: string;\n  className?: string;\n  loading?: boolean;\n  cached?: boolean;\n}\n\nlet scriptLoaded = false;\nlet scriptPromise: Promise<void> | null = null;\n\nconst loadSplineScript = (): Promise<void> => {\n  if (scriptLoaded) {\n    return Promise.resolve();\n  }\n  \n  if (scriptPromise) {\n    return scriptPromise;\n  }\n\n  scriptPromise = new Promise((resolve, reject) => {\n    const existingScript = document.querySelector('script[src*=\"spline-viewer\"]');\n    if (existingScript) {\n      scriptLoaded = true;\n      resolve();\n      return;\n    }\n\n    const script = document.createElement('script');\n    script.type = 'module';\n    script.src = 'https://unpkg.com/@splinetool/viewer@latest/build/spline-viewer.js';\n    script.async = true;\n    script.crossOrigin = 'anonymous';\n    \n    script.onload = () => {\n      scriptLoaded = true;\n      resolve();\n    };\n    \n    script.onerror = () => {\n      reject(new Error('Failed to load Spline viewer script'));\n    };\n    \n    document.head.appendChild(script);\n  });\n\n  return scriptPromise;\n};\n\nexport const SplineViewer = memo(function SplineViewer({ url, className = \"\", loading = true }: SplineViewerProps) {\n  useEffect(() => {\n    loadSplineScript().catch(console.error);\n  }, []);\n\n  const containerStyle = useCallback(() => ({\n    minHeight: '200px'\n  }), []);\n\n  const viewerStyle = useCallback(() => ({\n    width: '100%', \n    height: '100%', \n    display: 'block',\n    borderRadius: 'inherit'\n  }), []);\n\n  // Enable animations and interactions for navbar elements\n  const isNavbar = className.includes('cursor-pointer') || className.includes('rounded-full');\n  \n  return (\n    <div className={`relative overflow-hidden ${className}`} style={containerStyle()}>\n      <spline-viewer \n        url={url} \n        style={viewerStyle()}\n        loading-anim={isNavbar ? \"true\" : \"false\"}\n        mouse-controls={isNavbar ? \"true\" : \"false\"}\n        preload=\"true\"\n      />\n    </div>\n  );\n});\n","size_bytes":2353},"client/src/components/startup.tsx":{"content":"// src/components/startup.tsx\nimport React, { memo } from \"react\";\nimport { SplineScene } from \"./SplineScene\";\n\ninterface StartUpProps {\n  className?: string;\n}\n\nexport const StartUp = memo(function StartUp({ className = \"\" }: StartUpProps) {\n  return (\n    <SplineScene\n      className={{className}}\n      sceneUrl=\"https://prod.spline.design/r8XEjn9WlpwRm3DU/scene.splinecode\"\n      maxDpr={1.75}\n    />\n  );\n});\n","size_bytes":416},"client/src/components/suit.tsx":{"content":"// src/components/SuitPursuit.tsx\nimport React, { memo, useEffect, useRef } from \"react\";\n\n/**\n * SuitPursuit\n * - Mounts exactly one Spline runtime instance on a <canvas>\n * - Dynamically imports the runtime from a CDN (keeps your bundle small)\n * - Caps DPR for perf, handles resize, pauses when tab is hidden\n * - Destroys the Spline app on unmount to free GPU + memory\n */\nexport interface SuitPursuitProps {\n  className?: string;\n  /** Optional scene URL override (defaults to your current one) */\n  sceneUrl?: string;\n  /** Cap devicePixelRatio to reduce GPU load (default 1.75) */\n  maxDpr?: number;\n}\n\nexport const SuitPursuit = memo(function SuitPursuit({\n  className = \"\",\n  sceneUrl = \"https://prod.spline.design/N5KWfoFEi1dBayTl/scene.splinecode\",\n  maxDpr = 1.75,\n}: SuitPursuitProps) {\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n  const appRef = useRef<any>(null);\n  const roRef = useRef<ResizeObserver | null>(null);\n\n  useEffect(() => {\n    let canceled = false;\n    let visibilityListener: (() => void) | null = null;\n\n    async function init() {\n      if (!canvasRef.current) return;\n      try {\n        // Dynamically import the Spline runtime (ESM) from the CDN\n        // This keeps it out of your main bundle and only loads when needed.\n        const mod = await import(\n          \"https://unpkg.com/@splinetool/runtime@1.10.51/build/runtime.js\"\n        );\n        if (canceled) return;\n\n        const { Application } = mod as { Application: any };\n\n        // Create Spline app\n        const app = new Application(canvasRef.current);\n\n        // Performance: cap DPR to reduce GPU cost on hi-DPI displays\n        const desired = Math.min(window.devicePixelRatio || 1, maxDpr);\n        try {\n          app.setPixelRatio?.(desired);\n        } catch {\n          // older runtime versions may not expose setPixelRatio\n        }\n\n        // Load the scene\n        await app.load(sceneUrl);\n\n        // Save ref for cleanup\n        appRef.current = app;\n\n        // Handle resize (keep canvas sharp without relayout jank)\n        roRef.current = new ResizeObserver(() => {\n          try {\n            app.resize?.(); // recent runtimes expose resize()\n          } catch {\n            // Fallback: trigger a manual size update by toggling DPR\n            try {\n              app.setPixelRatio?.(desired);\n            } catch {\n              /* noop */\n            }\n          }\n        });\n        roRef.current.observe(canvasRef.current);\n\n        // Pause updates when tab is hidden (extra safety; browsers throttle anyway)\n        const onVisibility = () => {\n          try {\n            if (document.hidden) app.pause?.();\n            else app.play?.();\n          } catch {\n            /* noop */\n          }\n        };\n        document.addEventListener(\"visibilitychange\", onVisibility);\n        visibilityListener = () =>\n          document.removeEventListener(\"visibilitychange\", onVisibility);\n      } catch (err) {\n        // Avoid crashing the app if the CDN or scene fails\n        console.error(\"[SuitPursuit] Failed to init Spline:\", err);\n      }\n    }\n\n    init();\n\n    return () => {\n      canceled = true;\n\n      // Stop visibility listener\n      if (visibilityListener) visibilityListener();\n\n      // Stop resize observer\n      try {\n        roRef.current?.disconnect();\n      } catch {\n        /* noop */\n      }\n      roRef.current = null;\n\n      // Destroy Spline app (frees GPU/CPU/memory)\n      if (appRef.current) {\n        try {\n          appRef.current.destroy?.();\n        } catch (e) {\n          console.warn(\"[SuitPursuit] Error destroying Spline app:\", e);\n        }\n        appRef.current = null;\n      }\n    };\n  }, [sceneUrl, maxDpr]);\n\n  return (\n    <div className={`relative w-full h-full rounded-2xl ${className}`}>\n      <canvas\n        ref={canvasRef}\n        className=\"block w-full h-full outline-none\"\n        style={{ background: \"transparent\" }}\n      />\n    </div>\n  );\n});\n","size_bytes":3952},"client/src/components/team1 copy.tsx":{"content":"import { memo, useEffect, useRef } from 'react';\n\ninterface Team2Props {\n  className?: string;\n}\n\nexport const Team2 = memo(function Team2({ className = \"\" }: Team2Props) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const appRef = useRef<any>(null);\n\n  useEffect(() => {\n    let Application: any;\n    let app: any;\n\n    async function init() {\n      if (!canvasRef.current) return;\n\n      try {\n        // Dynamically import the Spline runtime ES module from CDN\n        // @ts-ignore - Dynamic import from CDN\n        const module = await import('https://unpkg.com/@splinetool/runtime@1.10.51/build/runtime.js');\n        Application = module.Application;\n\n        // Initialize the 3D app on the canvas\n        app = new Application(canvasRef.current);\n\n        // Load your specific Spline scene\n        await app.load('https://prod.spline.design/CTK3CIcegTCQoz47/scene.splinecode');\n\n        appRef.current = app;\n      } catch (error) {\n        console.error('Failed to load Spline scene:', error);\n      }\n    }\n\n    init();\n\n    // Cleanup on unmount\n    return () => {\n      if (appRef.current) {\n        try {\n          appRef.current.destroy();\n        } catch (error) {\n          console.error('Error destroying Spline app:', error);\n        }\n        appRef.current = null;\n      }\n    };\n  }, []);\n\n return (\n    <div className={`fixed inset-0 bg-tech-light z-50 flex items-center justify-center ${className}`}>\n      <div className=\"relative w-full h-full max-w-full max-h-full overflow-hidden\">\n        <canvas\n          ref={canvasRef}\n          className=\"absolute top-1/2 left-1/2 block outline-none\"\n          style={{\n            transform: \"translate(-50%, -50%)\",\n            width: \"100vw\",\n            height: \"100vh\",\n            maxWidth: \"100vw\",\n            maxHeight: \"100vh\",\n            objectFit: \"contain\",\n            background: \"transparent\",\n            display: \"block\",\n          }}\n        />\n      </div>\n    </div>\n  );\n});","size_bytes":1976},"client/src/components/team1.tsx":{"content":"import { memo, useEffect, useRef } from 'react';\n\ninterface Team1Props {\n  className?: string;\n}\n\nexport const Team1 = memo(function Team1({ className = \"\" }: Team1Props) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const appRef = useRef<any>(null);\n\n  useEffect(() => {\n    let Application: any;\n    let app: any;\n\n    async function init() {\n      if (!canvasRef.current) return;\n\n      try {\n        // Dynamically import the Spline runtime ES module from CDN\n        // @ts-ignore - Dynamic import from CDN\n        const module = await import('https://unpkg.com/@splinetool/runtime@1.10.51/build/runtime.js');\n        Application = module.Application;\n\n        // Initialize the 3D app on the canvas\n        app = new Application(canvasRef.current);\n\n        // Load your specific Spline scene\n        await app.load('https://prod.spline.design/giLplYBExRGUaZxB/scene.splinecode');\n\n        appRef.current = app;\n      } catch (error) {\n        console.error('Failed to load Spline scene:', error);\n      }\n    }\n\n    init();\n\n    // Cleanup on unmount\n    return () => {\n      if (appRef.current) {\n        try {\n          appRef.current.destroy();\n        } catch (error) {\n          console.error('Error destroying Spline app:', error);\n        }\n        appRef.current = null;\n      }\n    };\n  }, []);\n\n return (\n    <div className={`fixed inset-0 bg-tech-light z-50 flex items-center justify-center ${className}`}>\n      <div className=\"relative w-full h-full max-w-full max-h-full overflow-hidden\">\n        <canvas\n          ref={canvasRef}\n          className=\"absolute top-1/2 left-1/2 block outline-none\"\n          style={{\n            transform: \"translate(-50%, -50%)\",\n            width: \"100vw\",\n            height: \"100vh\",\n            maxWidth: \"100vw\",\n            maxHeight: \"100vh\",\n            objectFit: \"contain\",\n            background: \"transparent\",\n            display: \"block\",\n          }}\n        />\n      </div>\n    </div>\n  );\n});","size_bytes":1976},"client/src/components/team3.tsx":{"content":"import { memo, useEffect, useRef } from 'react';\n\ninterface Team3Props {\n  className?: string;\n}\n\nexport const Team3 = memo(function Team3({ className = \"\" }: Team3Props) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const appRef = useRef<any>(null);\n\n  useEffect(() => {\n    let Application: any;\n    let app: any;\n\n    async function init() {\n      if (!canvasRef.current) return;\n\n      try {\n        // Dynamically import the Spline runtime ES module from CDN\n        // @ts-ignore - Dynamic import from CDN\n        const module = await import('https://unpkg.com/@splinetool/runtime@1.10.51/build/runtime.js');\n        Application = module.Application;\n\n        // Initialize the 3D app on the canvas\n        app = new Application(canvasRef.current);\n\n        // Load your specific Spline scene\n        await app.load('https://prod.spline.design/xqXyAz1hg8vGnfuC/scene.splinecode');\n\n        appRef.current = app;\n      } catch (error) {\n        console.error('Failed to load Spline scene:', error);\n      }\n    }\n\n    init();\n\n    // Cleanup on unmount\n    return () => {\n      if (appRef.current) {\n        try {\n          appRef.current.destroy();\n        } catch (error) {\n          console.error('Error destroying Spline app:', error);\n        }\n        appRef.current = null;\n      }\n    };\n  }, []);\n\n return (\n    <div className={`fixed inset-0 bg-tech-light z-50 flex items-center justify-center ${className}`}>\n      <div className=\"relative w-full h-full max-w-full max-h-full overflow-hidden\">\n        <canvas\n          ref={canvasRef}\n          className=\"absolute top-1/2 left-1/2 block outline-none\"\n          style={{\n            transform: \"translate(-50%, -50%)\",\n            width: \"100vw\",\n            height: \"100vh\",\n            maxWidth: \"100vw\",\n            maxHeight: \"100vh\",\n            objectFit: \"contain\",\n            background: \"transparent\",\n            display: \"block\",\n          }}\n        />\n      </div>\n    </div>\n  );\n});","size_bytes":1976},"client/src/components/team4.tsx":{"content":"import { memo, useEffect, useRef } from 'react';\n\ninterface Team4Props {\n  className?: string;\n}\n\nexport const Team4 = memo(function Team4({ className = \"\" }: Team4Props) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const appRef = useRef<any>(null);\n\n  useEffect(() => {\n    let Application: any;\n    let app: any;\n\n    async function init() {\n      if (!canvasRef.current) return;\n\n      try {\n        // Dynamically import the Spline runtime ES module from CDN\n        // @ts-ignore - Dynamic import from CDN\n        const module = await import('https://unpkg.com/@splinetool/runtime@1.10.51/build/runtime.js');\n        Application = module.Application;\n\n        // Initialize the 3D app on the canvas\n        app = new Application(canvasRef.current);\n\n        // Load your specific Spline scene\n        await app.load('https://prod.spline.design/GEgxMEt6fBZa3r2y/scene.splinecode');\n\n        appRef.current = app;\n      } catch (error) {\n        console.error('Failed to load Spline scene:', error);\n      }\n    }\n\n    init();\n\n    // Cleanup on unmount\n    return () => {\n      if (appRef.current) {\n        try {\n          appRef.current.destroy();\n        } catch (error) {\n          console.error('Error destroying Spline app:', error);\n        }\n        appRef.current = null;\n      }\n    };\n  }, []);\n\n return (\n    <div className={`fixed inset-0 bg-tech-light z-50 flex items-center justify-center ${className}`}>\n      <div className=\"relative w-full h-full max-w-full max-h-full overflow-hidden\">\n        <canvas\n          ref={canvasRef}\n          className=\"absolute top-1/2 left-1/2 block outline-none\"\n          style={{\n            transform: \"translate(-50%, -50%)\",\n            width: \"100vw\",\n            height: \"100vh\",\n            maxWidth: \"100vw\",\n            maxHeight: \"100vh\",\n            objectFit: \"contain\",\n            background: \"transparent\",\n            display: \"block\",\n          }}\n        />\n      </div>\n    </div>\n  );\n});","size_bytes":1976},"client/src/components/team5.tsx":{"content":"import { memo, useEffect, useRef } from 'react';\n\ninterface Team5Props {\n  className?: string;\n}\n\nexport const Team5 = memo(function Team5({ className = \"\" }: Team5Props) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const appRef = useRef<any>(null);\n\n  useEffect(() => {\n    let Application: any;\n    let app: any;\n\n    async function init() {\n      if (!canvasRef.current) return;\n\n      try {\n        // Dynamically import the Spline runtime ES module from CDN\n        // @ts-ignore - Dynamic import from CDN\n        const module = await import('https://unpkg.com/@splinetool/runtime@1.10.51/build/runtime.js');\n        Application = module.Application;\n\n        // Initialize the 3D app on the canvas\n        app = new Application(canvasRef.current);\n\n        // Load your specific Spline scene\n        await app.load('https://prod.spline.design/V3KomAmpWTzirFfB/scene.splinecode');\n\n        appRef.current = app;\n      } catch (error) {\n        console.error('Failed to load Spline scene:', error);\n      }\n    }\n\n    init();\n\n    // Cleanup on unmount\n    return () => {\n      if (appRef.current) {\n        try {\n          appRef.current.destroy();\n        } catch (error) {\n          console.error('Error destroying Spline app:', error);\n        }\n        appRef.current = null;\n      }\n    };\n  }, []);\n\n return (\n    <div className={`fixed inset-0 bg-tech-light z-50 flex items-center justify-center ${className}`}>\n      <div className=\"relative w-full h-full max-w-full max-h-full overflow-hidden\">\n        <canvas\n          ref={canvasRef}\n          className=\"absolute top-1/2 left-1/2 block outline-none\"\n          style={{\n            transform: \"translate(-50%, -50%)\",\n            width: \"100vw\",\n            height: \"100vh\",\n            maxWidth: \"100vw\",\n            maxHeight: \"100vh\",\n            objectFit: \"contain\",\n            background: \"transparent\",\n            display: \"block\",\n          }}\n        />\n      </div>\n    </div>\n  );\n});","size_bytes":1976},"client/src/components/team6.tsx":{"content":"import { memo, useEffect, useRef } from 'react';\n\ninterface Team6Props {\n  className?: string;\n}\n\nexport const Team6 = memo(function Team6({ className = \"\" }: Team6Props) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const appRef = useRef<any>(null);\n\n  useEffect(() => {\n    let Application: any;\n    let app: any;\n\n    async function init() {\n      if (!canvasRef.current) return;\n\n      try {\n        // Dynamically import the Spline runtime ES module from CDN\n        // @ts-ignore - Dynamic import from CDN\n        const module = await import('https://unpkg.com/@splinetool/runtime@1.10.51/build/runtime.js');\n        Application = module.Application;\n\n        // Initialize the 3D app on the canvas\n        app = new Application(canvasRef.current);\n\n        // Load your specific Spline scene\n        await app.load('https://prod.spline.design/jCStYEIHmBAzpfMp/scene.splinecode');\n\n        appRef.current = app;\n      } catch (error) {\n        console.error('Failed to load Spline scene:', error);\n      }\n    }\n\n    init();\n\n    // Cleanup on unmount\n    return () => {\n      if (appRef.current) {\n        try {\n          appRef.current.destroy();\n        } catch (error) {\n          console.error('Error destroying Spline app:', error);\n        }\n        appRef.current = null;\n      }\n    };\n  }, []);\n\n return (\n    <div className={`fixed inset-0 bg-tech-light z-50 flex items-center justify-center ${className}`}>\n      <div className=\"relative w-full h-full max-w-full max-h-full overflow-hidden\">\n        <canvas\n          ref={canvasRef}\n          className=\"absolute top-1/2 left-1/2 block outline-none\"\n          style={{\n            transform: \"translate(-50%, -50%)\",\n            width: \"100vw\",\n            height: \"100vh\",\n            maxWidth: \"100vw\",\n            maxHeight: \"100vh\",\n            objectFit: \"contain\",\n            background: \"transparent\",\n            display: \"block\",\n          }}\n        />\n      </div>\n    </div>\n  );\n});","size_bytes":1976},"client/src/components/team7.tsx":{"content":"import { memo, useEffect, useRef } from 'react';\n\ninterface Team7Props {\n  className?: string;\n}\n\nexport const Team7 = memo(function Team7({ className = \"\" }: Team7Props) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const appRef = useRef<any>(null);\n\n  useEffect(() => {\n    let Application: any;\n    let app: any;\n\n    async function init() {\n      if (!canvasRef.current) return;\n\n      try {\n        // Dynamically import the Spline runtime ES module from CDN\n        // @ts-ignore - Dynamic import from CDN\n        const module = await import('https://unpkg.com/@splinetool/runtime@1.10.51/build/runtime.js');\n        Application = module.Application;\n\n        // Initialize the 3D app on the canvas\n        app = new Application(canvasRef.current);\n\n        // Load your specific Spline scene\n        await app.load('https://prod.spline.design/Pa3TBBbEIWQbLOMP/scene.splinecode');\n\n        appRef.current = app;\n      } catch (error) {\n        console.error('Failed to load Spline scene:', error);\n      }\n    }\n\n    init();\n\n    // Cleanup on unmount\n    return () => {\n      if (appRef.current) {\n        try {\n          appRef.current.destroy();\n        } catch (error) {\n          console.error('Error destroying Spline app:', error);\n        }\n        appRef.current = null;\n      }\n    };\n  }, []);\n\n return (\n    <div className={`fixed inset-0 bg-tech-light z-50 flex items-center justify-center ${className}`}>\n      <div className=\"relative w-full h-full max-w-full max-h-full overflow-hidden\">\n        <canvas\n          ref={canvasRef}\n          className=\"absolute top-1/2 left-1/2 block outline-none\"\n          style={{\n            transform: \"translate(-50%, -50%)\",\n            width: \"100vw\",\n            height: \"100vh\",\n            maxWidth: \"100vw\",\n            maxHeight: \"100vh\",\n            objectFit: \"contain\",\n            background: \"transparent\",\n            display: \"block\",\n          }}\n        />\n      </div>\n    </div>\n  );\n});","size_bytes":1976},"client/src/components/team8.tsx":{"content":"import { memo, useEffect, useRef } from 'react';\n\ninterface Team8Props {\n  className?: string;\n}\n\nexport const Team8 = memo(function Team8({ className = \"\" }: Team8Props) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const appRef = useRef<any>(null);\n\n  useEffect(() => {\n    let Application: any;\n    let app: any;\n\n    async function init() {\n      if (!canvasRef.current) return;\n\n      try {\n        // Dynamically import the Spline runtime ES module from CDN\n        // @ts-ignore - Dynamic import from CDN\n        const module = await import('https://unpkg.com/@splinetool/runtime@1.10.51/build/runtime.js');\n        Application = module.Application;\n\n        // Initialize the 3D app on the canvas\n        app = new Application(canvasRef.current);\n\n        // Load your specific Spline scene\n        await app.load('https://prod.spline.design/IcCXNM-UKJLIbKTm/scene.splinecode');\n\n        appRef.current = app;\n      } catch (error) {\n        console.error('Failed to load Spline scene:', error);\n      }\n    }\n\n    init();\n\n    // Cleanup on unmount\n    return () => {\n      if (appRef.current) {\n        try {\n          appRef.current.destroy();\n        } catch (error) {\n          console.error('Error destroying Spline app:', error);\n        }\n        appRef.current = null;\n      }\n    };\n  }, []);\n\n return (\n    <div className={`fixed inset-0 bg-tech-light z-50 flex items-center justify-center ${className}`}>\n      <div className=\"relative w-full h-full max-w-full max-h-full overflow-hidden\">\n        <canvas\n          ref={canvasRef}\n          className=\"absolute top-1/2 left-1/2 block outline-none\"\n          style={{\n            transform: \"translate(-50%, -50%)\",\n            width: \"100vw\",\n            height: \"100vh\",\n            maxWidth: \"100vw\",\n            maxHeight: \"100vh\",\n            objectFit: \"contain\",\n            background: \"transparent\",\n            display: \"block\",\n          }}\n        />\n      </div>\n    </div>\n  );\n});","size_bytes":1976},"client/src/components/tech debate.tsx":{"content":"// src/components/tech debate.tsx\nimport React, { memo } from \"react\";\nimport { SplineScene } from \"./SplineScene\";\n\ninterface TechDebateProps {\n  className?: string;\n}\n\nexport const TechDebate = memo(function TechDebate({ className = \"\" }: TechDebateProps) {\n  return (\n    <SplineScene\n      className={{className}}\n      sceneUrl=\"https://prod.spline.design/D82kvQ0WuAUrUKl2/scene.splinecode\"\n      maxDpr={1.75}\n    />\n  );\n});\n","size_bytes":432},"client/src/components/techfesthome copy.tsx":{"content":"import { memo, useEffect, useRef } from 'react';\n\ninterface MobileFestHomeProps {\n  className?: string;\n}\n\nexport const MobileFestHome = memo(function MobileFestHome({ className = \"\" }: MobileFestHomeProps) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const appRef = useRef<any>(null);\n\n  useEffect(() => {\n    let Application: any;\n    let app: any;\n\n    async function init() {\n      if (!canvasRef.current) return;\n\n      try {\n        // Dynamically import the Spline runtime ES module from CDN\n        // @ts-ignore - Dynamic import from CDN\n        const module = await import('https://unpkg.com/@splinetool/runtime@1.10.51/build/runtime.js');\n        Application = module.Application;\n\n        // Initialize the 3D app on the canvas\n        app = new Application(canvasRef.current);\n\n        // Load your specific Spline scene\n        await app.load('https://prod.spline.design/AYO2dvuQ1LGfA3dM/scene.splinecode');\n\n        appRef.current = app;\n      } catch (error) {\n        console.error('Failed to load Spline scene:', error);\n      }\n    }\n\n    init();\n\n    // Cleanup on unmount\n    return () => {\n      if (appRef.current) {\n        try {\n          appRef.current.destroy();\n        } catch (error) {\n          console.error('Error destroying Spline app:', error);\n        }\n        appRef.current = null;\n      }\n    };\n  }, []);\n\n   return (\n    <div className={`fixed inset-0 w-screen h-screen flex items-center justify-center overflow-hidden ${className}`}>\n      <canvas\n        ref={canvasRef}\n        className=\"block outline-none\"\n        style={{\n          background: 'transparent',\n          display: 'block',\n          width: '100vw',\n          height: '100vh',\n          margin: 0,\n          padding: 0,\n          border: 'none',\n          outline: 'none',\n        }}\n      />\n    </div>\n  );\n});","size_bytes":1836},"client/src/components/techfesthome.tsx":{"content":"import { memo, useEffect, useRef } from 'react';\n\ninterface FestHomeProps {\n  className?: string;\n}\n\nexport const FestHome = memo(function FestHome({ className = \"\" }: FestHomeProps) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const appRef = useRef<any>(null);\n\n  useEffect(() => {\n    let Application: any;\n    let app: any;\n\n    async function init() {\n      if (!canvasRef.current) return;\n\n      try {\n        // Dynamically import the Spline runtime ES module from CDN\n        // @ts-ignore - Dynamic import from CDN\n        const module = await import('https://unpkg.com/@splinetool/runtime@1.10.51/build/runtime.js');\n        Application = module.Application;\n\n        // Initialize the 3D app on the canvas\n        app = new Application(canvasRef.current);\n\n        // Load your specific Spline scene\n        await app.load('https://prod.spline.design/ienDIHj3k9pMd-zg/scene.splinecode');\n\n        appRef.current = app;\n      } catch (error) {\n        console.error('Failed to load Spline scene:', error);\n      }\n    }\n\n    init();\n\n    // Cleanup on unmount\n    return () => {\n      if (appRef.current) {\n        try {\n          appRef.current.destroy();\n        } catch (error) {\n          console.error('Error destroying Spline app:', error);\n        }\n        appRef.current = null;\n      }\n    };\n  }, []);\n\nreturn (\n    <div\n      className={`relative  rounded-2xl w-full h-full  ${className}`}\n    >\n      <canvas\n        ref={canvasRef}\n        className=\"w-full h-full block outline-none\"\n        style={{\n          background: 'transparent',\n          display: 'block',\n        }}\n      />\n    </div>\n  );\n});","size_bytes":1641},"client/src/components/techquiz.tsx":{"content":"// src/components/techquiz.tsx\nimport React, { memo } from \"react\";\nimport { SplineScene } from \"./SplineScene\";\n\ninterface TechQuizProps {\n  className?: string;\n}\n\nexport const TechQuiz = memo(function TechQuiz({ className = \"\" }: TechQuizProps) {\n  return (\n    <SplineScene\n      className={{className}}\n      sceneUrl=\"https://prod.spline.design/3jDCCDvFkRQtwp1L/scene.splinecode\"\n      maxDpr={1.75}\n    />\n  );\n});\n","size_bytes":421},"client/src/contexts/auth-context.tsx":{"content":"import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\n\ninterface User {\n  id: string;\n  username: string;\n  email: string;\n  role: 'user' | 'coordinator' | 'super_admin';\n  isApproved: boolean;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  isAuthenticated: boolean;\n  login: (username: string, password: string) => Promise<boolean>;\n  userLogin: (username: string, password: string) => Promise<boolean>;\n  logout: () => void;\n  mockLogin: (role?: 'user' | 'coordinator' | 'super_admin') => void;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n\ninterface AuthProviderProps {\n  children: ReactNode;\n}\n\nexport function AuthProvider({ children }: AuthProviderProps) {\n  const [user, setUser] = useState<User | null>(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n\n  useEffect(() => {\n    // Check for existing mock user on mount\n    const mockUser = localStorage.getItem('mockUser');\n    if (mockUser) {\n      try {\n        const userData = JSON.parse(mockUser);\n        setUser(userData);\n        setIsAuthenticated(true);\n      } catch (error) {\n        console.error('Failed to parse mock user data:', error);\n        localStorage.removeItem('mockUser');\n      }\n    }\n  }, []);\n\n  const login = async (username: string, password: string): Promise<boolean> => {\n    try {\n      const response = await fetch('/api/admin/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ username, password }),\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        const userData: User = {\n          id: data.admin.id,\n          username: data.admin.username,\n          email: data.admin.email,\n          role: 'super_admin', // Default to super admin for now\n          isApproved: true,\n        };\n        \n        setUser(userData);\n        setIsAuthenticated(true);\n        localStorage.setItem('mockUser', JSON.stringify(userData));\n        localStorage.setItem('adminToken', data.token);\n        return true;\n      } else {\n        return false;\n      }\n    } catch (error) {\n      console.error('Login error:', error);\n      return false;\n    }\n  };\n\n  const userLogin = async (username: string, password: string): Promise<boolean> => {\n    try {\n      const response = await fetch('/api/user/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ username, password }),\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        const userData: User = {\n          id: data.user.id,\n          username: data.user.username,\n          email: data.user.email,\n          role: data.user.role,\n          isApproved: data.user.isApproved,\n        };\n        \n        setUser(userData);\n        setIsAuthenticated(true);\n        localStorage.setItem('mockUser', JSON.stringify(userData));\n        localStorage.setItem('userToken', data.token);\n        return true;\n      } else {\n        return false;\n      }\n    } catch (error) {\n      console.error('User login error:', error);\n      return false;\n    }\n  };\n\n  const logout = () => {\n    setUser(null);\n    setIsAuthenticated(false);\n    localStorage.removeItem('mockUser');\n    localStorage.removeItem('adminToken');\n    localStorage.removeItem('userToken');\n  };\n\n  const mockLogin = (role: 'user' | 'coordinator' | 'super_admin' = 'user') => {\n    const mockUser: User = {\n      id: `mock_${Date.now()}`,\n      username: `mock_${role}`,\n      email: `${role}@example.com`,\n      role,\n      isApproved: true,\n    };\n    \n    setUser(mockUser);\n    setIsAuthenticated(true);\n    localStorage.setItem('mockUser', JSON.stringify(mockUser));\n  };\n\n  const value: AuthContextType = {\n    user,\n    isAuthenticated,\n    login,\n    userLogin,\n    logout,\n    mockLogin,\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n","size_bytes":4244},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/hooks/use-scroll-animation.tsx":{"content":"import { useEffect, useRef } from \"react\";\n\ninterface UseScrollAnimationOptions {\n  threshold?: number;\n  rootMargin?: string;\n}\n\nexport function useScrollAnimation(\n  options: UseScrollAnimationOptions = {}\n) {\n  const elementRef = useRef<HTMLDivElement>(null);\n  const { threshold = 0.1, rootMargin = \"0px 0px -50px 0px\" } = options;\n\n  useEffect(() => {\n    const element = elementRef.current;\n    if (!element) return;\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            entry.target.classList.add(\"animate-fade-in\");\n          }\n        });\n      },\n      { threshold, rootMargin }\n    );\n\n    observer.observe(element);\n\n    return () => {\n      if (element) {\n        observer.unobserve(element);\n      }\n    };\n  }, [threshold, rootMargin]);\n\n  return elementRef;\n}\n","size_bytes":878},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/lib/api.ts":{"content":"import { apiRequest } from \"./queryClient\";\n\n// Authentication helpers\nexport const setAuthToken = (token: string) => {\n  localStorage.setItem('adminToken', token);\n};\n\nexport const getAuthToken = () => {\n  return localStorage.getItem('adminToken');\n};\n\nexport const removeAuthToken = () => {\n  localStorage.removeItem('adminToken');\n};\n\n// Configure API client to include auth token\nexport const authenticatedRequest = async (url: string, method = 'GET', data?: any) => {\n  const token = getAuthToken();\n  const headers: Record<string, string> = {};\n  \n  if (token) {\n    headers['Authorization'] = `Bearer ${token}`;\n  }\n\n  try {\n    return await apiRequest(url, method, data, { headers });\n  } catch (error: any) {\n    // Handle authentication errors\n    if (error.message.includes('401')) {\n      removeAuthToken();\n      // Redirect to login page\n      window.location.href = '/admin';\n      throw new Error('Your session has expired. Please log in again.');\n    }\n    throw error;\n  }\n};\n\n// Admin API functions\nexport const adminLogin = async (username: string, password: string) => {\n  const response = await apiRequest('/api/admin/login', 'POST', { username, password });\n  setAuthToken(response.token);\n  return response;\n};\n\nexport const adminLogout = async () => {\n  try {\n    await authenticatedRequest('/api/admin/logout', 'POST');\n  } finally {\n    removeAuthToken();\n  }\n};","size_bytes":1389},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  url: string,\n  method: string = 'GET',\n  data?: unknown | undefined,\n  options: { headers?: Record<string, string> } = {}\n): Promise<any> {\n  const headers: Record<string, string> = {};\n  \n  if (data) {\n    headers[\"Content-Type\"] = \"application/json\";\n  }\n  \n  if (options.headers) {\n    Object.assign(headers, options.headers);\n  }\n  \n  const res = await fetch(url, {\n    method,\n    headers,\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return await res.json();\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1597},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/pages/about.tsx":{"content":"import \"keen-slider/keen-slider.min.css\";\nimport { useKeenSlider } from \"keen-slider/react\";\nimport { useRef, useEffect } from \"react\";\nimport { SplineViewer } from \"@/components/spline-viewer\";\nimport { useScrollAnimation } from \"@/hooks/use-scroll-animation\";\nimport { Mail, MapPin, Calendar, Target, Eye, Heart } from \"lucide-react\";\nimport { Team1 } from \"@/components/team1\";\nimport { Team2 } from \"@/components/team1 copy\";\nimport { Team3 } from \"@/components/team3\";\nimport { Team4 } from \"@/components/team4\";\nimport { Team5 } from \"@/components/team5\";\nimport { Team6 } from \"@/components/team6\";\nimport { Team7 } from \"@/components/team7\";\nimport { Team8 } from \"@/components/team8\";\nexport default function About() {\n  const missionRef = useScrollAnimation();\n  const teamRef = useScrollAnimation();\n  const contactRef = useScrollAnimation();\n\n  const teamMembers = [\n    { name: \"Sahil\", color: \"tech-blue\", Avatar: Team1 },\n    { name: \"sakshi\", color: \"tech-green\", Avatar: Team2 },\n    { name: \"Deepanshu\", color: \"purple-500\", Avatar: Team8 },\n    { name: \"saksam\", color: \"purple-500\", Avatar: Team3 },\n    { name: \"simran\", color: \"purple-500\", Avatar: Team6 },\n    { name: \"kalash\", color: \"tech-blue\", Avatar: Team4 },\n    { name: \"chin\", color: \"purple-500\", Avatar: Team7 },\n    { name: \"kunjal\", color: \"tech-green\", Avatar: Team5 },\n  ];\n\n  // Keen-slider setup for 3-at-a-time and autoplay\n  const autoSlideRef = useRef(null);\n  const [sliderRef, slider] = useKeenSlider({\n    breakpoints: {\n      \"(min-width: 1024px)\": { slides: { perView: 3, spacing: 24 } },\n      \"(min-width: 640px)\": { slides: { perView: 2, spacing: 16 } },\n    },\n    slides: { perView: 1, spacing: 8 },\n    loop: true,\n  });\n\n  useEffect(() => {\n    if (!slider) return;\n    clearInterval(autoSlideRef.current);\n    autoSlideRef.current = setInterval(() => {\n      slider.current?.next();\n    }, 2500);\n    return () => clearInterval(autoSlideRef.current);\n  }, [slider]);\n\n  return (\n    <div className=\"min-h-screen scroll-smooth\">\n      {/* Header */}\n      <section className=\"min-h-screen py-12 sm:py-16 lg:py-20 bg-tech-light pt-16\">\n        <div className=\"responsive-container\">\n          <div className=\"text-center mb-12 lg:mb-16 animate-fade-in\" data-testid=\"about-header\">\n            <h1 className=\"font-tech text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-bold text-tech-dark mb-4 lg:mb-6\">\n              About Innovare\n            </h1>\n            <p className=\"text-lg sm:text-xl text-tech-grey max-w-3xl mx-auto leading-relaxed\">\n              Driving technological innovation through collaboration, learning, and breakthrough\n              solutions that shape the future.\n            </p>\n          </div>\n\n          {/* Mission, Vision, Values */}\n          <div ref={missionRef} className=\"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8 mb-16 lg:mb-20\" data-testid=\"mission-section\">\n            <div className=\"geometric-card rounded-2xl p-6 lg:p-8 text-center hover-lift animate-scale-in\">\n              <div className=\"w-12 h-12 sm:w-16 sm:h-16 tech-gradient rounded-2xl flex items-center justify-center mx-auto mb-4 lg:mb-6\">\n                <Target className=\"w-6 h-6 sm:w-8 sm:h-8 text-white\" />\n              </div>\n              <h3 className=\"font-tech text-xl sm:text-2xl font-bold text-tech-dark mb-3 lg:mb-4\">Our Mission</h3>\n              <p className=\"text-tech-grey text-sm sm:text-base leading-relaxed\">\n                To foster innovation and technical excellence by providing a platform for learning,\n                collaboration, and the development of cutting-edge solutions.\n              </p>\n            </div>\n\n            <div className=\"geometric-card rounded-2xl p-6 lg:p-8 text-center hover-lift animate-scale-in\" style={{ animationDelay: \"0.2s\" }}>\n              <div className=\"w-12 h-12 sm:w-16 sm:h-16 bg-tech-green rounded-2xl flex items-center justify-center mx-auto mb-4 lg:mb-6\">\n                <Eye className=\"w-6 h-6 sm:w-8 sm:h-8 text-white\" />\n              </div>\n              <h3 className=\"font-tech text-xl sm:text-2xl font-bold text-tech-dark mb-3 lg:mb-4\">Our Vision</h3>\n              <p className=\"text-tech-grey text-sm sm:text-base leading-relaxed\">\n                To be the leading technical community that empowers the next generation of\n                innovators to create solutions that transform the world.\n              </p>\n            </div>\n\n            <div className=\"geometric-card rounded-2xl p-6 lg:p-8 text-center hover-lift animate-scale-in sm:col-span-2 lg:col-span-1\" style={{ animationDelay: \"0.4s\" }}>\n              <div className=\"w-12 h-12 sm:w-16 sm:h-16 bg-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4 lg:mb-6\">\n                <Heart className=\"w-6 h-6 sm:w-8 sm:h-8 text-white\" />\n              </div>\n              <h3 className=\"font-tech text-xl sm:text-2xl font-bold text-tech-dark mb-3 lg:mb-4\">Our Values</h3>\n              <p className=\"text-tech-grey text-sm sm:text-base leading-relaxed\">\n                Innovation, collaboration, excellence, and integrity guide everything we do as we\n                build the future of technology together.\n              </p>\n            </div>\n          </div>\n\n          {/* Team Members Slider */}\n          <div ref={teamRef} className=\"mb-12 lg:mb-16\" data-testid=\"team-section\">\n            <div className=\"text-center mb-8 lg:mb-12 animate-fade-in\">\n              <h3 className=\"font-tech text-3xl sm:text-4xl lg:text-5xl font-bold text-tech-dark mb-3 lg:mb-4\">Meet Our Team</h3>\n              <p className=\"text-lg sm:text-xl text-tech-grey\">\n                The innovators driving our technical excellence forward\n              </p>\n            </div>\n            {/* SLIDER */}\n            <div ref={sliderRef} className=\"keen-slider pb-10\">\n              {teamMembers.map((member, index) => {\n                const Avatar = member.Avatar;\n                return (\n                  <div\n                    key={index}\n                    className=\"keen-slider__slide geometric-card rounded-2xl overflow-hidden hover-lift flex flex-col items-center justify-between aspect-square\"\n                    style={{ animationDelay: `${index * 0.1}s` }}\n                    data-testid={`team-member-${index}`}\n                  >\n                    <div className=\"w-full h-full flex-1\">\n                      <Avatar />\n                    </div>\n                    <div className={`font-bold mt-3 text-lg text-${member.color}`}>\n                      {member.name}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n\n          {/* Contact Information */}\n          <div ref={contactRef} className=\"geometric-card rounded-2xl sm:rounded-3xl p-6 sm:p-8 lg:p-12 text-center max-w-5xl mx-auto hover-lift animate-scale-in\" data-testid=\"contact-section\">\n            <h3 className=\"font-tech text-2xl sm:text-3xl lg:text-4xl font-bold text-tech-dark mb-6 lg:mb-8\">Get In Touch</h3>\n            <div className=\"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8\">\n              <div className=\"animate-bounce-in\" style={{ animationDelay: \"0.1s\" }}>\n                <div className=\"w-12 h-12 sm:w-16 sm:h-16 tech-gradient rounded-2xl flex items-center justify-center mx-auto mb-3 lg:mb-4\">\n                  <Mail className=\"w-6 h-6 sm:w-8 sm:h-8 text-white\" />\n                </div>\n                <h4 className=\"font-mono font-semibold text-tech-dark mb-2 text-sm sm:text-base\">Email</h4>\n                <p className=\"text-tech-grey text-xs sm:text-sm\" data-testid=\"contact-email\">innovare@techclub.edu</p>\n              </div>\n              <div className=\"animate-bounce-in\" style={{ animationDelay: \"0.2s\" }}>\n                <div className=\"w-12 h-12 sm:w-16 sm:h-16 bg-tech-green rounded-2xl flex items-center justify-center mx-auto mb-3 lg:mb-4\">\n                  <MapPin className=\"w-6 h-6 sm:w-8 sm:h-8 text-white\" />\n                </div>\n                <h4 className=\"font-mono font-semibold text-tech-dark mb-2 text-sm sm:text-base\">Location</h4>\n                <p className=\"text-tech-grey text-xs sm:text-sm\" data-testid=\"contact-location\">Tech Building, Room 404</p>\n              </div>\n              <div className=\"animate-bounce-in sm:col-span-2 lg:col-span-1\" style={{ animationDelay: \"0.3s\" }}>\n                <div className=\"w-12 h-12 sm:w-16 sm:h-16 bg-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-3 lg:mb-4\">\n                  <Calendar className=\"w-6 h-6 sm:w-8 sm:h-8 text-white\" />\n                </div>\n                <h4 className=\"font-mono font-semibold text-tech-dark mb-2 text-sm sm:text-base\">Meetings</h4>\n                <p className=\"text-tech-grey text-xs sm:text-sm\" data-testid=\"contact-meetings\">Every Friday, 4:00 PM</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n","size_bytes":8956},"client/src/pages/community.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useAuth } from \"@/contexts/auth-context\";\nimport { Link } from \"wouter\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { \n  MessageSquare, \n  Vote, \n  BookOpen, \n  Plus, \n  Calendar, \n  User,\n  ExternalLink,\n  Image as ImageIcon\n} from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface Poll {\n  id: string;\n  title: string;\n  description?: string;\n  options: string[];\n  createdBy: string;\n  isActive: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\ninterface PollResponse {\n  id: string;\n  pollId: string;\n  username: string;\n  selectedOption: number;\n  createdAt: string;\n}\n\ninterface Announcement {\n  id: string;\n  title: string;\n  content: string;\n  createdBy: string;\n  isImportant: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\ninterface AnnouncementReply {\n  id: string;\n  announcementId: string;\n  username: string;\n  content: string;\n  createdAt: string;\n}\n\ninterface CourseLibrary {\n  id: string;\n  title: string;\n  description?: string;\n  imageUrl?: string;\n  courseUrl: string;\n  createdBy: string;\n  isActive: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport default function Community() {\n  const { toast } = useToast();\n  const { user, isAuthenticated, mockLogin, logout } = useAuth();\n  const [selectedPoll, setSelectedPoll] = useState<Poll | null>(null);\n  const [selectedAnnouncement, setSelectedAnnouncement] = useState<Announcement | null>(null);\n  const [newPollResponse, setNewPollResponse] = useState<number>(-1);\n  const [newReply, setNewReply] = useState(\"\");\n  const [showPollDialog, setShowPollDialog] = useState(false);\n  const [showReplyDialog, setShowReplyDialog] = useState(false);\n  const [showAnnouncementDetails, setShowAnnouncementDetails] = useState(false);\n  const [showPollDetails, setShowPollDetails] = useState(false);\n  const [announcementReplies, setAnnouncementReplies] = useState<AnnouncementReply[]>([]);\n  const [pollResponses, setPollResponses] = useState<PollResponse[]>([]);\n\n  // Fetch data\n  const { data: polls } = useQuery({\n    queryKey: [\"/api/polls\"],\n  });\n\n  const { data: announcements } = useQuery({\n    queryKey: [\"/api/announcements\"],\n  });\n\n  const { data: courseLibrary } = useQuery({\n    queryKey: [\"/api/course-library\"],\n  });\n\n  // Fetch announcement replies\n  const fetchAnnouncementReplies = async (announcementId: string) => {\n    try {\n      const response = await fetch(`/api/announcements/${announcementId}/replies`);\n      if (response.ok) {\n        const replies = await response.json();\n        setAnnouncementReplies(replies);\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch announcement replies:\", error);\n    }\n  };\n\n  // Fetch poll responses\n  const fetchPollResponses = async (pollId: string) => {\n    try {\n      const response = await fetch(`/api/polls/${pollId}/responses`);\n      if (response.ok) {\n        const responses = await response.json();\n        setPollResponses(responses);\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch poll responses:\", error);\n    }\n  };\n\n  const handlePollVote = async (pollId: string, selectedOption: number) => {\n    if (!isAuthenticated) {\n      toast({\n        title: \"Authentication Required\",\n        description: \"Please sign in to vote in polls.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    try {\n      const response = await fetch(`/api/polls/${pollId}/respond`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          username: user?.username,\n          selectedOption,\n        }),\n      });\n\n      if (response.ok) {\n        toast({\n          title: \"Vote Recorded\",\n          description: \"Your vote has been recorded successfully!\",\n        });\n        // Refresh polls data\n        window.location.reload();\n      } else {\n        throw new Error(\"Failed to record vote\");\n      }\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to record your vote. Please try again.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const handleAnnouncementReply = async (announcementId: string, content: string) => {\n    if (!isAuthenticated) {\n      toast({\n        title: \"Authentication Required\",\n        description: \"Please sign in to reply to announcements.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    try {\n      const response = await fetch(`/api/announcements/${announcementId}/reply`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          username: user?.username,\n          content,\n        }),\n      });\n\n             if (response.ok) {\n         toast({\n           title: \"Reply Posted\",\n           description: \"Your reply has been posted successfully!\",\n         });\n         setNewReply(\"\");\n         setShowReplyDialog(false);\n         // Refresh replies if viewing announcement details\n         if (selectedAnnouncement) {\n           fetchAnnouncementReplies(selectedAnnouncement.id);\n         }\n       } else {\n        throw new Error(\"Failed to post reply\");\n      }\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to post your reply. Please try again.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString(\"en-US\", {\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n    });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-tech-light pt-20\">\n      <div className=\"responsive-container py-8\">\n        {/* Header */}\n        <div className=\"text-center mb-12\">\n          <h1 className=\"font-tech text-4xl md:text-5xl font-bold text-tech-dark mb-4\">\n            Community Hub\n          </h1>\n          <p className=\"text-lg text-tech-grey max-w-2xl mx-auto\">\n            Connect with fellow innovators, participate in polls, stay updated with announcements, and access our course library.\n          </p>\n          {isAuthenticated && (\n            <div className=\"mt-4 flex items-center justify-center space-x-4\">\n              <span className=\"text-sm text-tech-grey\">\n                Welcome, <span className=\"font-semibold text-tech-blue\">{user?.username}</span>!\n              </span>\n              <Button \n                variant=\"outline\" \n                size=\"sm\"\n                onClick={logout}\n                className=\"text-red-600 hover:text-red-700 border-red-200 hover:border-red-300\"\n              >\n                Sign Out\n              </Button>\n            </div>\n          )}\n        </div>\n\n        {/* Authentication Notice */}\n        {!isAuthenticated && (\n          <Card className=\"mb-8 bg-yellow-50 border-yellow-200\">\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"p-2 bg-yellow-100 rounded-full\">\n                    <User className=\"h-5 w-5 text-yellow-600\" />\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold text-yellow-800\">Sign In Required</h3>\n                    <p className=\"text-yellow-700 text-sm\">\n                      To participate in polls, reply to announcements, and access the course library, please sign in to your account.\n                    </p>\n                  </div>\n                </div>\n                <div className=\"flex space-x-2\">\n                  <Link href=\"/user/login\">\n                    <Button \n                      variant=\"outline\" \n                      size=\"sm\"\n                      className=\"bg-tech-blue hover:bg-tech-purple text-white border-tech-blue\"\n                    >\n                      Sign In\n                    </Button>\n                  </Link>\n\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n\n        {/* Main Content Tabs */}\n        <Tabs defaultValue=\"polls\" className=\"space-y-6\">\n          <TabsList className=\"grid w-full grid-cols-3 bg-white border-tech-grey/20\">\n            <TabsTrigger value=\"polls\" className=\"flex items-center space-x-2\">\n              <Vote className=\"h-4 w-4\" />\n              <span>Polls</span>\n            </TabsTrigger>\n            <TabsTrigger value=\"announcements\" className=\"flex items-center space-x-2\">\n              <MessageSquare className=\"h-4 w-4\" />\n              <span>Announcements</span>\n            </TabsTrigger>\n            <TabsTrigger value=\"courses\" className=\"flex items-center space-x-2\">\n              <BookOpen className=\"h-4 w-4\" />\n              <span>Course Library</span>\n            </TabsTrigger>\n          </TabsList>\n\n          {/* Polls Tab */}\n          <TabsContent value=\"polls\" className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n              <h2 className=\"text-2xl font-bold text-tech-dark\">Active Polls</h2>\n            </div>\n            \n            <div className=\"grid gap-6\">\n              {Array.isArray(polls) && polls.length > 0 ? (\n                polls.map((poll: Poll) => (\n                  <Card key={poll.id} className=\"bg-white border-tech-grey/20 hover-lift\">\n                    <CardHeader>\n                      <div className=\"flex items-start justify-between\">\n                        <div>\n                          <CardTitle className=\"text-tech-dark\">{poll.title}</CardTitle>\n                          {poll.description && (\n                            <CardDescription className=\"text-tech-grey mt-2\">\n                              {poll.description}\n                            </CardDescription>\n                          )}\n                        </div>\n                        <Badge variant={poll.isActive ? \"default\" : \"secondary\"}>\n                          {poll.isActive ? \"Active\" : \"Closed\"}\n                        </Badge>\n                      </div>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"space-y-4\">\n                                                 {poll.options.map((option, index) => (\n                           <div key={index} className=\"flex items-center space-x-3\">\n                             <Button\n                               variant=\"outline\"\n                               className=\"flex-1 justify-start h-auto py-3 px-4 text-left\"\n                               onClick={() => {\n                                 setSelectedPoll(poll);\n                                 setNewPollResponse(index);\n                                 setShowPollDialog(true);\n                               }}\n                               disabled={!isAuthenticated || !poll.isActive}\n                             >\n                               <Vote className=\"h-4 w-4 mr-2\" />\n                               {option}\n                             </Button>\n                           </div>\n                         ))}\n                         <div className=\"flex justify-between items-center pt-2\">\n                           <Button\n                             variant=\"outline\"\n                             size=\"sm\"\n                             onClick={() => {\n                               setSelectedPoll(poll);\n                               fetchPollResponses(poll.id);\n                               setShowPollDetails(true);\n                             }}\n                             className=\"flex items-center space-x-2\"\n                           >\n                             <Vote className=\"h-4 w-4\" />\n                             <span>View Responses</span>\n                           </Button>\n                         </div>\n                        <div className=\"flex items-center justify-between text-sm text-tech-grey\">\n                          <span>Created {formatDate(poll.createdAt)}</span>\n                          <span>{poll.options.length} options</span>\n                        </div>\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))\n              ) : (\n                <Card className=\"bg-white border-tech-grey/20\">\n                  <CardContent className=\"p-8 text-center\">\n                    <Vote className=\"h-12 w-12 text-tech-grey mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-semibold text-tech-dark mb-2\">No Polls Available</h3>\n                    <p className=\"text-tech-grey\">Check back later for new polls and surveys.</p>\n                  </CardContent>\n                </Card>\n              )}\n            </div>\n          </TabsContent>\n\n          {/* Announcements Tab */}\n          <TabsContent value=\"announcements\" className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n              <h2 className=\"text-2xl font-bold text-tech-dark\">Latest Announcements</h2>\n            </div>\n            \n            <div className=\"grid gap-6\">\n              {Array.isArray(announcements) && announcements.length > 0 ? (\n                announcements.map((announcement: Announcement) => (\n                  <Card key={announcement.id} className=\"bg-white border-tech-grey/20 hover-lift\">\n                    <CardHeader>\n                      <div className=\"flex items-start justify-between\">\n                        <div>\n                          <CardTitle className=\"text-tech-dark flex items-center space-x-2\">\n                            {announcement.title}\n                            {announcement.isImportant && (\n                              <Badge variant=\"destructive\">Important</Badge>\n                            )}\n                          </CardTitle>\n                          <CardDescription className=\"text-tech-grey mt-2\">\n                            Posted {formatDate(announcement.createdAt)}\n                          </CardDescription>\n                        </div>\n                      </div>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"space-y-4\">\n                        <p className=\"text-tech-dark leading-relaxed\">\n                          {announcement.content}\n                        </p>\n                        \n                                                 <div className=\"flex space-x-2\">\n                           <Button\n                             variant=\"outline\"\n                             onClick={() => {\n                               setSelectedAnnouncement(announcement);\n                               fetchAnnouncementReplies(announcement.id);\n                               setShowAnnouncementDetails(true);\n                             }}\n                             className=\"flex items-center space-x-2\"\n                           >\n                             <MessageSquare className=\"h-4 w-4\" />\n                             <span>View Replies</span>\n                           </Button>\n                           {isAuthenticated && (\n                             <Button\n                               variant=\"outline\"\n                               onClick={() => {\n                                 setSelectedAnnouncement(announcement);\n                                 setShowReplyDialog(true);\n                               }}\n                               className=\"flex items-center space-x-2\"\n                             >\n                               <MessageSquare className=\"h-4 w-4\" />\n                               <span>Reply</span>\n                             </Button>\n                           )}\n                         </div>\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))\n              ) : (\n                <Card className=\"bg-white border-tech-grey/20\">\n                  <CardContent className=\"p-8 text-center\">\n                    <MessageSquare className=\"h-12 w-12 text-tech-grey mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-semibold text-tech-dark mb-2\">No Announcements</h3>\n                    <p className=\"text-tech-grey\">No announcements at the moment. Check back later!</p>\n                  </CardContent>\n                </Card>\n              )}\n            </div>\n          </TabsContent>\n\n          {/* Course Library Tab */}\n          <TabsContent value=\"courses\" className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n              <h2 className=\"text-2xl font-bold text-tech-dark\">Course Library</h2>\n              {isAuthenticated && (\n                <Badge variant=\"outline\" className=\"text-tech-blue\">\n                  Access Granted\n                </Badge>\n              )}\n            </div>\n            \n            {!isAuthenticated ? (\n              <Card className=\"bg-white border-tech-grey/20\">\n                <CardContent className=\"p-8 text-center\">\n                  <BookOpen className=\"h-12 w-12 text-tech-grey mx-auto mb-4\" />\n                  <h3 className=\"text-lg font-semibold text-tech-dark mb-2\">Authentication Required</h3>\n                  <p className=\"text-tech-grey mb-4\">\n                    Please sign in to access our course library and learning resources.\n                  </p>\n                  <Button variant=\"outline\">Sign In</Button>\n                </CardContent>\n              </Card>\n            ) : (\n              <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n                {Array.isArray(courseLibrary) && courseLibrary.length > 0 ? (\n                  courseLibrary.map((course: CourseLibrary) => (\n                    <Card key={course.id} className=\"bg-white border-tech-grey/20 hover-lift\">\n                      <CardHeader className=\"pb-3\">\n                        <div className=\"aspect-video bg-gray-100 rounded-lg mb-3 flex items-center justify-center\">\n                          {course.imageUrl ? (\n                            <img \n                              src={course.imageUrl} \n                              alt={course.title}\n                              className=\"w-full h-full object-cover rounded-lg\"\n                            />\n                          ) : (\n                            <ImageIcon className=\"h-8 w-8 text-gray-400\" />\n                          )}\n                        </div>\n                        <CardTitle className=\"text-lg text-tech-dark\">{course.title}</CardTitle>\n                        {course.description && (\n                          <CardDescription className=\"text-tech-grey\">\n                            {course.description}\n                          </CardDescription>\n                        )}\n                      </CardHeader>\n                      <CardContent>\n                        <div className=\"space-y-3\">\n                          <div className=\"flex items-center justify-between text-sm text-tech-grey\">\n                            <span>Added {formatDate(course.createdAt)}</span>\n                            <Badge variant={course.isActive ? \"default\" : \"secondary\"}>\n                              {course.isActive ? \"Active\" : \"Inactive\"}\n                            </Badge>\n                          </div>\n                          <Button \n                            className=\"w-full tech-gradient text-white\"\n                            onClick={() => window.open(course.courseUrl, '_blank')}\n                          >\n                            <ExternalLink className=\"h-4 w-4 mr-2\" />\n                            Access Course\n                          </Button>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  ))\n                ) : (\n                  <Card className=\"bg-white border-tech-grey/20 md:col-span-2 lg:col-span-3\">\n                    <CardContent className=\"p-8 text-center\">\n                      <BookOpen className=\"h-12 w-12 text-tech-grey mx-auto mb-4\" />\n                      <h3 className=\"text-lg font-semibold text-tech-dark mb-2\">No Courses Available</h3>\n                      <p className=\"text-tech-grey\">Course library is being populated. Check back soon!</p>\n                    </CardContent>\n                  </Card>\n                )}\n              </div>\n            )}\n          </TabsContent>\n        </Tabs>\n\n        {/* Poll Vote Dialog */}\n        <Dialog open={showPollDialog} onOpenChange={setShowPollDialog}>\n          <DialogContent>\n            <DialogHeader>\n              <DialogTitle>Vote in Poll</DialogTitle>\n              <DialogDescription>\n                {selectedPoll?.title}\n              </DialogDescription>\n            </DialogHeader>\n            <div className=\"space-y-4\">\n              <p className=\"text-sm text-tech-grey\">\n                You are about to vote for: <strong>{selectedPoll?.options[newPollResponse]}</strong>\n              </p>\n              <p className=\"text-sm text-tech-grey\">\n                Note: You can only vote once per poll.\n              </p>\n            </div>\n            <DialogFooter>\n              <Button\n                variant=\"outline\"\n                onClick={() => setShowPollDialog(false)}\n              >\n                Cancel\n              </Button>\n              <Button\n                onClick={() => {\n                  if (selectedPoll && newPollResponse >= 0) {\n                    handlePollVote(selectedPoll.id, newPollResponse);\n                    setShowPollDialog(false);\n                  }\n                }}\n              >\n                Confirm Vote\n              </Button>\n            </DialogFooter>\n          </DialogContent>\n        </Dialog>\n\n                 {/* Reply Dialog */}\n         <Dialog open={showReplyDialog} onOpenChange={setShowReplyDialog}>\n           <DialogContent>\n             <DialogHeader>\n               <DialogTitle>Reply to Announcement</DialogTitle>\n               <DialogDescription>\n                 {selectedAnnouncement?.title}\n               </DialogDescription>\n             </DialogHeader>\n             <div className=\"space-y-4\">\n               <div>\n                 <Label htmlFor=\"reply\">Your Reply</Label>\n                 <Textarea\n                   id=\"reply\"\n                   placeholder=\"Type your reply here...\"\n                   value={newReply}\n                   onChange={(e) => setNewReply(e.target.value)}\n                   rows={4}\n                 />\n               </div>\n             </div>\n             <DialogFooter>\n               <Button\n                 variant=\"outline\"\n                 onClick={() => setShowReplyDialog(false)}\n               >\n                 Cancel\n               </Button>\n               <Button\n                 onClick={() => {\n                   if (selectedAnnouncement && newReply.trim()) {\n                     handleAnnouncementReply(selectedAnnouncement.id, newReply.trim());\n                   }\n                 }}\n                 disabled={!newReply.trim()}\n               >\n                 Post Reply\n               </Button>\n             </DialogFooter>\n           </DialogContent>\n         </Dialog>\n\n         {/* Announcement Replies Dialog */}\n         <Dialog open={showAnnouncementDetails} onOpenChange={setShowAnnouncementDetails}>\n           <DialogContent className=\"max-w-2xl max-h-[80vh] overflow-y-auto\">\n             <DialogHeader>\n               <DialogTitle>Announcement Replies</DialogTitle>\n               <DialogDescription>\n                 {selectedAnnouncement?.title}\n               </DialogDescription>\n             </DialogHeader>\n             <div className=\"space-y-4\">\n               <div className=\"bg-gray-50 p-4 rounded-lg\">\n                 <h4 className=\"font-semibold text-tech-dark mb-2\">Original Announcement</h4>\n                 <p className=\"text-tech-grey\">{selectedAnnouncement?.content}</p>\n                 <p className=\"text-sm text-tech-grey mt-2\">\n                   Posted {selectedAnnouncement && formatDate(selectedAnnouncement.createdAt)}\n                 </p>\n               </div>\n               \n               <div>\n                 <h4 className=\"font-semibold text-tech-dark mb-3\">Replies ({announcementReplies.length})</h4>\n                 {announcementReplies.length > 0 ? (\n                   <div className=\"space-y-3\">\n                     {announcementReplies.map((reply) => (\n                       <div key={reply.id} className=\"bg-white border border-gray-200 rounded-lg p-4\">\n                         <div className=\"flex items-start justify-between mb-2\">\n                           <span className=\"font-medium text-tech-blue\">{reply.username}</span>\n                           <span className=\"text-sm text-tech-grey\">\n                             {formatDate(reply.createdAt)}\n                           </span>\n                         </div>\n                         <p className=\"text-tech-dark\">{reply.content}</p>\n                       </div>\n                     ))}\n                   </div>\n                 ) : (\n                   <div className=\"text-center py-8\">\n                     <MessageSquare className=\"h-8 w-8 text-tech-grey mx-auto mb-2\" />\n                     <p className=\"text-tech-grey\">No replies yet. Be the first to reply!</p>\n                   </div>\n                 )}\n               </div>\n             </div>\n             <DialogFooter>\n               <Button\n                 variant=\"outline\"\n                 onClick={() => setShowAnnouncementDetails(false)}\n               >\n                 Close\n               </Button>\n               {isAuthenticated && (\n                 <Button\n                   onClick={() => {\n                     setShowAnnouncementDetails(false);\n                     setShowReplyDialog(true);\n                   }}\n                 >\n                   Add Reply\n                 </Button>\n               )}\n             </DialogFooter>\n           </DialogContent>\n         </Dialog>\n\n         {/* Poll Responses Dialog */}\n         <Dialog open={showPollDetails} onOpenChange={setShowPollDetails}>\n           <DialogContent className=\"max-w-2xl max-h-[80vh] overflow-y-auto\">\n             <DialogHeader>\n               <DialogTitle>Poll Responses</DialogTitle>\n               <DialogDescription>\n                 {selectedPoll?.title}\n               </DialogDescription>\n             </DialogHeader>\n             <div className=\"space-y-4\">\n               <div className=\"bg-gray-50 p-4 rounded-lg\">\n                 <h4 className=\"font-semibold text-tech-dark mb-2\">Poll Details</h4>\n                 {selectedPoll?.description && (\n                   <p className=\"text-tech-grey mb-2\">{selectedPoll.description}</p>\n                 )}\n                 <div className=\"space-y-2\">\n                   {selectedPoll?.options.map((option, index) => (\n                     <div key={index} className=\"flex items-center space-x-2\">\n                       <span className=\"text-sm font-medium text-tech-dark\">{index + 1}.</span>\n                       <span className=\"text-tech-grey\">{option}</span>\n                     </div>\n                   ))}\n                 </div>\n                 <p className=\"text-sm text-tech-grey mt-2\">\n                   Created {selectedPoll && formatDate(selectedPoll.createdAt)}\n                 </p>\n               </div>\n               \n               <div>\n                 <h4 className=\"font-semibold text-tech-dark mb-3\">Responses ({pollResponses.length})</h4>\n                 {pollResponses.length > 0 ? (\n                   <div className=\"space-y-3\">\n                     {pollResponses.map((response) => (\n                       <div key={response.id} className=\"bg-white border border-gray-200 rounded-lg p-4\">\n                         <div className=\"flex items-start justify-between mb-2\">\n                           <span className=\"font-medium text-tech-blue\">{response.username}</span>\n                           <span className=\"text-sm text-tech-grey\">\n                             {formatDate(response.createdAt)}\n                           </span>\n                         </div>\n                         <div className=\"flex items-center space-x-2\">\n                           <Vote className=\"h-4 w-4 text-tech-blue\" />\n                           <span className=\"text-tech-dark\">\n                             Voted for: <strong>{selectedPoll?.options[response.selectedOption]}</strong>\n                           </span>\n                         </div>\n                       </div>\n                     ))}\n                   </div>\n                 ) : (\n                   <div className=\"text-center py-8\">\n                     <Vote className=\"h-8 w-8 text-tech-grey mx-auto mb-2\" />\n                     <p className=\"text-tech-grey\">No responses yet. Be the first to vote!</p>\n                   </div>\n                 )}\n               </div>\n             </div>\n             <DialogFooter>\n               <Button\n                 variant=\"outline\"\n                 onClick={() => setShowPollDetails(false)}\n               >\n                 Close\n               </Button>\n               {isAuthenticated && selectedPoll?.isActive && (\n                 <Button\n                   onClick={() => {\n                     setShowPollDetails(false);\n                     setShowPollDialog(true);\n                   }}\n                 >\n                   Vote Now\n                 </Button>\n               )}\n             </DialogFooter>\n           </DialogContent>\n         </Dialog>\n      </div>\n    </div>\n  );\n}\n","size_bytes":30216},"client/src/pages/events.tsx":{"content":"import { SplineViewer } from \"@/components/spline-viewer\";\nimport { useScrollAnimation } from \"@/hooks/use-scroll-animation\";\n\nexport default function Events() {\n  const featuredRef = useScrollAnimation();\n  const timelineRef = useScrollAnimation();\n\n  const timelineEvents = [\n    {\n      month: \"November 2024\",\n      title: \"Code-a-thon Weekend\",\n      description: \"48-hour intensive coding challenge with amazing prizes and mentorship opportunities.\",\n      image: \"https://images.unsplash.com/photo-1498050108023-c5249f4df085?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&h=600\",\n      color: \"tech-blue\",\n    },\n    {\n      month: \"October 2024\",\n      title: \"Blockchain Workshop\",\n      description: \"Hands-on workshop exploring blockchain technology and cryptocurrency development.\",\n      image: \"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&h=600\",\n      color: \"tech-green\",\n    },\n    {\n      month: \"September 2024\",\n      title: \"IoT Innovation Day\",\n      description: \"Showcase of Internet of Things projects and smart device prototypes by our members.\",\n      image: \"https://pixabay.com/get/gf2ff005a6bb13ecda26515c69fac0bb1d52a8bcaf7b403e34182835ad7e4b48b1a14909a7a6aff47d102a56293e46063ee3dbd3f9eb94c8ddbd9c2c7930cec60_1280.jpg\",\n      color: \"purple-500\",\n    },\n    {\n      month: \"August 2024\",\n      title: \"AI Ethics Seminar\",\n      description: \"Deep discussion on the ethical implications of artificial intelligence in modern society.\",\n      image: \"https://images.unsplash.com/photo-1531297484001-80022131f5a1?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&h=600\",\n      color: \"tech-blue\",\n    },\n    {\n      month: \"July 2024\",\n      title: \"Open Source Contribution Drive\",\n      description: \"Month-long initiative to contribute to major open-source projects and build our portfolios.\",\n      image: \"https://images.unsplash.com/photo-1522071820081-009f0129c71c?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&h=600\",\n      color: \"tech-green\",\n    },\n    {\n      month: \"June 2024\",\n      title: \"Startup Pitch Competition\",\n      description: \"Students presented innovative startup ideas to a panel of industry experts and investors.\",\n      image: \"https://images.unsplash.com/photo-1553877522-43269d4ea984?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&h=600\",\n      color: \"purple-500\",\n    },\n  ];\n\n  return (\n    <div className=\"min-h-screen scroll-smooth\">\n      {/* Background with Spline */}\n      <div className=\"fixed inset-0 opacity-10 z-0\">\n        <SplineViewer\n          url=\"https://prod.spline.design/9lGP4ixrHPOUvhzW/scene.splinecode\"\n          className=\"w-full h-full parallax\"\n          cached={true}\n        />\n      </div>\n\n      <section className=\"relative z-10 min-h-screen py-12 sm:py-16 lg:py-20 pt-16\">\n        <div className=\"responsive-container\">\n          <div className=\"text-center mb-12 lg:mb-16 animate-fade-in\" data-testid=\"events-header\">\n            <h1 className=\"font-tech text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-bold text-tech-dark mb-4 lg:mb-6\">Events & Activities</h1>\n            <p className=\"text-lg sm:text-xl text-tech-grey max-w-3xl mx-auto leading-relaxed\">\n              Discover our latest events, workshops, and technical showcases designed to push the\n              boundaries of innovation.\n            </p>\n          </div>\n\n          {/* Featured Event */}\n          <div ref={featuredRef} className=\"geometric-card rounded-2xl sm:rounded-3xl p-6 sm:p-8 lg:p-12 mb-12 lg:mb-16 hover-lift animate-scale-in\" data-testid=\"featured-event\">\n            <div className=\"grid lg:grid-cols-2 gap-8 lg:gap-12 items-center\">\n              <div className=\"order-2 lg:order-1\">\n                <div className=\"h-48 sm:h-64 lg:h-80 rounded-xl overflow-hidden\">\n                  <SplineViewer\n                    url=\"https://prod.spline.design/9lGP4ixrHPOUvhzW/scene.splinecode\"\n                    className=\"w-full h-full\"\n                    cached={true}\n                  />\n                </div>\n              </div>\n              <div className=\"order-1 lg:order-2 space-y-4 lg:space-y-6\">\n                <span className=\"inline-block px-3 sm:px-4 py-1 sm:py-2 bg-tech-blue text-white font-mono text-xs sm:text-sm rounded-full\">\n                  Featured Event\n                </span>\n                <h3 className=\"font-tech text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-bold text-tech-dark\">TechFest 2024</h3>\n                <p className=\"text-tech-grey text-sm sm:text-base lg:text-lg leading-relaxed\">\n                  Our biggest annual event featuring cutting-edge presentations, hands-on workshops,\n                  and networking opportunities with industry leaders.\n                </p>\n                <div className=\"flex flex-wrap gap-2 sm:gap-3\">\n                  <span className=\"px-2 sm:px-3 py-1 sm:py-2 bg-tech-light text-tech-dark font-mono text-xs sm:text-sm rounded-lg\">\n                    March 22-24, 2024\n                  </span>\n                  <span className=\"px-2 sm:px-3 py-1 sm:py-2 bg-tech-light text-tech-dark font-mono text-xs sm:text-sm rounded-lg\">\n                    Innovation Center\n                  </span>\n                  <span className=\"px-2 sm:px-3 py-1 sm:py-2 bg-tech-light text-tech-dark font-mono text-xs sm:text-sm rounded-lg\">\n                    500+ Attendees\n                  </span>\n                </div>\n                <button className=\"px-6 sm:px-8 py-3 sm:py-4 tech-gradient text-white font-mono font-semibold rounded-xl hover:shadow-lg transition-all transform hover:-translate-y-1 hover-lift\" data-testid=\"learn-more-button\">\n                  Learn More\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Timeline of Past Events */}\n          <div ref={timelineRef} className=\"mb-12 lg:mb-16\" data-testid=\"events-timeline\">\n            <h3 className=\"font-tech text-2xl sm:text-3xl lg:text-4xl font-bold text-tech-dark text-center mb-8 lg:mb-12 animate-fade-in\">\n              Event Timeline\n            </h3>\n\n            <div className=\"space-y-8 lg:space-y-12\">\n              {/* First Row */}\n              <div className=\"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8\">\n                {timelineEvents.slice(0, 3).map((event, index) => (\n                  <div key={index} className=\"geometric-card rounded-2xl p-4 sm:p-6 hover-lift animate-bounce-in\" style={{animationDelay: `${index * 0.1}s`}} data-testid={`timeline-event-${index}`}>\n                    <img\n                      src={event.image}\n                      alt={event.title}\n                      className=\"rounded-xl w-full h-36 sm:h-48 object-cover mb-3 sm:mb-4\"\n                      loading=\"lazy\"\n                    />\n                    <span\n                      className={`inline-block px-2 sm:px-3 py-1 bg-${event.color} text-white font-mono text-xs sm:text-sm rounded-full mb-2`}\n                    >\n                      {event.month}\n                    </span>\n                    <h4 className=\"font-tech text-lg sm:text-xl font-bold text-tech-dark mb-2\">\n                      {event.title}\n                    </h4>\n                    <p className=\"text-tech-grey text-xs sm:text-sm leading-relaxed\">{event.description}</p>\n                  </div>\n                ))}\n              </div>\n\n              {/* Second Row */}\n              <div className=\"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8\">\n                {timelineEvents.slice(3, 6).map((event, index) => (\n                  <div key={index + 3} className=\"geometric-card rounded-2xl p-4 sm:p-6 hover-lift animate-bounce-in\" style={{animationDelay: `${(index + 3) * 0.1}s`}} data-testid={`timeline-event-${index + 3}`}>\n                    <img\n                      src={event.image}\n                      alt={event.title}\n                      className=\"rounded-xl w-full h-36 sm:h-48 object-cover mb-3 sm:mb-4\"\n                      loading=\"lazy\"\n                    />\n                    <span\n                      className={`inline-block px-2 sm:px-3 py-1 bg-${event.color} text-white font-mono text-xs sm:text-sm rounded-full mb-2`}\n                    >\n                      {event.month}\n                    </span>\n                    <h4 className=\"font-tech text-lg sm:text-xl font-bold text-tech-dark mb-2\">\n                      {event.title}\n                    </h4>\n                    <p className=\"text-tech-grey text-xs sm:text-sm leading-relaxed\">{event.description}</p>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n","size_bytes":8933},"client/src/pages/gallery.tsx":{"content":"import { useScrollAnimation } from \"@/hooks/use-scroll-animation\";\n\nexport default function Gallery() {\n  const galleryRef = useScrollAnimation();\n\n  const galleryImages = [\n    {\n      src: \"https://images.pexels.com/photos/1181288/pexels-photo-1181288.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop\",\n      alt: \"Students coding in programming session\",\n      title: \"Programming Session\",\n    },\n    {\n      src: \"https://images.pexels.com/photos/590016/pexels-photo-590016.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop\",\n      alt: \"Modern workspace with analytics dashboard\",\n      title: \"Analytics Dashboard\",\n    },\n    {\n      src: \"https://images.pexels.com/photos/1181519/pexels-photo-1181519.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop\",\n      alt: \"Team collaborating on technical project\",\n      title: \"Team Collaboration\",\n    },\n    {\n      src: \"https://images.pexels.com/photos/518543/pexels-photo-518543.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop\",\n      alt: \"Innovation showcase with tech displays\",\n      title: \"Innovation Showcase\",\n    },\n    {\n      src: \"https://images.pexels.com/photos/1181396/pexels-photo-1181396.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop\",\n      alt: \"Students presenting project to audience\",\n      title: \"Project Presentation\",\n    },\n    {\n      src: \"https://images.pexels.com/photos/1181215/pexels-photo-1181215.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop\",\n      alt: \"Technical workshop with hands-on learning\",\n      title: \"Technical Workshop\",\n    },\n    {\n      src: \"https://images.pexels.com/photos/8728380/pexels-photo-8728380.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop\",\n      alt: \"Electronics project with circuit boards\",\n      title: \"Electronics Project\",\n    },\n    {\n      src: \"https://images.pexels.com/photos/3184292/pexels-photo-3184292.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop\",\n      alt: \"Innovation competition presentation\",\n      title: \"Innovation Competition\",\n    },\n    {\n      src: \"https://images.pexels.com/photos/1181298/pexels-photo-1181298.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop\",\n      alt: \"Tech networking event with professionals\",\n      title: \"Networking Event\",\n    },\n    {\n      src: \"https://images.pexels.com/photos/2599244/pexels-photo-2599244.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop\",\n      alt: \"Robotics project development session\",\n      title: \"Robotics Development\",\n    },\n    {\n      src: \"https://images.pexels.com/photos/3862600/pexels-photo-3862600.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop\",\n      alt: \"3D printing and prototyping workspace\",\n      title: \"3D Printing Lab\",\n    },\n    {\n      src: \"https://images.pexels.com/photos/1181354/pexels-photo-1181354.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop\",\n      alt: \"Pair programming and code review session\",\n      title: \"Code Review Session\",\n    },\n  ];\n\n  return (\n    <div className=\"min-h-screen scroll-smooth\">\n      <section className=\"min-h-screen py-12 sm:py-16 lg:py-20 bg-tech-light pt-16\">\n        <div className=\"responsive-container\">\n          <div className=\"text-center mb-12 lg:mb-16 animate-fade-in\" data-testid=\"gallery-header\">\n            <h1 className=\"font-tech text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-bold text-tech-dark mb-4 lg:mb-6\">Gallery</h1>\n            <p className=\"text-lg sm:text-xl text-tech-grey max-w-3xl mx-auto leading-relaxed\">\n              Capturing moments of innovation, collaboration, and technical excellence throughout our\n              journey.\n            </p>\n          </div>\n\n          {/* Photo Gallery Grid */}\n          <div\n            ref={galleryRef}\n            className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 lg:gap-8\"\n            data-testid=\"gallery-grid\"\n          >\n            {galleryImages.map((image, index) => (\n              <div\n                key={index}\n                className=\"group cursor-pointer hover-lift animate-scale-in\"\n                style={{animationDelay: `${index * 0.05}s`}}\n                data-testid={`gallery-image-${index}`}\n              >\n                <div className=\"relative overflow-hidden rounded-xl lg:rounded-2xl shadow-lg bg-white\">\n                  <img\n                    src={image.src}\n                    alt={image.alt}\n                    className=\"w-full h-48 sm:h-56 lg:h-64 object-cover group-hover:scale-110 transition-transform duration-500\"\n                    loading=\"lazy\"\n                  />\n                  <div className=\"absolute inset-0 bg-gradient-to-t from-tech-dark/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></div>\n                  <div className=\"absolute bottom-0 left-0 right-0 p-3 sm:p-4 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300\">\n                    <h3 className=\"text-white font-tech font-semibold text-sm sm:text-base\">{image.title}</h3>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* Call to Action */}\n          <div className=\"text-center mt-12 lg:mt-16 animate-bounce-in\">\n            <button className=\"px-6 sm:px-8 py-3 sm:py-4 tech-gradient text-white font-mono font-semibold rounded-xl hover:shadow-lg transition-all transform hover:-translate-y-1 hover-lift\" data-testid=\"view-more-button\">\n              View More Photos\n            </button>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n","size_bytes":5575},"client/src/pages/home.tsx":{"content":"import { SplineViewer } from \"@/components/spline-viewer\";\nimport { CountdownTimer } from \"@/components/countdown-timer\";\nimport { useScrollAnimation } from \"@/hooks/use-scroll-animation\";\nimport { HomeRobot } from \"@/components/home-robot\";\nexport default function Home() {\n  const heroRef = useScrollAnimation();\n  const eventRef = useScrollAnimation();\n\n  return (\n    <div className=\"min-h-screen scroll-smooth\">\n      {/* Hero Section */}\n      <section\n        ref={heroRef}\n        className=\"min-h-screen pt-16 bg-gradient-to-br from-tech-light via-background to-gray-50\"\n        data-testid=\"hero-section\"\n      >\n        <div className=\"responsive-container py-12 sm:py-20 lg:py-24\">\n          <div className=\"grid lg:grid-cols-2 gap-8 lg:gap-16 items-center\">\n            <div className=\"text-center lg:text-left order-2 lg:order-1 space-y-6 lg:space-y-8\">\n              <h1 className=\"font-tech text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-tech-dark leading-tight animate-slide-left\">\n                Welcome to<br />\n                <span className=\"tech-gradient bg-clip-text text-transparent\">Innovare</span>\n                <br />\n                Technical Club\n              </h1>\n              <p className=\"text-base sm:text-lg lg:text-xl text-tech-grey max-w-2xl mx-auto lg:mx-0 animate-slide-left\" style={{animationDelay: '0.2s'}} data-testid=\"hero-description\">\n                Empowering the next generation of tech innovators through cutting-edge projects,\n                collaborative learning, and breakthrough solutions.\n              </p>\n              <div className=\"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start animate-bounce-in\" style={{animationDelay: '0.4s'}}>\n                <button\n                  className=\"px-6 sm:px-8 py-3 sm:py-4 tech-gradient text-white font-mono font-semibold rounded-xl hover:shadow-lg transition-all transform hover:-translate-y-1 hover-lift\"\n                  data-testid=\"join-community-button\"\n                >\n                  Join Our Community\n                </button>\n                <button\n                  className=\"px-6 sm:px-8 py-3 sm:py-4 border-2 border-tech-blue text-tech-blue font-mono font-semibold rounded-xl hover:bg-tech-blue hover:text-white transition-all hover-lift\"\n                  data-testid=\"explore-projects-button\"\n                >\n                  Explore Projects\n                </button>\n              </div>\n            </div>\n            <div className=\"order-1 lg:order-2 animate-float animate-slide-right\" data-testid=\"hero-spline\">\n             <HomeRobot className=\"w-16 h-16 cursor-pointer\" />\n            </div>\n          </div>\n        </div>\n\n        {/* Upcoming Event Section */}\n        <div\n          ref={eventRef}\n          className=\"responsive-container py-12 sm:py-16 lg:py-20\"\n          data-testid=\"upcoming-event-section\"\n        >\n          <div className=\"text-center mb-12 lg:mb-16 animate-fade-in\">\n            <h2 className=\"font-tech text-3xl sm:text-4xl lg:text-5xl font-bold text-tech-dark mb-4 lg:mb-6\">Upcoming Event</h2>\n            <p className=\"text-lg sm:text-xl text-tech-grey\">Don't miss our next innovation showcase</p>\n          </div>\n\n          <div className=\"geometric-card rounded-2xl sm:rounded-3xl p-6 sm:p-8 lg:p-12 max-w-5xl mx-auto hover-lift animate-scale-in\">\n            <div className=\"grid lg:grid-cols-2 gap-6 sm:gap-8 lg:gap-12 items-center\">\n              <div className=\"space-y-4 sm:space-y-6\">\n                <h3 className=\"font-tech text-2xl sm:text-3xl lg:text-4xl font-bold text-tech-dark\" data-testid=\"event-title\">\n                  Tech Fest 2025\n                </h3>\n                <p className=\"text-tech-grey text-sm sm:text-base lg:text-lg leading-relaxed\" data-testid=\"event-description\">\n                  Join the ultimate showcase of innovation and technology where students compete\n                  in exciting technical challenges and showcase their skills.\n                </p>\n                <div className=\"flex flex-wrap gap-2 sm:gap-3\">\n                  <span className=\"px-3 py-1 bg-tech-blue text-white text-xs sm:text-sm rounded-full font-mono\">\n                    Programming\n                  </span>\n                  <span className=\"px-3 py-1 bg-tech-green text-white text-xs sm:text-sm rounded-full font-mono\">\n                    Tech Competition\n                  </span>\n                  <span className=\"px-3 py-1 bg-purple-500 text-white text-xs sm:text-sm rounded-full font-mono\">\n                    Innovation\n                  </span>\n                </div>\n                <div className=\"flex items-center text-tech-grey text-sm sm:text-base\" data-testid=\"event-details\">\n                  <svg className=\"w-4 h-4 sm:w-5 sm:h-5 mr-2 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path\n                      fillRule=\"evenodd\"\n                      d=\"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z\"\n                      clipRule=\"evenodd\"\n                    ></path>\n                  </svg>\n                  <span className=\"font-mono\">October 3, 2025 | 10:00 AM - 6:00 PM</span>\n                </div>\n              </div>\n\n              {/* Countdown Timer */}\n              <div className=\"w-full\">\n                <CountdownTimer targetDate=\"2025-10-03T10:00:00\" className=\"w-full\" />\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n","size_bytes":5599},"client/src/pages/not-found.tsx":{"content":"import { SplineViewer } from \"@/components/spline-viewer\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"fixed inset-0 w-full h-full\">\n      <SplineViewer\n        url=\"https://prod.spline.design/BC1aI1vmaX0APJUl/scene.splinecode\"\n        className=\"w-full h-full\"\n        cached={true}\n      />\n    </div>\n  );\n}\n","size_bytes":336},"client/src/pages/techfest.tsx":{"content":"// src/pages/techfest.tsx\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\n// import * as Spline from '@splinetool/viewer';\nimport { HomeRobot } from '@/components/home-robot';\nimport { useScrollAnimation } from '@/hooks/use-scroll-animation';\nimport { HoverBorderGradient } from '@/components/ui/hover-border-gradient';\n\n// Dynamic component loader for generated Spline components\nconst DynamicSplineComponent: React.FC<{ \n  eventName: string; \n  className?: string; \n  fallbackUrl?: string;\n}> = ({ eventName, className = \"\", fallbackUrl }) => {\n  const [SplineComponent, setSplineComponent] = useState<React.ComponentType<any> | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const loadComponent = async () => {\n      try {\n        // Convert event name to component name (same logic as component generator)\n        const componentName = eventName.toLowerCase().replace(/[^a-z0-9]/g, '-');\n        \n        // Try to dynamically import the generated component\n        const componentModule = await import(`@/components/generated/${componentName}.tsx`);\n        \n        // The component is exported with PascalCase (each word capitalized, no spaces)\n        const exportName = eventName\n          .split(/[^a-zA-Z0-9]+/)\n          .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n          .join('');\n        const ComponentClass = componentModule[exportName];\n        \n        if (ComponentClass) {\n          setSplineComponent(() => ComponentClass);\n        }\n      } catch (error) {\n        console.log(`No generated component found for ${eventName}, using fallback`);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadComponent();\n  }, [eventName]);\n\n  if (isLoading) {\n    return (\n      <div className={`flex items-center justify-center ${className}`}>\n        <div className=\"animate-pulse text-muted-foreground\">Loading 3D scene...</div>\n      </div>\n    );\n  }\n\n  if (SplineComponent) {\n    return <SplineComponent className={className} />;\n  }\n\n  // Fallback to iframe if component not found\n  if (fallbackUrl) {\n    return (\n      <div className={`w-full h-full ${className}`}>\n        <iframe \n          src={fallbackUrl}\n          className=\"w-full h-full border-0 rounded-xl\"\n          style={{ \n            width: '100%',\n            height: '100%',\n            border: 'none',\n            borderRadius: '0.75rem'\n          }}\n          title=\"3D Background\"\n          loading=\"lazy\"\n        />\n      </div>\n    );\n  }\n\n  return null;\n};\n\nconst TechFestBackground: React.FC<{ className?: string }> = ({ className = \"\" }) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const appRef = useRef<any>(null);\n\n  useEffect(() => {\n    let Application: any;\n    let app: any;\n\n    async function init() {\n      if (!canvasRef.current) return;\n\n      try {\n        // Dynamically import the Spline runtime ES module from CDN\n        // @ts-ignore - Dynamic import from CDN\n        const module = await import('https://unpkg.com/@splinetool/runtime@1.10.51/build/runtime.js');\n        Application = module.Application;\n\n        // Initialize the 3D app on the canvas\n        app = new Application(canvasRef.current);\n\n        // Load the specific Spline scene\n        await app.load('https://prod.spline.design/DC0L-NagpocfiwmY/scene.splinecode');\n\n        appRef.current = app;\n      } catch (error) {\n        console.error('Failed to load TechFest background scene:', error);\n      }\n    }\n\n    init();\n\n    // Cleanup on unmount\n    return () => {\n      if (appRef.current) {\n        try {\n          appRef.current.destroy();\n        } catch (error) {\n          console.error('Error destroying TechFest background app:', error);\n        }\n        appRef.current = null;\n      }\n    };\n  }, []);\n\n  return (\n    <div className={`fixed inset-0 w-full h-full -z-10 ${className}`}>\n      <canvas\n        ref={canvasRef}\n        className=\"w-full h-full\"\n        style={{\n          background: 'transparent',\n          position: 'absolute',\n          inset: 0,\n          width: '100%',\n          height: '100%',\n          pointerEvents: 'none'\n        }}\n      />\n    </div>\n  );\n};\n\n// Event spline component removed - using DynamicSplineComponent directly\n\ntype EventItem = {\n  id: string;\n  slug?: string;\n  name: string;\n  number?: number;\n  category: string;\n  short_description: string;\n  description: string;\n  rules: string[];\n  youtube_url?: string;\n  team_min: number;\n  team_max: number;\n  spline_right_url?: string;\n  is_active: boolean;\n  created_at: Date;\n  updated_at: Date;\n};\n\ntype RegistrationPayload = {\n  technofestId: string;\n  teamName: string;\n  members: { name: string; email?: string }[];\n  contactEmail: string;\n};\n\ntype Category = {\n  id: string;\n  name: string;\n  description: string;\n  color: string;\n  icon: string;\n};\n\nconst categories: Category[] = [\n  {\n    id: 'Cultural',\n    name: 'Cultural Events',\n    description: 'Art, music, dance and creative competitions',\n    color: 'purple',\n    icon: '🎭'\n  },\n  {\n    id: 'Sports', \n    name: 'Sports Events',\n    description: 'Athletic competitions and physical challenges',\n    color: 'green',\n    icon: '⚽'\n  },\n  {\n    id: 'Technical',\n    name: 'Technical Events', \n    description: 'Programming, robotics and technical challenges',\n    color: 'blue',\n    icon: '💻'\n  }\n];\n\nexport default function Techfest() {\n  const heroRef = useScrollAnimation();\n  const [events, setEvents] = useState<EventItem[]>([]);\n  const [filteredEvents, setFilteredEvents] = useState<EventItem[]>([]);\n  const [selectedCategory, setSelectedCategory] = useState<string | null>(null);\n  const [showCategoryDialog, setShowCategoryDialog] = useState(false);\n  const [learnMoreEvent, setLearnMoreEvent] = useState<EventItem | null>(null);\n  const [registerEvent, setRegisterEvent] = useState<EventItem | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [currentEventIndex, setCurrentEventIndex] = useState(0);\n  const [isLayoutStable, setIsLayoutStable] = useState(false);\n  const [scrollY, setScrollY] = useState(0);\n\n  // Registration state\n  const [teamName, setTeamName] = useState('');\n  const [contactEmail, setContactEmail] = useState('');\n  const [members, setMembers] = useState<{ name: string; email?: string }[]>([]);\n\n  // Fetch events\n  useEffect(() => {\n    (async () => {\n      try {\n        const res = await fetch('/api/technofest');\n        if (!res.ok) {\n          throw new Error(`HTTP ${res.status}: ${res.statusText}`);\n        }\n\n        const data: EventItem[] = await res.json();\n        setEvents(data);\n        setError(null);\n      } catch (e) {\n        console.error('Failed to load technofest events:', e);\n        setError(e instanceof Error ? e.message : 'Failed to load events');\n        \n        // Sample events as fallback (using proper database categories)\n        const sampleEvents: EventItem[] = [\n          {\n            id: '1',\n            slug: 'art-showcase',\n            name: 'Digital Art Showcase',\n            number: 1,\n            category: 'Cultural',\n            short_description: 'Express your creativity through digital art and design',\n            description: 'Create stunning digital artwork using modern tools and showcase your artistic vision.',\n            rules: ['Individual participation', 'Original artwork only', 'Submit in high resolution'],\n            team_min: 1,\n            team_max: 1,\n            spline_right_url: \"https://prod.spline.design/xpETVksa9bPLWNHs/scene.splinecode\",\n            is_active: true,\n            created_at: new Date(),\n            updated_at: new Date(),\n          },\n          {\n            id: '2',\n            slug: 'coding-contest',\n            name: 'Algorithm Master',\n            number: 2,\n            category: 'Technical',\n            short_description: 'Solve complex algorithmic challenges and optimize your code',\n            description: 'Test your programming skills with challenging algorithmic problems.',\n            rules: ['Individual or team of 2', 'Any programming language', '3 hour time limit'],\n            team_min: 1,\n            team_max: 2,\n            spline_right_url: \"https://prod.spline.design/xpETVksa9bPLWNHs/scene.splinecode\",\n            is_active: true,\n            created_at: new Date(),\n            updated_at: new Date(),\n          },\n          {\n            id: '3',\n            slug: 'esports-tournament',\n            name: 'E-Sports Championship',\n            number: 3,\n            category: 'Sports',\n            short_description: 'Compete in the ultimate gaming tournament',\n            description: 'Battle it out in popular games and showcase your gaming skills.',\n            rules: ['Team of 5 players', 'Bring your own devices', 'Fair play required'],\n            team_min: 5,\n            team_max: 5,\n            spline_right_url: \"https://prod.spline.design/xpETVksa9bPLWNHs/scene.splinecode\",\n            is_active: true,\n            created_at: new Date(),\n            updated_at: new Date(),\n          }\n        ];\n        setEvents(sampleEvents);\n      } finally {\n        setLoading(false);\n        // Allow minimal time for DOM stabilization\n        setIsLayoutStable(true);\n      }\n    })();\n  }, []);\n\n  // Parallax scroll effect\n  useEffect(() => {\n    const handleScroll = () => setScrollY(window.scrollY);\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  // Filter events based on selected category (using database category field)\n  useEffect(() => {\n    if (selectedCategory) {\n      const filtered = events.filter(event => \n        event.category.toLowerCase() === selectedCategory.toLowerCase()\n      );\n      setFilteredEvents(filtered);\n    } else {\n      setFilteredEvents([]);\n    }\n  }, [selectedCategory, events]);\n\n  // Handle scroll-based event switching with intersection observer and auto-scroll\n  useEffect(() => {\n    if (filteredEvents.length === 0) return;\n\n    const observerOptions = {\n      root: null,\n      rootMargin: '-20% 0px -20% 0px',\n      threshold: 0.6\n    };\n\n    const observerCallback = (entries: IntersectionObserverEntry[]) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          const index = parseInt(entry.target.getAttribute('data-event-index') || '0');\n          if (index !== currentEventIndex) {\n            setCurrentEventIndex(index);\n          }\n        }\n      });\n    };\n\n    const observer = new IntersectionObserver(observerCallback, observerOptions);\n    \n    // Observe all event sections\n    const eventSections = document.querySelectorAll('[data-event-index]');\n    eventSections.forEach(section => observer.observe(section));\n\n    return () => {\n      eventSections.forEach(section => observer.unobserve(section));\n      observer.disconnect();\n    };\n  }, [filteredEvents.length, currentEventIndex]);\n\n  // Auto-scroll between events\n  useEffect(() => {\n    if (filteredEvents.length <= 1) return;\n\n    const autoScrollInterval = setInterval(() => {\n      const nextIndex = (currentEventIndex + 1) % filteredEvents.length;\n      const nextEventElement = document.querySelector(`[data-event-index=\"${nextIndex}\"]`);\n      \n      if (nextEventElement) {\n        nextEventElement.scrollIntoView({\n          behavior: 'smooth',\n          block: 'start'\n        });\n      }\n    }, 10000); // Auto-scroll every 10 seconds\n\n    return () => clearInterval(autoScrollInterval);\n  }, [currentEventIndex, filteredEvents.length]);\n\n  // Registration handlers\n  useEffect(() => {\n    if (!registerEvent) return;\n    setMembers((cur) => {\n      const want = Math.max(registerEvent.team_min || 1, 1);\n      if (cur.length >= want) return cur;\n      const add = Array.from({ length: want - cur.length }, () => ({ name: '' }));\n      return [...cur, ...add];\n    });\n  }, [registerEvent?.id]);\n\n  const submitRegistration = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!registerEvent) return;\n\n    const filled = members.filter((m) => m.name.trim().length > 0);\n    if (\n      filled.length < registerEvent.team_min ||\n      filled.length > registerEvent.team_max\n    ) {\n      alert(\n        `Please provide between ${registerEvent.team_min} and ${registerEvent.team_max} team members.`\n      );\n      return;\n    }\n\n    if (!contactEmail || !teamName.trim()) {\n      alert('Please provide both team name and contact email.');\n      return;\n    }\n\n    const payload: RegistrationPayload = {\n      technofestId: registerEvent.id,\n      teamName: teamName.trim(),\n      members: filled,\n      contactEmail: contactEmail.trim(),\n    };\n\n    try {\n      const res = await fetch(`/api/technofest/${registerEvent.id}/register`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload),\n      });\n\n      if (!res.ok) {\n        const errorData = await res.json();\n        throw new Error(errorData.message || 'Failed registration');\n      }\n\n      setRegisterEvent(null);\n      setTeamName('');\n      setContactEmail('');\n      setMembers([]);\n      alert('Registration received! We will email you soon.');\n    } catch (err) {\n      console.error('Registration error:', err);\n      alert(err instanceof Error ? err.message : 'Something went wrong. Please try again.');\n    }\n  };\n\n  const handleCategorySelect = (categoryId: string) => {\n    setSelectedCategory(categoryId);\n    setShowCategoryDialog(false);\n    setCurrentEventIndex(0);\n    \n    // Scroll to events section after category selection\n    setTimeout(() => {\n      const eventsSection = document.getElementById('events-section');\n      if (eventsSection) {\n        eventsSection.scrollIntoView({ \n          behavior: 'smooth', \n          block: 'start' \n        });\n      }\n    }, 100);\n  };\n\n  const handleBackToCategories = () => {\n    setSelectedCategory(null);\n    setFilteredEvents([]);\n    setCurrentEventIndex(0);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen pt-16 bg-gradient-to-br from-tech-light via-background to-gray-50\">\n        <div className=\"flex h-screen items-center justify-center\">\n          <div className=\"text-center\">\n            <div className=\"text-2xl font-tech font-bold mb-4 text-tech-dark\">Loading TechFest...</div>\n            <div className=\"animate-pulse text-tech-grey\">Please wait while we load the events</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen pt-16 scroll-smooth\">\n      {/* Hero Section */}\n      <section\n        ref={heroRef}\n        className=\"min-h-screen relative overflow-hidden\"\n        style={{\n          height: 'calc(100dvh - 4rem)',\n          background: 'linear-gradient(135deg, #ffecd2 0%, #fcb69f 25%, #a8edea 50%, #fed6e3 75%, #d299c2 100%)'\n        }}\n        data-testid=\"techfest-hero-section\"\n      >\n        {/* Background Spline */}\n        <div className=\"absolute inset-0 z-0\">\n          <TechFestBackground />\n        </div>\n        <div className=\"w-full h-full flex items-center justify-center px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center space-y-6 lg:space-y-8 w-full max-w-4xl mx-auto relative z-20\">\n            <div className=\"text-sm font-tech font-bold uppercase tracking-widest text-orange-300/80 mb-4 text-center\">\n              VAISH SOCIETY OF EDUCATION PRESENTS\n            </div>\n            <motion.h1 \n              className=\"font-tech text-5xl sm:text-6xl md:text-7xl lg:text-8xl xl:text-9xl font-black leading-none mb-8 text-center\"\n              style={{\n                background: 'linear-gradient(135deg, #000000 0%, #333333 100%)',\n                WebkitBackgroundClip: 'text',\n                WebkitTextFillColor: 'transparent',\n                backgroundClip: 'text'\n              }}\n              initial={{ opacity: 1 }}\n              animate={{ opacity: 1 }}\n              transition={{ duration: 0.1 }}\n            >\n              TECH<br />FEST'25\n            </motion.h1>\n            <motion.div\n              initial={{ opacity: 1 }}\n              animate={{ opacity: 1 }}\n              transition={{ duration: 0.1 }}\n              className=\"mb-8 flex justify-center\"\n            >\n              {!selectedCategory ? (\n                <HoverBorderGradient\n                  as=\"button\"\n                  onClick={() => setShowCategoryDialog(true)}\n                  className=\"px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-500 text-white font-tech font-bold text-lg tracking-wide\"\n                  containerClassName=\"rounded-full\"\n                  data-testid=\"button-get-started\"\n                >\n                  GET STARTED →\n                </HoverBorderGradient>\n              ) : (\n                <HoverBorderGradient\n                  as=\"button\"\n                  onClick={handleBackToCategories}\n                  className=\"px-8 py-4 bg-gradient-to-r from-gray-700 to-gray-900 text-white font-tech font-bold text-lg tracking-wide\"\n                  containerClassName=\"rounded-full\"\n                  data-testid=\"button-back-to-categories-hero\"\n                >\n                  ← BACK TO CATEGORIES\n                </HoverBorderGradient>\n              )}\n            </motion.div>\n          </div>\n        </div>\n\n        {error && (\n          <div className=\"responsive-container\">\n            <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded geometric-card max-w-md mx-auto\">\n              API Error: {error}. Using sample data.\n            </div>\n          </div>\n        )}\n      </section>\n\n      {/* Events Display Section */}\n      {selectedCategory && filteredEvents.length > 0 && (\n        <section id=\"events-section\" className=\"min-h-screen\" style={{ scrollBehavior: 'smooth' }}>\n          {/* Category Header */}\n          <div className=\"bg-gradient-to-br from-tech-light via-background to-gray-50 py-4\">\n            <div className=\"responsive-container\">\n              <div className=\"text-center mb-4\">\n                <h2 className=\"font-tech text-3xl sm:text-4xl lg:text-5xl font-bold text-tech-dark mb-4\">\n                  {categories.find(c => c.id === selectedCategory)?.name}\n                </h2>\n                <p className=\"text-lg sm:text-xl text-tech-grey\">\n                  {categories.find(c => c.id === selectedCategory)?.description}\n                </p>\n                <div className=\"mt-6 text-sm font-tech text-tech-blue\">\n                  {filteredEvents.length} event{filteredEvents.length !== 1 ? 's' : ''} available\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Events Container */}\n          <div className=\"relative\">\n            {/* Background remains the pink gradient TechFest background only */}\n\n            {/* Compact Back Button - Fixed Mobile Positioning */}\n            {selectedCategory && filteredEvents.length > 0 && (\n              <div className=\"absolute top-20 sm:top-4 left-4 z-50\">\n                <button\n                  onClick={handleBackToCategories}\n                  className=\"inline-flex items-center gap-1 px-3 py-2 bg-black/10 hover:bg-black/20 text-tech-blue hover:text-tech-dark transition-all duration-300 font-tech font-medium text-sm rounded-md backdrop-blur-sm border border-white/10 hover:border-white/20\"\n                  data-testid=\"button-back-to-categories-top\"\n                >\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n                  </svg>\n                  <span className=\"hidden sm:inline\">Back to Categories</span>\n                  <span className=\"sm:hidden\">Back</span>\n                </button>\n              </div>\n            )}\n\n            {/* Event Pages with Snap Scrolling */}\n            <div \n              className=\"overflow-y-scroll scroll-smooth relative\"\n              style={{\n                height: 'calc(100dvh - 4rem)',\n                scrollSnapType: filteredEvents.length > 0 ? 'y mandatory' : 'none',\n                scrollPaddingTop: '4rem' // Offset for navbar\n              }}\n            >\n              {filteredEvents.map((event, idx) => (\n                <motion.div\n                  key={event.id}\n                  data-event-index={idx}\n                  className=\"h-screen snap-start bg-transparent flex items-center\"\n                  initial={{ opacity: 1 }}\n                  whileInView={{ opacity: 1 }}\n                  exit={{ opacity: 0 }}\n                  viewport={{ once: false, amount: 0.3 }}\n                  transition={{ duration: 0.3 }}\n                >\n                  <div className=\"flex items-center justify-center w-full h-full relative z-10 pt-16 sm:pt-8 md:pt-0\">\n                    <div className=\"flex flex-col lg:flex-row items-center justify-center gap-6 lg:gap-12 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\n                      {/* Event Content */}\n                      <motion.div \n                        className=\"flex-1 space-y-3 md:space-y-4 text-center lg:text-left lg:max-w-md px-2 sm:px-0\"\n                        initial={{ opacity: 0 }}\n                        whileInView={{ opacity: 1 }}\n                        viewport={{ once: false, amount: 0.3 }}\n                        transition={{ duration: 0.3 }}\n                      >\n                        <div className=\"text-xs md:text-sm font-tech font-bold uppercase tracking-widest text-tech-blue\">\n                          Event #{event.number || idx + 1}\n                        </div>\n                        <h3 className=\"font-tech text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-tech-dark leading-tight\">\n                          {event.name}\n                        </h3>\n                        <p className=\"text-sm md:text-base lg:text-lg text-tech-grey leading-relaxed max-w-lg mx-auto lg:mx-0\">\n                          {event.short_description}\n                        </p>\n                        <div className=\"flex flex-wrap gap-2 justify-center lg:justify-start\">\n                          <span className=\"px-2 md:px-3 py-1 bg-tech-blue text-white text-xs md:text-sm rounded-full font-mono\">\n                            {event.category}\n                          </span>\n                          <span className=\"px-2 md:px-3 py-1 bg-tech-green text-white text-xs md:text-sm rounded-full font-mono\">\n                            Team: {event.team_min}–{event.team_max}\n                          </span>\n                        </div>\n                        <div className=\"flex flex-col sm:flex-row gap-3 md:gap-4 pt-2 justify-center lg:justify-start\">\n                          <HoverBorderGradient\n                            onClick={() => setRegisterEvent(event)}\n                            className=\"w-full sm:w-auto px-6 md:px-8 py-3 md:py-4 bg-gradient-to-r from-blue-500 to-purple-500 text-white font-tech font-semibold\"\n                            containerClassName=\"w-full sm:w-auto\"\n                            data-testid={`button-register-${event.id}`}\n                          >\n                            Register Now\n                          </HoverBorderGradient>\n                          <HoverBorderGradient\n                            onClick={() => setLearnMoreEvent(event)}\n                            className=\"w-full sm:w-auto px-6 md:px-8 py-3 md:py-4 bg-gradient-to-r from-gray-700 to-gray-900 text-white font-tech font-semibold\"\n                            containerClassName=\"w-full sm:w-auto\"\n                            data-testid={`button-learn-more-${event.id}`}\n                          >\n                            Learn More\n                          </HoverBorderGradient>\n                        </div>\n                      </motion.div>\n\n                      {/* Event Visual */}\n                      <motion.div \n                        className=\"flex-shrink-0 relative z-20 flex items-center justify-center\"\n                        initial={{ opacity: 0, x: 30 }}\n                        whileInView={{ opacity: 1, x: 0 }}\n                        viewport={{ once: false, amount: 0.3 }}\n                        transition={{ duration: 0.3 }}\n                      >\n                        {event.spline_right_url ? (\n                          <div className=\"w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 lg:w-[28rem] lg:h-[28rem] spline-container rounded-xl overflow-hidden bg-transparent relative flex items-center justify-center\">\n                            <DynamicSplineComponent\n                              eventName={event.name}\n                              fallbackUrl={event.spline_right_url}\n                              className=\"w-full h-full\"\n                            />\n                          </div>\n                        ) : (\n                          <div className=\"w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 lg:w-[28rem] lg:h-[28rem] bg-gradient-to-br from-tech-blue/30 to-tech-green/30 rounded-xl flex items-center justify-center backdrop-blur-sm\">\n                            <div className=\"text-center text-white\">\n                              <div className=\"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-tech font-bold mb-1 md:mb-2\">#{event.number || idx + 1}</div>\n                              <div className=\"text-xs sm:text-sm md:text-base lg:text-lg font-tech uppercase tracking-wider\">{event.category}</div>\n                            </div>\n                          </div>\n                        )}\n                      </motion.div>\n                    </div>\n\n                    {/* Lottie Scroll Icon - Desktop Only */}\n                    {idx === 0 && (\n                      <div className=\"hidden lg:block absolute bottom-8 left-1/2 transform -translate-x-1/2 z-30\">\n                        <dotlottie-wc \n                          src=\"https://lottie.host/bd4a5448-00ed-4474-9e0b-8031a5c6ead2/YueNy6H1KL.lottie\" \n                          style={{ width: '80px', height: '80px' }}\n                          speed=\"1\" \n                          autoplay \n                          loop\n                        ></dotlottie-wc>\n                      </div>\n                    )}\n                  </div>\n                </motion.div>\n              ))}\n            </div>\n          </div>\n        </section>\n      )}\n\n      {/* No events message */}\n      {selectedCategory && filteredEvents.length === 0 && (\n        <section className=\"py-20 bg-gradient-to-br from-tech-light via-background to-gray-50\">\n          <div className=\"responsive-container text-center\">\n            <div className=\"backdrop-blur-md bg-white/5 border border-white/10 shadow-2xl p-12 rounded-2xl max-w-2xl mx-auto\">\n              <h3 className=\"font-tech text-2xl font-bold text-tech-dark mb-4\">\n                No {categories.find(c => c.id === selectedCategory)?.name} Available\n              </h3>\n              <p className=\"text-tech-grey mb-6\">\n                Check back later for exciting {selectedCategory.toLowerCase()} competitions!\n              </p>\n              <button\n                onClick={handleBackToCategories}\n                className=\"px-8 py-4 tech-gradient text-white font-tech font-semibold rounded-xl hover:shadow-lg transition-all hover-lift\"\n              >\n                Back to Categories\n              </button>\n            </div>\n          </div>\n        </section>\n      )}\n\n      {/* Category Selection Dialog */}\n      <AnimatePresence>\n        {showCategoryDialog && !selectedCategory && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm\"\n            onClick={() => setShowCategoryDialog(false)}\n          >\n            <motion.div\n              initial={{ scale: 0.9, opacity: 0 }}\n              animate={{ scale: 1, opacity: 1 }}\n              exit={{ scale: 0.9, opacity: 0 }}\n              onClick={(e) => e.stopPropagation()}\n              className=\"bg-background rounded-2xl p-4 sm:p-6 md:p-8 max-w-4xl w-full mx-4 shadow-2xl border border-border\"\n            >\n              <div className=\"text-center mb-6 sm:mb-8\">\n                <h3 className=\"font-tech text-xl sm:text-2xl md:text-3xl font-bold text-tech-dark mb-4\">\n                  Choose Your Category\n                </h3>\n                <p className=\"text-tech-grey\">\n                  Select a category to explore available events\n                </p>\n              </div>\n\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6\">\n                {categories.map((category) => (\n                  <button\n                    key={category.id}\n                    onClick={() => handleCategorySelect(category.id)}\n                    className=\"backdrop-blur-md bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 shadow-xl hover:shadow-2xl p-4 sm:p-6 rounded-xl transition-all hover-lift text-left group\"\n                    data-testid={`category-${category.id}`}\n                  >\n                    <div className=\"text-2xl sm:text-3xl md:text-4xl mb-3 sm:mb-4 group-hover:scale-110 transition-transform\">\n                      {category.icon}\n                    </div>\n                    <h4 className=\"font-tech text-lg sm:text-xl font-bold text-tech-dark mb-2 group-hover:text-tech-blue transition-colors\">\n                      {category.name}\n                    </h4>\n                    <p className=\"text-tech-grey text-sm leading-relaxed\">\n                      {category.description}\n                    </p>\n                    <div className=\"mt-4 text-xs font-tech uppercase tracking-wider text-tech-blue opacity-0 group-hover:opacity-100 transition-opacity\">\n                      Explore →\n                    </div>\n                  </button>\n                ))}\n              </div>\n\n              <div className=\"text-center mt-8\">\n                <button\n                  onClick={() => setShowCategoryDialog(false)}\n                  className=\"px-6 py-2 text-tech-grey hover:text-tech-dark font-tech transition-colors\"\n                  data-testid=\"button-close-dialog\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Modals */}\n      <AnimatePresence>\n        {learnMoreEvent && (\n          <Modal onClose={() => setLearnMoreEvent(null)}>\n            <div className=\"max-h-[80vh] w-full max-w-2xl overflow-y-auto rounded-2xl bg-background p-8 shadow-2xl border border-border\">\n              <h2 className=\"mb-4 text-3xl font-tech font-bold text-tech-dark\">{learnMoreEvent.name}</h2>\n\n              {learnMoreEvent.youtube_url && (\n                <div className=\"mb-6\">\n                  <iframe\n                    width=\"100%\"\n                    height=\"315\"\n                    src={toEmbedUrl(learnMoreEvent.youtube_url)}\n                    frameBorder=\"0\"\n                    allowFullScreen\n                    className=\"rounded-lg\"\n                    title={`Video for ${learnMoreEvent.name}`}\n                  />\n                </div>\n              )}\n\n              <div className=\"mb-6\">\n                <h3 className=\"mb-2 text-xl font-tech font-semibold text-tech-blue\">Description</h3>\n                <p className=\"text-tech-grey\">{learnMoreEvent.description}</p>\n              </div>\n\n              {learnMoreEvent.rules?.length ? (\n                <div className=\"mb-6\">\n                  <h3 className=\"mb-2 text-xl font-tech font-semibold text-tech-blue\">Rules & Guidelines</h3>\n                  <ul className=\"list-disc space-y-2 pl-5 text-tech-grey\">\n                    {learnMoreEvent.rules.map((r, i) => (\n                      <li key={i}>{r}</li>\n                    ))}\n                  </ul>\n                </div>\n              ) : null}\n\n              <div className=\"grid grid-cols-2 gap-4 mb-6 text-sm\">\n                <div className=\"backdrop-blur-lg bg-white/10 border border-white/20 shadow-lg p-3 rounded-lg\">\n                  <strong className=\"text-tech-blue\">Category:</strong> {learnMoreEvent.category}\n                </div>\n                <div className=\"backdrop-blur-lg bg-white/10 border border-white/20 shadow-lg p-3 rounded-lg\">\n                  <strong className=\"text-tech-blue\">Team size:</strong> {learnMoreEvent.team_min}–{learnMoreEvent.team_max}\n                </div>\n              </div>\n\n              <button\n                onClick={() => setLearnMoreEvent(null)}\n                className=\"w-full tech-gradient text-white py-3 rounded-lg font-tech font-semibold hover:shadow-lg transition-all\"\n                data-testid=\"button-close-modal\"\n              >\n                Close\n              </button>\n            </div>\n          </Modal>\n        )}\n\n        {registerEvent && (\n          <Modal onClose={() => setRegisterEvent(null)}>\n            <form\n              onSubmit={submitRegistration}\n              className=\"w-full max-w-lg mx-4 sm:mx-auto rounded-2xl backdrop-blur-lg bg-white/95 dark:bg-gray-900/95 border border-gray-200 dark:border-gray-700 shadow-xl p-4 sm:p-6 md:p-8\"\n            >\n              <h2 className=\"mb-4 text-lg sm:text-xl md:text-2xl font-tech font-bold text-gray-900 dark:text-white\">{`Register: ${registerEvent.name}`}</h2>\n              <div className=\"mb-4 text-sm text-gray-600 dark:text-gray-300\">\n                Team size: {registerEvent.team_min}–{registerEvent.team_max} (includes 1 leader + {registerEvent.team_min - 1}–{registerEvent.team_max - 1} members)\n              </div>\n\n              <input\n                type=\"text\"\n                value={teamName}\n                onChange={(e) => setTeamName(e.target.value)}\n                placeholder=\"Team name\"\n                className=\"mb-4 w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-tech-blue focus:outline-none focus:ring-2 focus:ring-tech-blue/20\"\n                required\n                data-testid=\"input-team-name\"\n              />\n\n              {/* Team Leader Section */}\n              <div className=\"mb-4\">\n                <span className=\"font-tech font-semibold text-tech-blue dark:text-tech-green mb-2 block\">Team Leader</span>\n                <div className=\"space-y-2\">\n                  <input\n                    type=\"text\"\n                    value={members[0]?.name || ''}\n                    onChange={(e) => {\n                      const v = e.target.value;\n                      setMembers((s) => {\n                        const newMembers = [...s];\n                        if (newMembers.length === 0) newMembers.push({ name: '', email: '' });\n                        newMembers[0] = { ...newMembers[0], name: v };\n                        return newMembers;\n                      });\n                    }}\n                    placeholder=\"Team Leader Name\"\n                    className=\"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-tech-blue focus:outline-none focus:ring-2 focus:ring-tech-blue/20\"\n                    required\n                    data-testid=\"input-leader-name\"\n                  />\n                  <input\n                    type=\"email\"\n                    value={members[0]?.email || ''}\n                    onChange={(e) => {\n                      const v = e.target.value;\n                      setMembers((s) => {\n                        const newMembers = [...s];\n                        if (newMembers.length === 0) newMembers.push({ name: '', email: '' });\n                        newMembers[0] = { ...newMembers[0], email: v };\n                        return newMembers;\n                      });\n                    }}\n                    placeholder=\"Team Leader Email\"\n                    className=\"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-tech-blue focus:outline-none focus:ring-2 focus:ring-tech-blue/20\"\n                    required\n                    data-testid=\"input-leader-email\"\n                  />\n                </div>\n              </div>\n\n              <input\n                type=\"email\"\n                value={contactEmail}\n                onChange={(e) => setContactEmail(e.target.value)}\n                placeholder=\"Contact email\"\n                className=\"mb-4 w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-tech-blue focus:outline-none focus:ring-2 focus:ring-tech-blue/20\"\n                required\n                data-testid=\"input-contact-email\"\n              />\n\n              {/* Dynamic members */}\n              <div className=\"mb-6\">\n                <div className=\"mb-3 flex items-center justify-between\">\n                  <span className=\"font-tech font-semibold text-tech-blue dark:text-tech-green\">Additional Team Members</span>\n                  <div className=\"flex flex-col sm:flex-row gap-2\">\n                    <button\n                      type=\"button\"\n                      onClick={() =>\n                        setMembers((m) =>\n                          m.length < (registerEvent.team_max || 20)\n                            ? [...m, { name: '', email: '' }]\n                            : m\n                        )\n                      }\n                      className=\"rounded-md bg-tech-blue hover:bg-tech-green px-2 py-1 text-xs text-white transition-colors\"\n                      data-testid=\"button-add-member\"\n                    >\n                      + Add\n                    </button>\n                    <button\n                      type=\"button\"\n                      onClick={() =>\n                        setMembers((m) =>\n                          m.length > 1 ? m.slice(0, -1) : m\n                        )\n                      }\n                      className=\"rounded-md bg-red-500 hover:bg-red-600 px-2 py-1 text-xs text-white transition-colors\"\n                      data-testid=\"button-remove-member\"\n                    >\n                      − Remove\n                    </button>\n                  </div>\n                </div>\n\n                {members.slice(1).map((mem, idx) => (\n                  <div key={idx} className=\"mb-3 flex flex-col sm:flex-row gap-2\">\n                    <input\n                      type=\"text\"\n                      value={mem.name}\n                      onChange={(e) => {\n                        const v = e.target.value;\n                        setMembers((s) =>\n                          s.map((m, i) => (i === idx + 1 ? { ...m, name: v } : m))\n                        );\n                      }}\n                      placeholder={`Member ${idx + 1} name`}\n                      className=\"flex-1 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-tech-blue focus:outline-none focus:ring-2 focus:ring-tech-blue/20\"\n                      required={idx + 1 < registerEvent.team_min}\n                      data-testid={`input-member-name-${idx}`}\n                    />\n                    <input\n                      type=\"email\"\n                      value={mem.email || ''}\n                      onChange={(e) => {\n                        const v = e.target.value;\n                        setMembers((s) =>\n                          s.map((m, i) => (i === idx + 1 ? { ...m, email: v } : m))\n                        );\n                      }}\n                      placeholder=\"Email (optional)\"\n                      className=\"w-full sm:w-48 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-tech-blue focus:outline-none focus:ring-2 focus:ring-tech-blue/20\"\n                      data-testid={`input-member-email-${idx}`}\n                    />\n                  </div>\n                ))}\n              </div>\n\n              <div className=\"flex gap-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => setRegisterEvent(null)}\n                  className=\"flex-1 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-4 py-3 text-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                  data-testid=\"button-cancel-registration\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"flex-1 rounded-lg tech-gradient px-4 py-3 font-tech font-semibold text-white hover:shadow-lg transition-all\"\n                  data-testid=\"button-submit-registration\"\n                >\n                  Submit Registration\n                </button>\n              </div>\n            </form>\n          </Modal>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n\n/* ---------- Modal + helpers ---------- */\n\nfunction Modal({\n  children,\n  onClose,\n}: {\n  children: React.ReactNode;\n  onClose: () => void;\n}) {\n  useEffect(() => {\n    const h = (e: KeyboardEvent) => e.key === 'Escape' && onClose();\n    window.addEventListener('keydown', h);\n    return () => window.removeEventListener('keydown', h);\n  }, [onClose]);\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm\"\n      onClick={onClose}\n    >\n      <div onClick={(e) => e.stopPropagation()}>{children}</div>\n    </motion.div>\n  );\n}\n\nfunction toEmbedUrl(url?: string) {\n  if (!url) return '';\n  try {\n    const u = new URL(url);\n    if (u.hostname.includes('youtu.be')) {\n      return `https://www.youtube.com/embed/${u.pathname.replace('/', '')}`;\n    }\n    if (u.hostname.includes('youtube.com')) {\n      const id = u.searchParams.get('v');\n      if (id) return `https://www.youtube.com/embed/${id}`;\n      if (u.pathname.startsWith('/embed/')) return url;\n    }\n  } catch {}\n  return url;\n}","size_bytes":42895},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1419},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1128},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":1901},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","size_bytes":1858},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":791},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5742},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/ui/sidebar.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { VariantProps, cva } from \"class-variance-authority\"\nimport { PanelLeft } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean\n    open?: boolean\n    onOpenChange?: (open: boolean) => void\n  }\n>(\n  (\n    {\n      defaultOpen = true,\n      open: openProp,\n      onOpenChange: setOpenProp,\n      className,\n      style,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const isMobile = useIsMobile()\n    const [openMobile, setOpenMobile] = React.useState(false)\n\n    // This is the internal state of the sidebar.\n    // We use openProp and setOpenProp for control from outside the component.\n    const [_open, _setOpen] = React.useState(defaultOpen)\n    const open = openProp ?? _open\n    const setOpen = React.useCallback(\n      (value: boolean | ((value: boolean) => boolean)) => {\n        const openState = typeof value === \"function\" ? value(open) : value\n        if (setOpenProp) {\n          setOpenProp(openState)\n        } else {\n          _setOpen(openState)\n        }\n\n        // This sets the cookie to keep the sidebar state.\n        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n      },\n      [setOpenProp, open]\n    )\n\n    // Helper to toggle the sidebar.\n    const toggleSidebar = React.useCallback(() => {\n      return isMobile\n        ? setOpenMobile((open) => !open)\n        : setOpen((open) => !open)\n    }, [isMobile, setOpen, setOpenMobile])\n\n    // Adds a keyboard shortcut to toggle the sidebar.\n    React.useEffect(() => {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        if (\n          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n          (event.metaKey || event.ctrlKey)\n        ) {\n          event.preventDefault()\n          toggleSidebar()\n        }\n      }\n\n      window.addEventListener(\"keydown\", handleKeyDown)\n      return () => window.removeEventListener(\"keydown\", handleKeyDown)\n    }, [toggleSidebar])\n\n    // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n    // This makes it easier to style the sidebar with Tailwind classes.\n    const state = open ? \"expanded\" : \"collapsed\"\n\n    const contextValue = React.useMemo<SidebarContextProps>(\n      () => ({\n        state,\n        open,\n        setOpen,\n        isMobile,\n        openMobile,\n        setOpenMobile,\n        toggleSidebar,\n      }),\n      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n    )\n\n    return (\n      <SidebarContext.Provider value={contextValue}>\n        <TooltipProvider delayDuration={0}>\n          <div\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH,\n                \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n                ...style,\n              } as React.CSSProperties\n            }\n            className={cn(\n              \"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\",\n              className\n            )}\n            ref={ref}\n            {...props}\n          >\n            {children}\n          </div>\n        </TooltipProvider>\n      </SidebarContext.Provider>\n    )\n  }\n)\nSidebarProvider.displayName = \"SidebarProvider\"\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\"\n    variant?: \"sidebar\" | \"floating\" | \"inset\"\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n  }\n>(\n  (\n    {\n      side = \"left\",\n      variant = \"sidebar\",\n      collapsible = \"offcanvas\",\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n    if (collapsible === \"none\") {\n      return (\n        <div\n          className={cn(\n            \"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\",\n            className\n          )}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      )\n    }\n\n    if (isMobile) {\n      return (\n        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n          <SheetContent\n            data-sidebar=\"sidebar\"\n            data-mobile=\"true\"\n            className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n              } as React.CSSProperties\n            }\n            side={side}\n          >\n            <SheetHeader className=\"sr-only\">\n              <SheetTitle>Sidebar</SheetTitle>\n              <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n            </SheetHeader>\n            <div className=\"flex h-full w-full flex-col\">{children}</div>\n          </SheetContent>\n        </Sheet>\n      )\n    }\n\n    return (\n      <div\n        ref={ref}\n        className=\"group peer hidden text-sidebar-foreground md:block\"\n        data-state={state}\n        data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n        data-variant={variant}\n        data-side={side}\n      >\n        {/* This is what handles the sidebar gap on desktop */}\n        <div\n          className={cn(\n            \"relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n            \"group-data-[collapsible=offcanvas]:w-0\",\n            \"group-data-[side=right]:rotate-180\",\n            variant === \"floating\" || variant === \"inset\"\n              ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\"\n          )}\n        />\n        <div\n          className={cn(\n            \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n            side === \"left\"\n              ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n              : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n            // Adjust the padding for floating and inset variants.\n            variant === \"floating\" || variant === \"inset\"\n              ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n            className\n          )}\n          {...props}\n        >\n          <div\n            data-sidebar=\"sidebar\"\n            className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n          >\n            {children}\n          </div>\n        </div>\n      </div>\n    )\n  }\n)\nSidebar.displayName = \"Sidebar\"\n\nconst SidebarTrigger = React.forwardRef<\n  React.ElementRef<typeof Button>,\n  React.ComponentProps<typeof Button>\n>(({ className, onClick, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      ref={ref}\n      data-sidebar=\"trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeft />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n})\nSidebarTrigger.displayName = \"SidebarTrigger\"\n\nconst SidebarRail = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\">\n>(({ className, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <button\n      ref={ref}\n      data-sidebar=\"rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex\",\n        \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarRail.displayName = \"SidebarRail\"\n\nconst SidebarInset = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"main\">\n>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex w-full flex-1 flex-col bg-background\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInset.displayName = \"SidebarInset\"\n\nconst SidebarInput = React.forwardRef<\n  React.ElementRef<typeof Input>,\n  React.ComponentProps<typeof Input>\n>(({ className, ...props }, ref) => {\n  return (\n    <Input\n      ref={ref}\n      data-sidebar=\"input\"\n      className={cn(\n        \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInput.displayName = \"SidebarInput\"\n\nconst SidebarHeader = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarHeader.displayName = \"SidebarHeader\"\n\nconst SidebarFooter = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarFooter.displayName = \"SidebarFooter\"\n\nconst SidebarSeparator = React.forwardRef<\n  React.ElementRef<typeof Separator>,\n  React.ComponentProps<typeof Separator>\n>(({ className, ...props }, ref) => {\n  return (\n    <Separator\n      ref={ref}\n      data-sidebar=\"separator\"\n      className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n      {...props}\n    />\n  )\n})\nSidebarSeparator.displayName = \"SidebarSeparator\"\n\nconst SidebarContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarContent.displayName = \"SidebarContent\"\n\nconst SidebarGroup = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarGroup.displayName = \"SidebarGroup\"\n\nconst SidebarGroupLabel = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\"\n\nconst SidebarGroupAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupAction.displayName = \"SidebarGroupAction\"\n\nconst SidebarGroupContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"group-content\"\n    className={cn(\"w-full text-sm\", className)}\n    {...props}\n  />\n))\nSidebarGroupContent.displayName = \"SidebarGroupContent\"\n\nconst SidebarMenu = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu\"\n    className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n    {...props}\n  />\n))\nSidebarMenu.displayName = \"SidebarMenu\"\n\nconst SidebarMenuItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    data-sidebar=\"menu-item\"\n    className={cn(\"group/menu-item relative\", className)}\n    {...props}\n  />\n))\nSidebarMenuItem.displayName = \"SidebarMenuItem\"\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    isActive?: boolean\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(\n  (\n    {\n      asChild = false,\n      isActive = false,\n      variant = \"default\",\n      size = \"default\",\n      tooltip,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const Comp = asChild ? Slot : \"button\"\n    const { isMobile, state } = useSidebar()\n\n    const button = (\n      <Comp\n        ref={ref}\n        data-sidebar=\"menu-button\"\n        data-size={size}\n        data-active={isActive}\n        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n        {...props}\n      />\n    )\n\n    if (!tooltip) {\n      return button\n    }\n\n    if (typeof tooltip === \"string\") {\n      tooltip = {\n        children: tooltip,\n      }\n    }\n\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>{button}</TooltipTrigger>\n        <TooltipContent\n          side=\"right\"\n          align=\"center\"\n          hidden={state !== \"collapsed\" || isMobile}\n          {...tooltip}\n        />\n      </Tooltip>\n    )\n  }\n)\nSidebarMenuButton.displayName = \"SidebarMenuButton\"\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    showOnHover?: boolean\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuAction.displayName = \"SidebarMenuAction\"\n\nconst SidebarMenuBadge = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"menu-badge\"\n    className={cn(\n      \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n      \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n      \"peer-data-[size=sm]/menu-button:top-1\",\n      \"peer-data-[size=default]/menu-button:top-1.5\",\n      \"peer-data-[size=lg]/menu-button:top-2.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\"\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n})\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\"\n\nconst SidebarMenuSub = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu-sub\"\n    className={cn(\n      \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuSub.displayName = \"SidebarMenuSub\"\n\nconst SidebarMenuSubItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ ...props }, ref) => <li ref={ref} {...props} />)\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\"\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean\n    size?: \"sm\" | \"md\"\n    isActive?: boolean\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\"\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":23567},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"client/src/pages/admin/about.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Save, FileText } from \"lucide-react\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\n\nconst aboutContentSchema = z.object({\n  title: z.string().min(1, \"Title is required\"),\n  content: z.string().min(1, \"Content is required\"),\n  imageUrl: z.string().optional(),\n});\n\ntype AboutContentFormData = z.infer<typeof aboutContentSchema>;\n\nexport default function AdminAbout() {\n  const { toast } = useToast();\n\n  const { data: aboutContent, isLoading } = useQuery({\n    queryKey: [\"/api/admin/about\"],\n  });\n\n  const form = useForm<AboutContentFormData>({\n    resolver: zodResolver(aboutContentSchema),\n    defaultValues: {\n      title: \"\",\n      content: \"\",\n      imageUrl: \"\",\n    },\n  });\n\n  const updateMutation = useMutation({\n    mutationFn: async (data: AboutContentFormData) => {\n      return await apiRequest(\"/api/admin/about/hero\", \"PATCH\", data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/about\"] });\n      toast({\n        title: \"Success\",\n        description: \"About content updated successfully\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Set form values when data loads\n  useEffect(() => {\n    if (Array.isArray(aboutContent) && aboutContent.length > 0) {\n      const heroContent = aboutContent.find((content: any) => content.section === \"hero\") || aboutContent[0];\n      if (heroContent) {\n        form.reset({\n          title: heroContent.title || \"\",\n          content: heroContent.content || \"\",\n          imageUrl: heroContent.imageUrl || \"\",\n        });\n      }\n    }\n  }, [aboutContent, form]);\n\n  const onSubmit = (data: AboutContentFormData) => {\n    updateMutation.mutate(data);\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"p-6 bg-tech-light min-h-screen\">\n        <div className=\"animate-pulse\">\n          <div className=\"h-8 bg-tech-grey/20 rounded w-1/4 mb-6\"></div>\n          <div className=\"space-y-4\">\n            <div className=\"h-32 bg-tech-grey/20 rounded\"></div>\n            <div className=\"h-20 bg-tech-grey/20 rounded\"></div>\n            <div className=\"h-10 bg-tech-grey/20 rounded\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6 space-y-6 bg-tech-light min-h-screen\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-3xl font-bold font-tech text-tech-dark\">About Us Content</h1>\n          <p className=\"text-tech-grey mt-2 font-tech\">Manage the about us section content</p>\n        </div>\n      </div>\n\n      <Card className=\"bg-white border-tech-grey/20 max-w-4xl\">\n        <CardHeader>\n          <CardTitle className=\"text-tech-dark font-tech flex items-center\">\n            <FileText className=\"h-5 w-5 mr-2\" />\n            Hero Section Content\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <Form {...form}>\n            <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n              <FormField\n                control={form.control}\n                name=\"title\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel className=\"text-tech-dark font-tech\">Title</FormLabel>\n                    <FormControl>\n                      <Input \n                        placeholder=\"About section title\" \n                        className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                        {...field} \n                        data-testid=\"input-about-title\"\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              \n              <FormField\n                control={form.control}\n                name=\"content\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel className=\"text-tech-dark font-tech\">Content</FormLabel>\n                    <FormControl>\n                      <Textarea \n                        placeholder=\"About section content\" \n                        className=\"border-tech-grey/30 focus:border-tech-blue font-tech min-h-[200px]\"\n                        {...field} \n                        data-testid=\"input-about-content\"\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              \n              <FormField\n                control={form.control}\n                name=\"imageUrl\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel className=\"text-tech-dark font-tech\">Background Image URL (Optional)</FormLabel>\n                    <FormControl>\n                      <Input \n                        placeholder=\"https://example.com/background.jpg\" \n                        className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                        {...field} \n                        data-testid=\"input-about-image\"\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <div className=\"flex justify-end\">\n                <Button \n                  type=\"submit\" \n                  disabled={updateMutation.isPending}\n                  className=\"bg-tech-blue hover:bg-tech-purple text-white font-tech\"\n                  data-testid=\"button-save-about\"\n                >\n                  <Save className=\"h-4 w-4 mr-2\" />\n                  {updateMutation.isPending ? \"Saving...\" : \"Save Changes\"}\n                </Button>\n              </div>\n            </form>\n          </Form>\n        </CardContent>\n      </Card>\n\n      {/* Preview Section */}\n      <Card className=\"bg-white border-tech-grey/20 max-w-4xl\">\n        <CardHeader>\n          <CardTitle className=\"text-tech-dark font-tech\">Preview</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"p-6 bg-tech-light rounded-lg border\">\n            <h2 className=\"text-2xl font-bold font-tech text-tech-dark mb-4\">\n              {form.watch(\"title\") || \"About Section Title\"}\n            </h2>\n            <p className=\"text-tech-grey font-tech leading-relaxed\">\n              {form.watch(\"content\") || \"About section content will appear here...\"}\n            </p>\n            {form.watch(\"imageUrl\") && (\n              <div className=\"mt-4\">\n                <img \n                  src={form.watch(\"imageUrl\")} \n                  alt=\"Background preview\" \n                  className=\"w-full h-32 object-cover rounded\"\n                  onError={(e) => {\n                    const target = e.target as HTMLImageElement;\n                    target.style.display = 'none';\n                  }}\n                />\n              </div>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","size_bytes":7706},"client/src/pages/admin/announcements.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { authenticatedRequest } from \"@/lib/api\";\nimport { \n  Plus, \n  Edit, \n  Trash2, \n  MessageSquare, \n  Calendar,\n  Star,\n  AlertTriangle\n} from \"lucide-react\";\n\ninterface Announcement {\n  id: string;\n  title: string;\n  content: string;\n  createdBy: string;\n  isImportant: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport default function AdminAnnouncements() {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [showCreateDialog, setShowCreateDialog] = useState(false);\n  const [editingAnnouncement, setEditingAnnouncement] = useState<Announcement | null>(null);\n  const [formData, setFormData] = useState({\n    title: \"\",\n    content: \"\",\n    isImportant: false,\n  });\n\n  // Fetch announcements\n  const { data: announcements = [], isLoading } = useQuery({\n    queryKey: [\"/api/announcements\"],\n    queryFn: () => authenticatedRequest(\"/api/announcements\"),\n  });\n\n  // Create announcement mutation\n  const createAnnouncementMutation = useMutation({\n    mutationFn: async (data: any) => {\n      return authenticatedRequest(\"/api/admin/announcements\", \"POST\", data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/announcements\"] });\n      toast({\n        title: \"Success\",\n        description: \"Announcement created successfully\",\n      });\n      setShowCreateDialog(false);\n      resetForm();\n    },\n    onError: (error: any) => {\n      const errorMessage = error?.details || error?.message || \"Failed to create announcement\";\n      toast({\n        title: \"Error\",\n        description: errorMessage,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Update announcement mutation\n  const updateAnnouncementMutation = useMutation({\n    mutationFn: async (data: any) => {\n      return authenticatedRequest(`/api/admin/announcements/${editingAnnouncement?.id}`, \"PATCH\", data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/announcements\"] });\n      toast({\n        title: \"Success\",\n        description: \"Announcement updated successfully\",\n      });\n      setEditingAnnouncement(null);\n      resetForm();\n    },\n    onError: (error: any) => {\n      const errorMessage = error?.details || error?.message || \"Failed to update announcement\";\n      toast({\n        title: \"Error\",\n        description: errorMessage,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Delete announcement mutation\n  const deleteAnnouncementMutation = useMutation({\n    mutationFn: async (announcementId: string) => {\n      return authenticatedRequest(`/api/admin/announcements/${announcementId}`, \"DELETE\");\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/announcements\"] });\n      toast({\n        title: \"Success\",\n        description: \"Announcement deleted successfully\",\n      });\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Error\",\n        description: error.message || \"Failed to delete announcement\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const resetForm = () => {\n    setFormData({\n      title: \"\",\n      content: \"\",\n      isImportant: false,\n    });\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (editingAnnouncement) {\n      updateAnnouncementMutation.mutate(formData);\n    } else {\n      createAnnouncementMutation.mutate(formData);\n    }\n  };\n\nconst handleEdit = (announcement: Announcement) => {\n  setEditingAnnouncement(announcement);\n  setFormData({\n    title: announcement.title,\n    content: announcement.content,\n    isImportant: announcement.isImportant,\n  });\n  setShowCreateDialog(true); // <-- This opens the dialog for edit!\n};\n\n  const handleDelete = (announcementId: string) => {\n    if (confirm(\"Are you sure you want to delete this announcement?\")) {\n      deleteAnnouncementMutation.mutate(announcementId);\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  return (\n    <div className=\"p-6 space-y-6 bg-tech-light min-h-screen\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-3xl font-bold font-tech text-tech-dark\">Announcement Management</h1>\n          <p className=\"text-tech-grey mt-2 font-tech\">Create and manage community announcements</p>\n        </div>\n        <Dialog open={showCreateDialog} onOpenChange={setShowCreateDialog}>\n          <DialogTrigger asChild>\n            <Button className=\"bg-tech-blue hover:bg-tech-purple text-white font-tech\">\n              <Plus className=\"h-4 w-4 mr-2\" />\n              Create Announcement\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-2xl\">\n            <DialogHeader>\n              <DialogTitle className=\"font-tech\">\n                {editingAnnouncement ? \"Edit Announcement\" : \"Create New Announcement\"}\n              </DialogTitle>\n              <DialogDescription className=\"font-tech\">\n                {editingAnnouncement ? \"Update the announcement details\" : \"Share important information with the community\"}\n              </DialogDescription>\n            </DialogHeader>\n            \n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div>\n                <Label htmlFor=\"title\" className=\"font-tech\">Title</Label>\n                <Input\n                  id=\"title\"\n                  value={formData.title}\n                  onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\n                  placeholder=\"Enter announcement title\"\n                  className=\"font-tech\"\n                  required\n                />\n              </div>\n              \n              <div>\n                <Label htmlFor=\"content\" className=\"font-tech\">Content</Label>\n                <Textarea\n                  id=\"content\"\n                  value={formData.content}\n                  onChange={(e) => setFormData(prev => ({ ...prev, content: e.target.value }))}\n                  placeholder=\"Enter announcement content\"\n                  className=\"font-tech\"\n                  rows={6}\n                  required\n                />\n              </div>\n              \n              <div className=\"flex items-center space-x-2\">\n                <Switch\n                  id=\"isImportant\"\n                  checked={formData.isImportant}\n                  onCheckedChange={(checked) => setFormData(prev => ({ ...prev, isImportant: checked }))}\n                />\n                <Label htmlFor=\"isImportant\" className=\"font-tech flex items-center gap-2\">\n                  <Star className=\"h-4 w-4 text-yellow-500\" />\n                  Mark as important\n                </Label>\n              </div>\n              \n              <DialogFooter>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => {\n                    setShowCreateDialog(false);\n                    setEditingAnnouncement(null);\n                    resetForm();\n                  }}\n                  className=\"font-tech\"\n                >\n                  Cancel\n                </Button>\n                <Button\n                  type=\"submit\"\n                  className=\"bg-tech-blue hover:bg-tech-purple text-white font-tech\"\n                  disabled={createAnnouncementMutation.isPending || updateAnnouncementMutation.isPending}\n                >\n                  {createAnnouncementMutation.isPending || updateAnnouncementMutation.isPending ? \"Saving...\" : \"Save Announcement\"}\n                </Button>\n              </DialogFooter>\n            </form>\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Announcements Grid */}\n      {isLoading ? (\n        <div className=\"text-center py-12\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-tech-blue mx-auto\"></div>\n          <p className=\"text-tech-grey mt-2 font-tech\">Loading announcements...</p>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {announcements.map((announcement: Announcement) => (\n            <Card key={announcement.id} className=\"bg-white border-tech-grey/20 hover:shadow-lg transition-shadow\">\n              <CardHeader>\n                <div className=\"flex justify-between items-start\">\n                  <div className=\"flex-1\">\n                    <CardTitle className=\"text-lg font-tech text-tech-dark flex items-center gap-2\">\n                      {announcement.title}\n                      {announcement.isImportant && (\n                        <Star className=\"h-5 w-5 text-yellow-500\" />\n                      )}\n                    </CardTitle>\n                    <CardDescription className=\"font-tech text-tech-grey mt-1\">\n                      By {announcement.createdBy}\n                    </CardDescription>\n                  </div>\n                  <Badge \n                    variant={announcement.isImportant ? \"default\" : \"secondary\"}\n                    className=\"ml-2 font-tech\"\n                  >\n                    {announcement.isImportant ? \"Important\" : \"Regular\"}\n                  </Badge>\n                </div>\n              </CardHeader>\n              \n              <CardContent className=\"space-y-4\">\n                <div className=\"text-sm text-tech-dark font-tech line-clamp-3\">\n                  {announcement.content}\n                </div>\n                \n                <div className=\"flex items-center gap-2 text-sm text-tech-grey font-tech\">\n                  <Calendar className=\"h-4 w-4\" />\n                  {formatDate(announcement.createdAt)}\n                </div>\n                \n                <div className=\"flex gap-2\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => handleEdit(announcement)}\n                    className=\"flex-1 font-tech\"\n                  >\n                    <Edit className=\"h-4 w-4 mr-2\" />\n                    Edit\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => handleDelete(announcement.id)}\n                    className=\"text-red-600 hover:text-red-700 font-tech\"\n                    disabled={deleteAnnouncementMutation.isPending}\n                  >\n                    <Trash2 className=\"h-4 w-4 mr-2\" />\n                    Delete\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n\n      {announcements.length === 0 && !isLoading && (\n        <Card className=\"bg-white border-tech-grey/20\">\n          <CardContent className=\"text-center py-12\">\n            <MessageSquare className=\"h-12 w-12 text-tech-grey mx-auto mb-4\" />\n            <h3 className=\"text-lg font-semibold text-tech-dark font-tech mb-2\">No announcements yet</h3>\n            <p className=\"text-tech-grey font-tech\">Create your first announcement to keep the community informed</p>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}\n","size_bytes":12003},"client/src/pages/admin/community-management.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { \n  Plus, \n  Edit, \n  Trash2, \n  Vote, \n  MessageSquare, \n  BookOpen,\n  ExternalLink,\n  Image as ImageIcon\n} from \"lucide-react\";\n\ninterface Poll {\n  id: string;\n  title: string;\n  description?: string;\n  options: string[];\n  createdBy: string;\n  isActive: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\ninterface Announcement {\n  id: string;\n  title: string;\n  content: string;\n  createdBy: string;\n  isImportant: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\ninterface CourseLibrary {\n  id: string;\n  title: string;\n  description?: string;\n  imageUrl?: string;\n  courseUrl: string;\n  createdBy: string;\n  isActive: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport default function CommunityManagement() {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [activeTab, setActiveTab] = useState(\"polls\");\n  const [showCreateDialog, setShowCreateDialog] = useState(false);\n  const [editingItem, setEditingItem] = useState<any>(null);\n  const [formData, setFormData] = useState({\n    title: \"\",\n    description: \"\",\n    content: \"\",\n    options: [\"\"],\n    imageUrl: \"\",\n    courseUrl: \"\",\n    isActive: true,\n    isImportant: false,\n  });\n\n  // Fetch data\n  const { data: polls } = useQuery({\n    queryKey: [\"/api/polls\"],\n  });\n\n  const { data: announcements } = useQuery({\n    queryKey: [\"/api/announcements\"],\n  });\n\n  const { data: courseLibrary } = useQuery({\n    queryKey: [\"/api/course-library\"],\n  });\n\n  // Mutations\n  const createPollMutation = useMutation({\n    mutationFn: async (data: any) => {\n      const response = await fetch(\"/api/admin/polls\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${localStorage.getItem(\"adminToken\")}`,\n        },\n        body: JSON.stringify(data),\n      });\n      if (!response.ok) throw new Error(\"Failed to create poll\");\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/polls\"] });\n      toast({ title: \"Success\", description: \"Poll created successfully!\" });\n      setShowCreateDialog(false);\n      resetForm();\n    },\n    onError: () => {\n      toast({ title: \"Error\", description: \"Failed to create poll\", variant: \"destructive\" });\n    },\n  });\n\n  const createAnnouncementMutation = useMutation({\n    mutationFn: async (data: any) => {\n      const response = await fetch(\"/api/admin/announcements\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${localStorage.getItem(\"adminToken\")}`,\n        },\n        body: JSON.stringify(data),\n      });\n      if (!response.ok) throw new Error(\"Failed to create announcement\");\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/announcements\"] });\n      toast({ title: \"Success\", description: \"Announcement created successfully!\" });\n      setShowCreateDialog(false);\n      resetForm();\n    },\n    onError: () => {\n      toast({ title: \"Error\", description: \"Failed to create announcement\", variant: \"destructive\" });\n    },\n  });\n\n  const createCourseMutation = useMutation({\n    mutationFn: async (data: any) => {\n      const response = await fetch(\"/api/admin/course-library\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${localStorage.getItem(\"adminToken\")}`,\n        },\n        body: JSON.stringify(data),\n      });\n      if (!response.ok) throw new Error(\"Failed to create course\");\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/course-library\"] });\n      toast({ title: \"Success\", description: \"Course created successfully!\" });\n      setShowCreateDialog(false);\n      resetForm();\n    },\n    onError: () => {\n      toast({ title: \"Error\", description: \"Failed to create course\", variant: \"destructive\" });\n    },\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: async ({ type, id }: { type: string; id: string }) => {\n      const response = await fetch(`/api/admin/${type}/${id}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Authorization\": `Bearer ${localStorage.getItem(\"adminToken\")}`,\n        },\n      });\n      if (!response.ok) throw new Error(`Failed to delete ${type}`);\n      return response.json();\n    },\n    onSuccess: (_, { type }) => {\n      queryClient.invalidateQueries({ queryKey: [`/api/${type}`] });\n      toast({ title: \"Success\", description: `${type} deleted successfully!` });\n    },\n    onError: () => {\n      toast({ title: \"Error\", description: \"Failed to delete item\", variant: \"destructive\" });\n    },\n  });\n\n  const resetForm = () => {\n    setFormData({\n      title: \"\",\n      description: \"\",\n      content: \"\",\n      options: [\"\"],\n      imageUrl: \"\",\n      courseUrl: \"\",\n      isActive: true,\n      isImportant: false,\n    });\n    setEditingItem(null);\n  };\n\n  const handleCreate = () => {\n    if (activeTab === \"polls\") {\n      if (!formData.title || formData.options.length < 2) {\n        toast({ title: \"Error\", description: \"Please fill all required fields\", variant: \"destructive\" });\n        return;\n      }\n      createPollMutation.mutate({\n        title: formData.title,\n        description: formData.description,\n        options: formData.options.filter(opt => opt.trim()),\n        isActive: formData.isActive,\n      });\n    } else if (activeTab === \"announcements\") {\n      if (!formData.title || !formData.content) {\n        toast({ title: \"Error\", description: \"Please fill all required fields\", variant: \"destructive\" });\n        return;\n      }\n      createAnnouncementMutation.mutate({\n        title: formData.title,\n        content: formData.content,\n        isImportant: formData.isImportant,\n      });\n    } else if (activeTab === \"courses\") {\n      if (!formData.title || !formData.courseUrl) {\n        toast({ title: \"Error\", description: \"Please fill all required fields\", variant: \"destructive\" });\n        return;\n      }\n      createCourseMutation.mutate({\n        title: formData.title,\n        description: formData.description,\n        imageUrl: formData.imageUrl,\n        courseUrl: formData.courseUrl,\n        isActive: formData.isActive,\n      });\n    }\n  };\n\n  const addOption = () => {\n    setFormData(prev => ({\n      ...prev,\n      options: [...prev.options, \"\"]\n    }));\n  };\n\n  const removeOption = (index: number) => {\n    if (formData.options.length > 1) {\n      setFormData(prev => ({\n        ...prev,\n        options: prev.options.filter((_, i) => i !== index)\n      }));\n    }\n  };\n\n  const updateOption = (index: number, value: string) => {\n    setFormData(prev => ({\n      ...prev,\n      options: prev.options.map((opt, i) => i === index ? value : opt)\n    }));\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString(\"en-US\", {\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n    });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-tech-light pt-20\">\n      <div className=\"responsive-container py-8\">\n        {/* Header */}\n        <div className=\"text-center mb-12\">\n          <h1 className=\"font-tech text-4xl md:text-5xl font-bold text-tech-dark mb-4\">\n            Community Management\n          </h1>\n          <p className=\"text-lg text-tech-grey max-w-2xl mx-auto\">\n            Manage polls, announcements, and course library for the community.\n          </p>\n        </div>\n\n        {/* Main Content Tabs */}\n        <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\n          <TabsList className=\"grid w-full grid-cols-3 bg-white border-tech-grey/20\">\n            <TabsTrigger value=\"polls\" className=\"flex items-center space-x-2\">\n              <Vote className=\"h-4 w-4\" />\n              <span>Polls</span>\n            </TabsTrigger>\n            <TabsTrigger value=\"announcements\" className=\"flex items-center space-x-2\">\n              <MessageSquare className=\"h-4 w-4\" />\n              <span>Announcements</span>\n            </TabsTrigger>\n            <TabsTrigger value=\"courses\" className=\"flex items-center space-x-2\">\n              <BookOpen className=\"h-4 w-4\" />\n              <span>Course Library</span>\n            </TabsTrigger>\n          </TabsList>\n\n          {/* Polls Tab */}\n          <TabsContent value=\"polls\" className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n              <h2 className=\"text-2xl font-bold text-tech-dark\">Active Polls</h2>\n              <Dialog open={showCreateDialog} onOpenChange={setShowCreateDialog}>\n                <DialogTrigger asChild>\n                  <Button onClick={() => setActiveTab(\"polls\")}>\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    Create Poll\n                  </Button>\n                </DialogTrigger>\n                <DialogContent className=\"max-w-2xl\">\n                  <DialogHeader>\n                    <DialogTitle>Create New Poll</DialogTitle>\n                    <DialogDescription>\n                      Create a new poll for the community to vote on.\n                    </DialogDescription>\n                  </DialogHeader>\n                  <div className=\"space-y-4\">\n                    <div>\n                      <Label htmlFor=\"poll-title\">Poll Title *</Label>\n                      <Input\n                        id=\"poll-title\"\n                        value={formData.title}\n                        onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\n                        placeholder=\"What's your favorite programming language?\"\n                      />\n                    </div>\n                    <div>\n                      <Label htmlFor=\"poll-description\">Description</Label>\n                      <Textarea\n                        id=\"poll-description\"\n                        value={formData.description}\n                        onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                        placeholder=\"Optional description for the poll\"\n                      />\n                    </div>\n                    <div>\n                      <Label>Poll Options *</Label>\n                      <div className=\"space-y-2\">\n                        {formData.options.map((option, index) => (\n                          <div key={index} className=\"flex space-x-2\">\n                            <Input\n                              value={option}\n                              onChange={(e) => updateOption(index, e.target.value)}\n                              placeholder={`Option ${index + 1}`}\n                            />\n                            {formData.options.length > 1 && (\n                              <Button\n                                variant=\"outline\"\n                                size=\"sm\"\n                                onClick={() => removeOption(index)}\n                              >\n                                <Trash2 className=\"h-4 w-4\" />\n                              </Button>\n                            )}\n                          </div>\n                        ))}\n                        <Button variant=\"outline\" onClick={addOption}>\n                          <Plus className=\"h-4 w-4 mr-2\" />\n                          Add Option\n                        </Button>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <input\n                        type=\"checkbox\"\n                        id=\"poll-active\"\n                        checked={formData.isActive}\n                        onChange={(e) => setFormData(prev => ({ ...prev, isActive: e.target.checked }))}\n                      />\n                      <Label htmlFor=\"poll-active\">Active</Label>\n                    </div>\n                  </div>\n                  <DialogFooter>\n                    <Button variant=\"outline\" onClick={() => setShowCreateDialog(false)}>\n                      Cancel\n                    </Button>\n                    <Button onClick={handleCreate} disabled={createPollMutation.isPending}>\n                      {createPollMutation.isPending ? \"Creating...\" : \"Create Poll\"}\n                    </Button>\n                  </DialogFooter>\n                </DialogContent>\n              </Dialog>\n            </div>\n            \n            <div className=\"grid gap-6\">\n              {Array.isArray(polls) && polls.length > 0 ? (\n                polls.map((poll: Poll) => (\n                  <Card key={poll.id} className=\"bg-white border-tech-grey/20\">\n                    <CardHeader>\n                      <div className=\"flex items-start justify-between\">\n                        <div>\n                          <CardTitle className=\"text-tech-dark\">{poll.title}</CardTitle>\n                          {poll.description && (\n                            <CardDescription className=\"text-tech-grey mt-2\">\n                              {poll.description}\n                            </CardDescription>\n                          )}\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <Badge variant={poll.isActive ? \"default\" : \"secondary\"}>\n                            {poll.isActive ? \"Active\" : \"Inactive\"}\n                          </Badge>\n                          <Button variant=\"outline\" size=\"sm\">\n                            <Edit className=\"h-4 w-4\" />\n                          </Button>\n                          <Button \n                            variant=\"outline\" \n                            size=\"sm\"\n                            onClick={() => deleteMutation.mutate({ type: \"polls\", id: poll.id })}\n                          >\n                            <Trash2 className=\"h-4 w-4\" />\n                          </Button>\n                        </div>\n                      </div>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"space-y-2\">\n                        {poll.options.map((option, index) => (\n                          <div key={index} className=\"text-sm text-tech-grey\">\n                            {index + 1}. {option}\n                          </div>\n                        ))}\n                        <div className=\"text-xs text-tech-grey mt-4\">\n                          Created {formatDate(poll.createdAt)} • {poll.options.length} options\n                        </div>\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))\n              ) : (\n                <Card className=\"bg-white border-tech-grey/20\">\n                  <CardContent className=\"p-8 text-center\">\n                    <Vote className=\"h-12 w-12 text-tech-grey mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-semibold text-tech-dark mb-2\">No Polls Available</h3>\n                    <p className=\"text-tech-grey\">Create your first poll to engage the community.</p>\n                  </CardContent>\n                </Card>\n              )}\n            </div>\n          </TabsContent>\n\n          {/* Announcements Tab */}\n          <TabsContent value=\"announcements\" className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n              <h2 className=\"text-2xl font-bold text-tech-dark\">Latest Announcements</h2>\n              <Dialog open={showCreateDialog} onOpenChange={setShowCreateDialog}>\n                <DialogTrigger asChild>\n                  <Button onClick={() => setActiveTab(\"announcements\")}>\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    Post Announcement\n                  </Button>\n                </DialogTrigger>\n                <DialogContent className=\"max-w-2xl\">\n                  <DialogHeader>\n                    <DialogTitle>Create New Announcement</DialogTitle>\n                    <DialogDescription>\n                      Post a new announcement for the community.\n                    </DialogDescription>\n                  </DialogHeader>\n                  <div className=\"space-y-4\">\n                    <div>\n                      <Label htmlFor=\"announcement-title\">Title *</Label>\n                      <Input\n                        id=\"announcement-title\"\n                        value={formData.title}\n                        onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\n                        placeholder=\"Important announcement title\"\n                      />\n                    </div>\n                    <div>\n                      <Label htmlFor=\"announcement-content\">Content *</Label>\n                      <Textarea\n                        id=\"announcement-content\"\n                        value={formData.content}\n                        onChange={(e) => setFormData(prev => ({ ...prev, content: e.target.value }))}\n                        placeholder=\"Announcement content...\"\n                        rows={6}\n                      />\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <input\n                        type=\"checkbox\"\n                        id=\"announcement-important\"\n                        checked={formData.isImportant}\n                        onChange={(e) => setFormData(prev => ({ ...prev, isImportant: e.target.checked }))}\n                      />\n                      <Label htmlFor=\"announcement-important\">Mark as Important</Label>\n                    </div>\n                  </div>\n                  <DialogFooter>\n                    <Button variant=\"outline\" onClick={() => setShowCreateDialog(false)}>\n                      Cancel\n                    </Button>\n                    <Button onClick={handleCreate} disabled={createAnnouncementMutation.isPending}>\n                      {createAnnouncementMutation.isPending ? \"Posting...\" : \"Post Announcement\"}\n                    </Button>\n                  </DialogFooter>\n                </DialogContent>\n              </Dialog>\n            </div>\n            \n            <div className=\"grid gap-6\">\n              {Array.isArray(announcements) && announcements.length > 0 ? (\n                announcements.map((announcement: Announcement) => (\n                  <Card key={announcement.id} className=\"bg-white border-tech-grey/20\">\n                    <CardHeader>\n                      <div className=\"flex items-start justify-between\">\n                        <div>\n                          <CardTitle className=\"text-tech-dark flex items-center space-x-2\">\n                            {announcement.title}\n                            {announcement.isImportant && (\n                              <Badge variant=\"destructive\">Important</Badge>\n                            )}\n                          </CardTitle>\n                          <CardDescription className=\"text-tech-grey mt-2\">\n                            Posted {formatDate(announcement.createdAt)}\n                          </CardDescription>\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <Button variant=\"outline\" size=\"sm\">\n                            <Edit className=\"h-4 w-4\" />\n                          </Button>\n                          <Button \n                            variant=\"outline\" \n                            size=\"sm\"\n                            onClick={() => deleteMutation.mutate({ type: \"announcements\", id: announcement.id })}\n                          >\n                            <Trash2 className=\"h-4 w-4\" />\n                          </Button>\n                        </div>\n                      </div>\n                    </CardHeader>\n                    <CardContent>\n                      <p className=\"text-tech-dark leading-relaxed\">\n                        {announcement.content}\n                      </p>\n                    </CardContent>\n                  </Card>\n                ))\n              ) : (\n                <Card className=\"bg-white border-tech-grey/20\">\n                  <CardContent className=\"p-8 text-center\">\n                    <MessageSquare className=\"h-12 w-12 text-tech-grey mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-semibold text-tech-dark mb-2\">No Announcements</h3>\n                    <p className=\"text-tech-grey\">Post your first announcement to keep the community informed.</p>\n                  </CardContent>\n                </Card>\n              )}\n            </div>\n          </TabsContent>\n\n          {/* Course Library Tab */}\n          <TabsContent value=\"courses\" className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n              <h2 className=\"text-2xl font-bold text-tech-dark\">Course Library</h2>\n              <Dialog open={showCreateDialog} onOpenChange={setShowCreateDialog}>\n                <DialogTrigger asChild>\n                  <Button onClick={() => setActiveTab(\"courses\")}>\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    Add Course\n                  </Button>\n                </DialogTrigger>\n                <DialogContent className=\"max-w-2xl\">\n                  <DialogHeader>\n                    <DialogTitle>Add New Course</DialogTitle>\n                    <DialogDescription>\n                      Add a new course to the library with image and access URL.\n                    </DialogDescription>\n                  </DialogHeader>\n                  <div className=\"space-y-4\">\n                    <div>\n                      <Label htmlFor=\"course-title\">Course Title *</Label>\n                      <Input\n                        id=\"course-title\"\n                        value={formData.title}\n                        onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\n                        placeholder=\"Introduction to React\"\n                      />\n                    </div>\n                    <div>\n                      <Label htmlFor=\"course-description\">Description</Label>\n                      <Textarea\n                        id=\"course-description\"\n                        value={formData.description}\n                        onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                        placeholder=\"Course description...\"\n                        rows={3}\n                      />\n                    </div>\n                    <div>\n                      <Label htmlFor=\"course-image\">Image URL</Label>\n                      <Input\n                        id=\"course-image\"\n                        value={formData.imageUrl}\n                        onChange={(e) => setFormData(prev => ({ ...prev, imageUrl: e.target.value }))}\n                        placeholder=\"https://example.com/image.jpg\"\n                      />\n                    </div>\n                    <div>\n                      <Label htmlFor=\"course-url\">Course URL *</Label>\n                      <Input\n                        id=\"course-url\"\n                        value={formData.courseUrl}\n                        onChange={(e) => setFormData(prev => ({ ...prev, courseUrl: e.target.value }))}\n                        placeholder=\"https://course-platform.com/course/123\"\n                      />\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <input\n                        type=\"checkbox\"\n                        id=\"course-active\"\n                        checked={formData.isActive}\n                        onChange={(e) => setFormData(prev => ({ ...prev, isActive: e.target.checked }))}\n                      />\n                      <Label htmlFor=\"course-active\">Active</Label>\n                    </div>\n                  </div>\n                  <DialogFooter>\n                    <Button variant=\"outline\" onClick={() => setShowCreateDialog(false)}>\n                      Cancel\n                    </Button>\n                    <Button onClick={handleCreate} disabled={createCourseMutation.isPending}>\n                      {createCourseMutation.isPending ? \"Adding...\" : \"Add Course\"}\n                    </Button>\n                  </DialogFooter>\n                </DialogContent>\n              </Dialog>\n            </div>\n            \n            <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n              {Array.isArray(courseLibrary) && courseLibrary.length > 0 ? (\n                courseLibrary.map((course: CourseLibrary) => (\n                  <Card key={course.id} className=\"bg-white border-tech-grey/20\">\n                    <CardHeader className=\"pb-3\">\n                      <div className=\"aspect-video bg-gray-100 rounded-lg mb-3 flex items-center justify-center\">\n                        {course.imageUrl ? (\n                          <img \n                            src={course.imageUrl} \n                            alt={course.title}\n                            className=\"w-full h-full object-cover rounded-lg\"\n                          />\n                        ) : (\n                          <ImageIcon className=\"h-8 w-8 text-gray-400\" />\n                        )}\n                      </div>\n                      <CardTitle className=\"text-lg text-tech-dark\">{course.title}</CardTitle>\n                      {course.description && (\n                        <CardDescription className=\"text-tech-grey\">\n                          {course.description}\n                        </CardDescription>\n                      )}\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"space-y-3\">\n                        <div className=\"flex items-center justify-between text-sm text-tech-grey\">\n                          <span>Added {formatDate(course.createdAt)}</span>\n                          <Badge variant={course.isActive ? \"default\" : \"secondary\"}>\n                            {course.isActive ? \"Active\" : \"Inactive\"}\n                          </Badge>\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <Button \n                            variant=\"outline\" \n                            size=\"sm\"\n                            className=\"flex-1\"\n                            onClick={() => window.open(course.courseUrl, '_blank')}\n                          >\n                            <ExternalLink className=\"h-4 w-4 mr-2\" />\n                            View Course\n                          </Button>\n                          <Button variant=\"outline\" size=\"sm\">\n                            <Edit className=\"h-4 w-4\" />\n                          </Button>\n                          <Button \n                            variant=\"outline\" \n                            size=\"sm\"\n                            onClick={() => deleteMutation.mutate({ type: \"course-library\", id: course.id })}\n                          >\n                            <Trash2 className=\"h-4 w-4\" />\n                          </Button>\n                        </div>\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))\n              ) : (\n                <Card className=\"bg-white border-tech-grey/20 md:col-span-2 lg:col-span-3\">\n                  <CardContent className=\"p-8 text-center\">\n                    <BookOpen className=\"h-12 w-12 text-tech-grey mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-semibold text-tech-dark mb-2\">No Courses Available</h3>\n                    <p className=\"text-tech-grey\">Add your first course to start building the library.</p>\n                  </CardContent>\n                </Card>\n              )}\n            </div>\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  );\n}\n","size_bytes":28722},"client/src/pages/admin/courses.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { authenticatedRequest } from \"@/lib/api\";\nimport { \n  Plus, \n  Edit, \n  Trash2, \n  BookOpen, \n  Calendar,\n  ExternalLink,\n  Image as ImageIcon,\n  Link as LinkIcon\n} from \"lucide-react\";\n\ninterface CourseLibrary {\n  id: string;\n  title: string;\n  description?: string;\n  imageUrl?: string;\n  courseUrl: string;\n  createdBy: string;\n  isActive: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport default function AdminCourses() {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [showCreateDialog, setShowCreateDialog] = useState(false);\n  const [editingCourse, setEditingCourse] = useState<CourseLibrary | null>(null);\n  const [formData, setFormData] = useState({\n    title: \"\",\n    description: \"\",\n    imageUrl: \"\",\n    courseUrl: \"\",\n    isActive: true,\n  });\n\n  // Fetch courses\n  const { data: courses = [], isLoading } = useQuery({\n    queryKey: [\"/api/course-library\"],\n    queryFn: () => authenticatedRequest(\"/api/course-library\"),\n  });\n\n  // Create course mutation\n  const createCourseMutation = useMutation({\n    mutationFn: async (data: any) => {\n      return authenticatedRequest(\"/api/admin/course-library\", \"POST\", data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/course-library\"] });\n      toast({\n        title: \"Success\",\n        description: \"Course added successfully\",\n      });\n      setShowCreateDialog(false);\n      resetForm();\n    },\n    onError: (error: any) => {\n      const errorMessage = error?.details || error?.message || \"Failed to add course\";\n      toast({\n        title: \"Error\",\n        description: errorMessage,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Update course mutation\n  const updateCourseMutation = useMutation({\n    mutationFn: async (data: any) => {\n      return authenticatedRequest(`/api/admin/course-library/${editingCourse?.id}`, \"PATCH\", data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/course-library\"] });\n      toast({\n        title: \"Success\",\n        description: \"Course updated successfully\",\n      });\n      setEditingCourse(null);\n      \n      resetForm();\n    },\n    onError: (error: any) => {\n      const errorMessage = error?.details || error?.message || \"Failed to update course\";\n      toast({\n        title: \"Error\",\n        description: errorMessage,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Delete course mutation\n  const deleteCourseMutation = useMutation({\n    mutationFn: async (courseId: string) => {\n      return authenticatedRequest(`/api/admin/course-library/${courseId}`, \"DELETE\");\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/course-library\"] });\n      toast({\n        title: \"Success\",\n        description: \"Course deleted successfully\",\n      });\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Error\",\n        description: error.message || \"Failed to delete course\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const resetForm = () => {\n    setFormData({\n      title: \"\",\n      description: \"\",\n      imageUrl: \"\",\n      courseUrl: \"\",\n      isActive: true,\n    });\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (editingCourse) {\n      updateCourseMutation.mutate(formData);\n    } else {\n      createCourseMutation.mutate(formData);\n    }\n  };\n\n  const handleEdit = (course: CourseLibrary) => {\n    setEditingCourse(course);\n    setFormData({\n      title: course.title,\n      description: course.description || \"\",\n      imageUrl: course.imageUrl || \"\",\n      courseUrl: course.courseUrl,\n      isActive: course.isActive,\n    });\n     setShowCreateDialog(true);\n  };\n\n  const handleDelete = (courseId: string) => {\n    if (confirm(\"Are you sure you want to delete this course?\")) {\n      deleteCourseMutation.mutate(courseId);\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  return (\n    <div className=\"p-6 space-y-6 bg-tech-light min-h-screen\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-3xl font-bold font-tech text-tech-dark\">Course Library Management</h1>\n          <p className=\"text-tech-grey mt-2 font-tech\">Add and manage educational resources</p>\n        </div>\n        <Dialog open={showCreateDialog} onOpenChange={setShowCreateDialog}>\n          <DialogTrigger asChild>\n            <Button className=\"bg-tech-blue hover:bg-tech-purple text-white font-tech\">\n              <Plus className=\"h-4 w-4 mr-2\" />\n              Add Course\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-2xl\">\n            <DialogHeader>\n              <DialogTitle className=\"font-tech\">\n                {editingCourse ? \"Edit Course\" : \"Add New Course\"}\n              </DialogTitle>\n              <DialogDescription className=\"font-tech\">\n                {editingCourse ? \"Update the course details\" : \"Add a new educational resource to the library\"}\n              </DialogDescription>\n            </DialogHeader>\n            \n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div>\n                <Label htmlFor=\"title\" className=\"font-tech\">Course Title</Label>\n                <Input\n                  id=\"title\"\n                  value={formData.title}\n                  onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\n                  placeholder=\"Enter course title\"\n                  className=\"font-tech\"\n                  required\n                />\n              </div>\n              \n              <div>\n                <Label htmlFor=\"description\" className=\"font-tech\">Description</Label>\n                <Textarea\n                  id=\"description\"\n                  value={formData.description}\n                  onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                  placeholder=\"Enter course description\"\n                  className=\"font-tech\"\n                  rows={3}\n                />\n              </div>\n              \n              <div>\n                <Label htmlFor=\"imageUrl\" className=\"font-tech\">Image URL (Optional)</Label>\n                <Input\n                  id=\"imageUrl\"\n                  value={formData.imageUrl}\n                  onChange={(e) => setFormData(prev => ({ ...prev, imageUrl: e.target.value }))}\n                  placeholder=\"Enter image URL\"\n                  className=\"font-tech\"\n                />\n              </div>\n              \n              <div>\n                <Label htmlFor=\"courseUrl\" className=\"font-tech\">Course URL</Label>\n                <Input\n                  id=\"courseUrl\"\n                  value={formData.courseUrl}\n                  onChange={(e) => setFormData(prev => ({ ...prev, courseUrl: e.target.value }))}\n                  placeholder=\"Enter course URL\"\n                  className=\"font-tech\"\n                  required\n                />\n              </div>\n              \n              <div className=\"flex items-center space-x-2\">\n                <Switch\n                  id=\"isActive\"\n                  checked={formData.isActive}\n                  onCheckedChange={(checked) => setFormData(prev => ({ ...prev, isActive: checked }))}\n                />\n                <Label htmlFor=\"isActive\" className=\"font-tech\">Active</Label>\n              </div>\n              \n              <DialogFooter>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => {\n                    setShowCreateDialog(false);\n                    setEditingCourse(null);\n                    resetForm();\n                  }}\n                  className=\"font-tech\"\n                >\n                  Cancel\n                </Button>\n                <Button\n                  type=\"submit\"\n                  className=\"bg-tech-blue hover:bg-tech-purple text-white font-tech\"\n                  disabled={createCourseMutation.isPending || updateCourseMutation.isPending}\n                >\n                  {createCourseMutation.isPending || updateCourseMutation.isPending ? \"Saving...\" : \"Save Course\"}\n                </Button>\n              </DialogFooter>\n            </form>\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Courses Grid */}\n      {isLoading ? (\n        <div className=\"text-center py-12\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-tech-blue mx-auto\"></div>\n          <p className=\"text-tech-grey mt-2 font-tech\">Loading courses...</p>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {courses.map((course: CourseLibrary) => (\n            <Card key={course.id} className=\"bg-white border-tech-grey/20 hover:shadow-lg transition-shadow\">\n              <CardHeader>\n                <div className=\"flex justify-between items-start\">\n                  <div className=\"flex-1\">\n                    <CardTitle className=\"text-lg font-tech text-tech-dark\">{course.title}</CardTitle>\n                    {course.description && (\n                      <CardDescription className=\"font-tech text-tech-grey mt-1\">\n                        {course.description}\n                      </CardDescription>\n                    )}\n                  </div>\n                  <Badge \n                    variant={course.isActive ? \"default\" : \"secondary\"}\n                    className=\"ml-2 font-tech\"\n                  >\n                    {course.isActive ? \"Active\" : \"Inactive\"}\n                  </Badge>\n                </div>\n              </CardHeader>\n              \n              <CardContent className=\"space-y-4\">\n                {course.imageUrl && (\n                  <div className=\"aspect-video bg-gray-100 rounded-lg overflow-hidden\">\n                    <img \n                      src={course.imageUrl} \n                      alt={course.title}\n                      className=\"w-full h-full object-cover\"\n                      onError={(e) => {\n                        e.currentTarget.style.display = 'none';\n                      }}\n                    />\n                  </div>\n                )}\n                \n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center gap-2 text-sm text-tech-grey font-tech\">\n                    <BookOpen className=\"h-4 w-4\" />\n                    Added by {course.createdBy}\n                  </div>\n                  <div className=\"flex items-center gap-2 text-sm text-tech-grey font-tech\">\n                    <Calendar className=\"h-4 w-4\" />\n                    {formatDate(course.createdAt)}\n                  </div>\n                </div>\n                \n                <div className=\"flex gap-2\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => window.open(course.courseUrl, '_blank')}\n                    className=\"flex-1 font-tech\"\n                  >\n                    <ExternalLink className=\"h-4 w-4 mr-2\" />\n                    View Course\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => handleEdit(course)}\n                    className=\"font-tech\"\n                  >\n                    <Edit className=\"h-4 w-4 mr-2\" />\n                    Edit\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => handleDelete(course.id)}\n                    className=\"text-red-600 hover:text-red-700 font-tech\"\n                    disabled={deleteCourseMutation.isPending}\n                  >\n                    <Trash2 className=\"h-4 w-4 mr-2\" />\n                    Delete\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n\n      {courses.length === 0 && !isLoading && (\n        <Card className=\"bg-white border-tech-grey/20\">\n          <CardContent className=\"text-center py-12\">\n            <BookOpen className=\"h-12 w-12 text-tech-grey mx-auto mb-4\" />\n            <h3 className=\"text-lg font-semibold text-tech-dark font-tech mb-2\">No courses yet</h3>\n            <p className=\"text-tech-grey font-tech\">Add your first course to build the learning library</p>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}\n","size_bytes":13411},"client/src/pages/admin/dashboard.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Link } from \"wouter\";\nimport { authenticatedRequest } from \"@/lib/api\";\nimport { \n  Calendar, \n  Users, \n  Image, \n  FileText, \n  UserCheck,\n  Plus,\n  BarChart3,\n  Vote,\n  MessageSquare,\n  BookOpen\n} from \"lucide-react\";\n\nexport default function AdminDashboard() {\n  const { data: events } = useQuery({\n    queryKey: [\"/api/events\"],\n  });\n\n  const { data: registrations } = useQuery({\n    queryKey: [\"/api/admin/registrations\"],\n    queryFn: () => authenticatedRequest(\"/api/admin/registrations\"),\n  });\n\n  const { data: teamMembers } = useQuery({\n    queryKey: [\"/api/team\"],\n  });\n\n  const { data: galleryImages } = useQuery({\n    queryKey: [\"/api/gallery\"],\n  });\n\n  const { data: polls } = useQuery({\n    queryKey: [\"/api/polls\"],\n    queryFn: () => authenticatedRequest(\"/api/polls\"),\n  });\n\n  const { data: announcements } = useQuery({\n    queryKey: [\"/api/announcements\"],\n    queryFn: () => authenticatedRequest(\"/api/announcements\"),\n  });\n\n  const { data: courseLibrary } = useQuery({\n    queryKey: [\"/api/course-library\"],\n    queryFn: () => authenticatedRequest(\"/api/course-library\"),\n  });\n\n  const stats = [\n    {\n      title: \"Total Events\",\n      value: Array.isArray(events) ? events.length : 0,\n      icon: Calendar,\n      color: \"text-blue-600\",\n      bg: \"bg-blue-50\",\n    },\n    {\n      title: \"Registrations\",\n      value: Array.isArray(registrations) ? registrations.length : 0,\n      icon: UserCheck,\n      color: \"text-green-600\",\n      bg: \"bg-green-50\",\n    },\n    {\n      title: \"Team Members\",\n      value: Array.isArray(teamMembers) ? teamMembers.length : 0,\n      icon: Users,\n      color: \"text-purple-600\",\n      bg: \"bg-purple-50\",\n    },\n    {\n      title: \"Gallery Images\",\n      value: Array.isArray(galleryImages) ? galleryImages.length : 0,\n      icon: Image,\n      color: \"text-orange-600\",\n      bg: \"bg-orange-50\",\n    },\n    {\n      title: \"Active Polls\",\n      value: Array.isArray(polls) ? polls.filter((p: any) => p.isActive).length : 0,\n      icon: Vote,\n      color: \"text-indigo-600\",\n      bg: \"bg-indigo-50\",\n    },\n    {\n      title: \"Announcements\",\n      value: Array.isArray(announcements) ? announcements.length : 0,\n      icon: MessageSquare,\n      color: \"text-pink-600\",\n      bg: \"bg-pink-50\",\n    },\n    {\n      title: \"Course Library\",\n      value: Array.isArray(courseLibrary) ? courseLibrary.filter((c: any) => c.isActive).length : 0,\n      icon: BookOpen,\n      color: \"text-teal-600\",\n      bg: \"bg-teal-50\",\n    },\n  ];\n\n  const quickActions = [\n    {\n      title: \"Add Event\",\n      description: \"Create a new event\",\n      href: \"/admin/events/new\",\n      icon: Plus,\n      color: \"bg-blue-600 hover:bg-blue-700\",\n    },\n    {\n      title: \"Manage Registrations\",\n      description: \"View and manage event registrations\",\n      href: \"/admin/registrations\",\n      icon: UserCheck,\n      color: \"bg-green-600 hover:bg-green-700\",\n    },\n    {\n      title: \"Create Poll\",\n      description: \"Add new community polls\",\n      href: \"/admin/polls\",\n      icon: Vote,\n      color: \"bg-indigo-600 hover:bg-indigo-700\",\n    },\n    {\n      title: \"Post Announcement\",\n      description: \"Create community announcements\",\n      href: \"/admin/announcements\",\n      icon: MessageSquare,\n      color: \"bg-pink-600 hover:bg-pink-700\",\n    },\n    {\n      title: \"Add Course\",\n      description: \"Upload new course materials\",\n      href: \"/admin/courses\",\n      icon: BookOpen,\n      color: \"bg-teal-600 hover:bg-teal-700\",\n    },\n    {\n      title: \"Bulk User Import\",\n      description: \"Upload CSV with user data\",\n      href: \"/admin/users/bulk\",\n      icon: Users,\n      color: \"bg-amber-600 hover:bg-amber-700\",\n    },\n    {\n      title: \"Edit About Us\",\n      description: \"Update about page content\",\n      href: \"/admin/about\",\n      icon: FileText,\n      color: \"bg-purple-600 hover:bg-purple-700\",\n    },\n    {\n      title: \"Manage Gallery\",\n      description: \"Add or remove gallery images\",\n      href: \"/admin/gallery\",\n      icon: Image,\n      color: \"bg-orange-600 hover:bg-orange-700\",\n    },\n  ];\n\n  return (\n    <div className=\"p-6 space-y-8 bg-tech-light min-h-screen\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-3xl font-bold font-tech text-tech-dark\">Admin Dashboard</h1>\n          <p className=\"text-tech-grey mt-2 font-tech\">Manage your technical club content</p>\n        </div>\n      </div>\n\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-7 gap-6\">\n        {stats.map((stat) => (\n          <Card key={stat.title} className=\"bg-white border-tech-grey/20\" data-testid={`card-stat-${stat.title.toLowerCase().replace(' ', '-')}`}>\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-center space-x-3\">\n                <div className={`p-3 rounded-lg ${stat.bg}`}>\n                  <stat.icon className={`h-6 w-6 ${stat.color}`} />\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-tech-grey font-tech\">{stat.title}</p>\n                  <p className=\"text-2xl font-bold text-tech-dark font-tech\">{stat.value}</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n\n      {/* Quick Actions */}\n      <div>\n        <h2 className=\"text-xl font-semibold mb-4 text-tech-dark font-tech\">Quick Actions</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n          {quickActions.map((action) => (\n            <Link key={action.title} href={action.href}>\n              <Card className=\"h-full hover:shadow-lg transition-shadow cursor-pointer bg-white border-tech-grey/20\" data-testid={`card-action-${action.title.toLowerCase().replace(' ', '-')}`}>\n                <CardContent className=\"p-6 flex flex-col items-center text-center space-y-3\">\n                  <div className={`p-4 rounded-lg text-white ${action.color}`}>\n                    <action.icon className=\"h-8 w-8\" />\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold text-tech-dark font-tech\">{action.title}</h3>\n                    <p className=\"text-sm text-tech-grey font-tech\">{action.description}</p>\n                  </div>\n                </CardContent>\n              </Card>\n            </Link>\n          ))}\n        </div>\n      </div>\n\n      {/* Recent Activity */}\n      <Card className=\"bg-white border-tech-grey/20\">\n        <CardHeader>\n          <CardTitle className=\"text-tech-dark font-tech\">Recent Activity</CardTitle>\n          <CardDescription className=\"text-tech-grey font-tech\">Latest updates and registrations</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            {Array.isArray(registrations) && registrations.slice(0, 5).map((registration: any) => (\n              <div key={registration.id} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                <div>\n                  <p className=\"font-medium\">{registration.name}</p>\n                  <p className=\"text-sm text-muted-foreground\">Registered for event</p>\n                </div>\n                <div className=\"text-right\">\n                  <p className=\"text-sm\">{new Date(registration.createdAt).toLocaleDateString()}</p>\n                  <span className={`inline-flex px-2 py-1 text-xs rounded-full ${\n                    registration.status === 'approved' ? 'bg-green-100 text-green-800' : \n                    registration.status === 'pending' ? 'bg-yellow-100 text-yellow-800' :\n                    'bg-red-100 text-red-800'\n                  }`}>\n                    {registration.status}\n                  </span>\n                </div>\n              </div>\n            ))}\n            {(!Array.isArray(registrations) || registrations.length === 0) && (\n              <p className=\"text-muted-foreground text-center py-4\">No recent activity</p>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","size_bytes":8296},"client/src/pages/admin/events.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Plus, Edit, Trash2, Calendar, MapPin } from \"lucide-react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\n\nconst eventSchema = z.object({\n  title: z.string().min(1, \"Title is required\"),\n  description: z.string().min(1, \"Description is required\"),\n  date: z.string().min(1, \"Date is required\"),\n  location: z.string().min(1, \"Location is required\"),\n  imageUrl: z.string().optional(),\n  tags: z.string().optional(),\n  featured: z.boolean().optional(),\n});\n\ntype EventFormData = z.infer<typeof eventSchema>;\n\nexport default function AdminEvents() {\n  const [isOpen, setIsOpen] = useState(false);\n  const [editingEvent, setEditingEvent] = useState<any>(null);\n  const { toast } = useToast();\n\n  const { data: events, isLoading } = useQuery({\n    queryKey: [\"/api/events\"],\n  });\n\n  const form = useForm<EventFormData>({\n    resolver: zodResolver(eventSchema),\n    defaultValues: {\n      title: \"\",\n      description: \"\",\n      date: \"\",\n      location: \"\",\n      imageUrl: \"\",\n      tags: \"\",\n      featured: false,\n    },\n  });\n\n  const createMutation = useMutation({\n    mutationFn: async (data: EventFormData) => {\n      const eventData = {\n        ...data,\n        date: new Date(data.date).toISOString(),\n        tags: data.tags ? data.tags.split(\",\").map(tag => tag.trim()) : [],\n        featured: data.featured ? 1 : 0,\n      };\n      return await apiRequest(\"/api/events\", \"POST\", eventData);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/events\"] });\n      setIsOpen(false);\n      setEditingEvent(null);\n      form.reset();\n      toast({\n        title: \"Success\",\n        description: \"Event created successfully\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const updateMutation = useMutation({\n    mutationFn: async (data: EventFormData) => {\n      const eventData = {\n        ...data,\n        date: new Date(data.date).toISOString(),\n        tags: data.tags ? data.tags.split(\",\").map(tag => tag.trim()) : [],\n        featured: data.featured ? 1 : 0,\n      };\n      return await apiRequest(`/api/events/${editingEvent.id}`, \"PATCH\", eventData);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/events\"] });\n      setIsOpen(false);\n      setEditingEvent(null);\n      form.reset();\n      toast({\n        title: \"Success\",\n        description: \"Event updated successfully\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return await apiRequest(`/api/events/${id}`, \"DELETE\");\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/events\"] });\n      toast({\n        title: \"Success\",\n        description: \"Event deleted successfully\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleEdit = (event: any) => {\n    setEditingEvent(event);\n    form.reset({\n      title: event.title,\n      description: event.description,\n      date: new Date(event.date).toISOString().split('T')[0],\n      location: event.location,\n      imageUrl: event.imageUrl || \"\",\n      tags: event.tags ? event.tags.join(\", \") : \"\",\n      featured: event.featured === 1,\n    });\n    setIsOpen(true);\n  };\n\n  const handleDelete = (id: string) => {\n    if (confirm(\"Are you sure you want to delete this event?\")) {\n      deleteMutation.mutate(id);\n    }\n  };\n\n  const onSubmit = (data: EventFormData) => {\n    if (editingEvent) {\n      updateMutation.mutate(data);\n    } else {\n      createMutation.mutate(data);\n    }\n  };\n\n  const handleDialogClose = () => {\n    setIsOpen(false);\n    setEditingEvent(null);\n    form.reset();\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"p-6 bg-tech-light min-h-screen\">\n        <div className=\"animate-pulse\">\n          <div className=\"h-8 bg-tech-grey/20 rounded w-1/4 mb-6\"></div>\n          <div className=\"grid gap-4\">\n            {[...Array(3)].map((_, i) => (\n              <div key={i} className=\"h-32 bg-tech-grey/20 rounded\"></div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6 space-y-6 bg-tech-light min-h-screen\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-3xl font-bold font-tech text-tech-dark\">Events Management</h1>\n          <p className=\"text-tech-grey mt-2 font-tech\">Create and manage club events</p>\n        </div>\n        <Dialog open={isOpen} onOpenChange={setIsOpen}>\n          <DialogTrigger asChild>\n            <Button className=\"bg-tech-blue hover:bg-tech-purple text-white font-tech\" data-testid=\"button-add-event\">\n              <Plus className=\"h-4 w-4 mr-2\" />\n              Add Event\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-md bg-white\">\n            <DialogHeader>\n              <DialogTitle className=\"text-tech-dark font-tech\">\n                {editingEvent ? \"Edit Event\" : \"Add New Event\"}\n              </DialogTitle>\n              <DialogDescription className=\"text-tech-grey font-tech\">\n                {editingEvent ? \"Update event details\" : \"Create a new event for your club\"}\n              </DialogDescription>\n            </DialogHeader>\n            <Form {...form}>\n              <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n                <FormField\n                  control={form.control}\n                  name=\"title\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-tech-dark font-tech\">Title</FormLabel>\n                      <FormControl>\n                        <Input \n                          placeholder=\"Event title\" \n                          className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                          {...field} \n                          data-testid=\"input-event-title\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                \n                <FormField\n                  control={form.control}\n                  name=\"description\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-tech-dark font-tech\">Description</FormLabel>\n                      <FormControl>\n                        <Textarea \n                          placeholder=\"Event description\" \n                          className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                          {...field} \n                          data-testid=\"input-event-description\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                \n                <FormField\n                  control={form.control}\n                  name=\"date\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-tech-dark font-tech\">Date</FormLabel>\n                      <FormControl>\n                        <Input \n                          type=\"date\" \n                          className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                          {...field} \n                          data-testid=\"input-event-date\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                \n                <FormField\n                  control={form.control}\n                  name=\"location\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-tech-dark font-tech\">Location</FormLabel>\n                      <FormControl>\n                        <Input \n                          placeholder=\"Event location\" \n                          className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                          {...field} \n                          data-testid=\"input-event-location\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                \n                <FormField\n                  control={form.control}\n                  name=\"imageUrl\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-tech-dark font-tech\">Image URL (Optional)</FormLabel>\n                      <FormControl>\n                        <Input \n                          placeholder=\"https://example.com/image.jpg\" \n                          className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                          {...field} \n                          data-testid=\"input-event-image\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                \n                <FormField\n                  control={form.control}\n                  name=\"tags\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-tech-dark font-tech\">Tags (Optional)</FormLabel>\n                      <FormControl>\n                        <Input \n                          placeholder=\"workshop, tech, ai (comma separated)\" \n                          className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                          {...field} \n                          data-testid=\"input-event-tags\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <DialogFooter>\n                  <Button \n                    type=\"button\" \n                    variant=\"outline\" \n                    onClick={handleDialogClose}\n                    className=\"font-tech\"\n                    data-testid=\"button-cancel\"\n                  >\n                    Cancel\n                  </Button>\n                  <Button \n                    type=\"submit\" \n                    disabled={createMutation.isPending || updateMutation.isPending}\n                    className=\"bg-tech-blue hover:bg-tech-purple text-white font-tech\"\n                    data-testid=\"button-save-event\"\n                  >\n                    {createMutation.isPending || updateMutation.isPending \n                      ? \"Saving...\" \n                      : editingEvent \n                        ? \"Update\" \n                        : \"Create\"\n                    }\n                  </Button>\n                </DialogFooter>\n              </form>\n            </Form>\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      <div className=\"grid gap-6\">\n        {Array.isArray(events) && events.length > 0 ? (\n          events.map((event: any) => (\n            <Card key={event.id} className=\"bg-white border-tech-grey/20\" data-testid={`card-event-${event.id}`}>\n              <CardHeader>\n                <div className=\"flex justify-between items-start\">\n                  <div className=\"flex-1\">\n                    <CardTitle className=\"text-tech-dark font-tech\">{event.title}</CardTitle>\n                    <div className=\"flex items-center space-x-4 text-sm text-tech-grey mt-2 font-tech\">\n                      <div className=\"flex items-center\">\n                        <Calendar className=\"h-4 w-4 mr-1\" />\n                        {new Date(event.date).toLocaleDateString()}\n                      </div>\n                      <div className=\"flex items-center\">\n                        <MapPin className=\"h-4 w-4 mr-1\" />\n                        {event.location}\n                      </div>\n                      {event.featured === 1 && (\n                        <Badge variant=\"secondary\" className=\"bg-tech-blue/10 text-tech-blue\">\n                          Featured\n                        </Badge>\n                      )}\n                    </div>\n                  </div>\n                  <div className=\"flex space-x-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => handleEdit(event)}\n                      className=\"font-tech\"\n                      data-testid={`button-edit-${event.id}`}\n                    >\n                      <Edit className=\"h-4 w-4\" />\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => handleDelete(event.id)}\n                      className=\"text-red-600 hover:text-red-700 font-tech\"\n                      data-testid={`button-delete-${event.id}`}\n                    >\n                      <Trash2 className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n              </CardHeader>\n              <CardContent>\n                <p className=\"text-tech-grey mb-4 font-tech\">{event.description}</p>\n                {event.tags && event.tags.length > 0 && (\n                  <div className=\"flex flex-wrap gap-2\">\n                    {event.tags.map((tag: string, index: number) => (\n                      <Badge key={index} variant=\"outline\" className=\"font-tech\">\n                        {tag}\n                      </Badge>\n                    ))}\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          ))\n        ) : (\n          <Card className=\"bg-white border-tech-grey/20\">\n            <CardContent className=\"p-8 text-center\">\n              <p className=\"text-tech-grey font-tech\">No events found. Create your first event!</p>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n    </div>\n  );\n}","size_bytes":15278},"client/src/pages/admin/gallery.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Plus, Edit, Trash2, Image as ImageIcon } from \"lucide-react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\n\nconst galleryImageSchema = z.object({\n  title: z.string().min(1, \"Title is required\"),\n  imageUrl: z.string().min(1, \"Image URL is required\"),\n  description: z.string().optional(),\n});\n\ntype GalleryImageFormData = z.infer<typeof galleryImageSchema>;\n\nexport default function AdminGallery() {\n  const [isOpen, setIsOpen] = useState(false);\n  const [editingImage, setEditingImage] = useState<any>(null);\n  const { toast } = useToast();\n\n  const { data: galleryImages, isLoading } = useQuery({\n    queryKey: [\"/api/gallery\"],\n  });\n\n  const form = useForm<GalleryImageFormData>({\n    resolver: zodResolver(galleryImageSchema),\n    defaultValues: {\n      title: \"\",\n      imageUrl: \"\",\n      description: \"\",\n    },\n  });\n\n  const createMutation = useMutation({\n    mutationFn: async (data: GalleryImageFormData) => {\n      return await apiRequest(\"/api/gallery\", \"POST\", data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/gallery\"] });\n      setIsOpen(false);\n      setEditingImage(null);\n      form.reset();\n      toast({\n        title: \"Success\",\n        description: \"Image added to gallery successfully\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const updateMutation = useMutation({\n    mutationFn: async (data: GalleryImageFormData) => {\n      return await apiRequest(`/api/gallery/${editingImage.id}`, \"PATCH\", data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/gallery\"] });\n      setIsOpen(false);\n      setEditingImage(null);\n      form.reset();\n      toast({\n        title: \"Success\",\n        description: \"Gallery image updated successfully\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return await apiRequest(`/api/gallery/${id}`, \"DELETE\");\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/gallery\"] });\n      toast({\n        title: \"Success\",\n        description: \"Image removed from gallery successfully\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleEdit = (image: any) => {\n    setEditingImage(image);\n    form.reset({\n      title: image.title,\n      imageUrl: image.imageUrl,\n      description: image.description || \"\",\n    });\n    setIsOpen(true);\n  };\n\n  const handleDelete = (id: string) => {\n    if (confirm(\"Are you sure you want to remove this image from the gallery?\")) {\n      deleteMutation.mutate(id);\n    }\n  };\n\n  const onSubmit = (data: GalleryImageFormData) => {\n    if (editingImage) {\n      updateMutation.mutate(data);\n    } else {\n      createMutation.mutate(data);\n    }\n  };\n\n  const handleDialogClose = () => {\n    setIsOpen(false);\n    setEditingImage(null);\n    form.reset();\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"p-6 bg-tech-light min-h-screen\">\n        <div className=\"animate-pulse\">\n          <div className=\"h-8 bg-tech-grey/20 rounded w-1/4 mb-6\"></div>\n          <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n            {[...Array(6)].map((_, i) => (\n              <div key={i} className=\"h-64 bg-tech-grey/20 rounded\"></div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6 space-y-6 bg-tech-light min-h-screen\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-3xl font-bold font-tech text-tech-dark\">Gallery Management</h1>\n          <p className=\"text-tech-grey mt-2 font-tech\">Manage club gallery images</p>\n        </div>\n        <Dialog open={isOpen} onOpenChange={setIsOpen}>\n          <DialogTrigger asChild>\n            <Button className=\"bg-tech-blue hover:bg-tech-purple text-white font-tech\" data-testid=\"button-add-image\">\n              <Plus className=\"h-4 w-4 mr-2\" />\n              Add Image\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-md bg-white\">\n            <DialogHeader>\n              <DialogTitle className=\"text-tech-dark font-tech\">\n                {editingImage ? \"Edit Gallery Image\" : \"Add New Image\"}\n              </DialogTitle>\n              <DialogDescription className=\"text-tech-grey font-tech\">\n                {editingImage ? \"Update image details\" : \"Add a new image to the gallery\"}\n              </DialogDescription>\n            </DialogHeader>\n            <Form {...form}>\n              <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n                <FormField\n                  control={form.control}\n                  name=\"title\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-tech-dark font-tech\">Title</FormLabel>\n                      <FormControl>\n                        <Input \n                          placeholder=\"Image title\" \n                          className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                          {...field} \n                          data-testid=\"input-image-title\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                \n                <FormField\n                  control={form.control}\n                  name=\"imageUrl\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-tech-dark font-tech\">Image URL</FormLabel>\n                      <FormControl>\n                        <Input \n                          placeholder=\"https://example.com/image.jpg\" \n                          className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                          {...field} \n                          data-testid=\"input-image-url\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                \n                <FormField\n                  control={form.control}\n                  name=\"description\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-tech-dark font-tech\">Description (Optional)</FormLabel>\n                      <FormControl>\n                        <Textarea \n                          placeholder=\"Brief description of the image\" \n                          className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                          {...field} \n                          data-testid=\"input-image-description\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <DialogFooter>\n                  <Button \n                    type=\"button\" \n                    variant=\"outline\" \n                    onClick={handleDialogClose}\n                    className=\"font-tech\"\n                    data-testid=\"button-cancel\"\n                  >\n                    Cancel\n                  </Button>\n                  <Button \n                    type=\"submit\" \n                    disabled={createMutation.isPending || updateMutation.isPending}\n                    className=\"bg-tech-blue hover:bg-tech-purple text-white font-tech\"\n                    data-testid=\"button-save-image\"\n                  >\n                    {createMutation.isPending || updateMutation.isPending \n                      ? \"Saving...\" \n                      : editingImage \n                        ? \"Update\" \n                        : \"Add\"\n                    }\n                  </Button>\n                </DialogFooter>\n              </form>\n            </Form>\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n        {Array.isArray(galleryImages) && galleryImages.length > 0 ? (\n          galleryImages.map((image: any) => (\n            <Card key={image.id} className=\"bg-white border-tech-grey/20 overflow-hidden\" data-testid={`card-image-${image.id}`}>\n              <div className=\"aspect-video relative\">\n                <img \n                  src={image.imageUrl} \n                  alt={image.title}\n                  className=\"w-full h-full object-cover\"\n                  onError={(e) => {\n                    const target = e.target as HTMLImageElement;\n                    target.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2Y3ZjhmOSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5Y2EzYWYiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5JbWFnZSBub3QgZm91bmQ8L3RleHQ+PC9zdmc+';\n                  }}\n                />\n              </div>\n              <CardHeader>\n                <CardTitle className=\"text-tech-dark font-tech\">{image.title}</CardTitle>\n                {image.description && (\n                  <p className=\"text-tech-grey text-sm font-tech\">{image.description}</p>\n                )}\n              </CardHeader>\n              <CardContent className=\"pt-0\">\n                <div className=\"flex justify-end space-x-2\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => handleEdit(image)}\n                    className=\"font-tech\"\n                    data-testid={`button-edit-${image.id}`}\n                  >\n                    <Edit className=\"h-4 w-4 mr-1\" />\n                    Edit\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => handleDelete(image.id)}\n                    className=\"text-red-600 hover:text-red-700 font-tech\"\n                    data-testid={`button-delete-${image.id}`}\n                  >\n                    <Trash2 className=\"h-4 w-4 mr-1\" />\n                    Remove\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          ))\n        ) : (\n          <div className=\"col-span-full\">\n            <Card className=\"bg-white border-tech-grey/20\">\n              <CardContent className=\"p-8 text-center\">\n                <ImageIcon className=\"h-12 w-12 text-tech-grey mx-auto mb-4\" />\n                <p className=\"text-tech-grey font-tech\">No images found. Add your first image to the gallery!</p>\n              </CardContent>\n            </Card>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}","size_bytes":11994},"client/src/pages/admin/login.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useLocation } from \"wouter\";\nimport { adminLogin } from \"@/lib/api\";\nimport { Shield, Lock, User, Eye, EyeOff } from \"lucide-react\";\n\nconst loginSchema = z.object({\n  username: z.string().min(1, \"Username is required\"),\n  password: z.string().min(1, \"Password is required\"),\n});\n\ntype LoginForm = z.infer<typeof loginSchema>;\n\nexport default function AdminLogin() {\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  const [isLoading, setIsLoading] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const form = useForm<LoginForm>({\n    resolver: zodResolver(loginSchema),\n    defaultValues: {\n      username: \"\",\n      password: \"\",\n    },\n  });\n\n  const handleLogin = async (data: LoginForm) => {\n    setIsLoading(true);\n    setError(\"\");\n    \n    try {\n      await adminLogin(data.username, data.password);\n      toast({\n        title: \"Welcome back!\",\n        description: \"Successfully logged into admin panel\",\n      });\n      setLocation(\"/admin/dashboard\");\n    } catch (error: any) {\n      const errorMessage = error?.message || \"Invalid credentials. Please try again.\";\n      setError(errorMessage);\n      toast({\n        title: \"Login failed\",\n        description: errorMessage,\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-tech-light via-blue-50 to-purple-50 p-4\">\n      <div className=\"w-full max-w-md\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <div className=\"flex justify-center mb-4\">\n            <div className=\"p-3 bg-tech-blue rounded-full\">\n              <Shield className=\"h-8 w-8 text-white\" />\n            </div>\n          </div>\n          <h1 className=\"text-3xl font-bold text-tech-dark font-tech mb-2\">\n            Admin Portal\n          </h1>\n          <p className=\"text-tech-grey font-tech\">\n            Access the technical club management system\n          </p>\n        </div>\n\n        {/* Login Card */}\n        <Card className=\"w-full bg-white/80 backdrop-blur-sm border-tech-grey/20 shadow-xl\">\n          <CardHeader className=\"text-center pb-4\">\n            <CardTitle className=\"text-xl font-semibold text-tech-dark font-tech\">\n              Sign In\n            </CardTitle>\n            <CardDescription className=\"text-tech-grey font-tech\">\n              Enter your credentials to continue\n            </CardDescription>\n          </CardHeader>\n          \n          <CardContent className=\"space-y-6\">\n            {error && (\n              <div className=\"p-3 bg-red-50 border border-red-200 rounded-lg\">\n                <p className=\"text-sm text-red-600 font-medium\">{error}</p>\n              </div>\n            )}\n\n            <Form {...form}>\n              <form onSubmit={form.handleSubmit(handleLogin)} className=\"space-y-4\">\n                <FormField\n                  control={form.control}\n                  name=\"username\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-tech-dark font-tech flex items-center gap-2\">\n                        <User className=\"h-4 w-4\" />\n                        Username\n                      </FormLabel>\n                      <FormControl>\n                        <Input \n                          placeholder=\"Enter your username\" \n                          className=\"border-tech-grey/30 focus:border-tech-blue font-tech h-11\"\n                          {...field} \n                          data-testid=\"input-username\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                \n                <FormField\n                  control={form.control}\n                  name=\"password\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-tech-dark font-tech flex items-center gap-2\">\n                        <Lock className=\"h-4 w-4\" />\n                        Password\n                      </FormLabel>\n                      <FormControl>\n                        <div className=\"relative\">\n                          <Input \n                            type={showPassword ? \"text\" : \"password\"}\n                            placeholder=\"Enter your password\" \n                            className=\"border-tech-grey/30 focus:border-tech-blue font-tech h-11 pr-10\"\n                            {...field} \n                            data-testid=\"input-password\"\n                          />\n                          <button\n                            type=\"button\"\n                            onClick={() => setShowPassword(!showPassword)}\n                            className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-tech-grey hover:text-tech-dark\"\n                          >\n                            {showPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n                          </button>\n                        </div>\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                \n                <Button \n                  type=\"submit\" \n                  className=\"w-full bg-gradient-to-r from-tech-blue to-tech-purple hover:from-tech-purple hover:to-tech-blue text-white font-tech h-11 text-base font-semibold transition-all duration-200 transform hover:scale-[1.02]\" \n                  disabled={isLoading}\n                  data-testid=\"button-login\"\n                >\n                  {isLoading ? (\n                    <div className=\"flex items-center gap-2\">\n                      <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n                      Signing in...\n                    </div>\n                  ) : (\n                    \"Sign In\"\n                  )}\n                </Button>\n              </form>\n            </Form>\n\n            {/* Footer */}\n            <div className=\"text-center pt-4 border-t border-tech-grey/20\">\n              <p className=\"text-xs text-tech-grey font-tech\">\n                Secure access to administrative functions\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Back to home */}\n        <div className=\"text-center mt-6\">\n          <button\n            onClick={() => setLocation(\"/\")}\n            className=\"text-tech-grey hover:text-tech-blue font-tech text-sm transition-colors\"\n          >\n            ← Back to home\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":7342},"client/src/pages/admin/polls.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { authenticatedRequest } from \"@/lib/api\";\nimport { \n  Plus, \n  Edit, \n  Trash2, \n  Vote, \n  Calendar,\n  Users,\n  BarChart3\n} from \"lucide-react\";\n\ninterface Poll {\n  id: string;\n  title: string;\n  description?: string;\n  options: string[];\n  createdBy: string;\n  isActive: boolean;\n  createdAt: string;\n  updatedAt: string;\n  totalVotes?: number;\n}\n\nexport default function AdminPolls() {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [showCreateDialog, setShowCreateDialog] = useState(false);\n  const [editingPoll, setEditingPoll] = useState<Poll | null>(null);\n  const [formData, setFormData] = useState({\n    title: \"\",\n    description: \"\",\n    options: [\"\"],\n  });\n\n  // Fetch polls\n  const { data: polls = [], isLoading } = useQuery({\n    queryKey: [\"/api/polls\"],\n    queryFn: () => authenticatedRequest(\"/api/polls\"),\n  });\n\n  // Create poll mutation\n  const createPollMutation = useMutation({\n    mutationFn: async (data: any) => {\n      return authenticatedRequest(\"/api/admin/polls\", \"POST\", data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/polls\"] });\n      toast({\n        title: \"Success\",\n        description: \"Poll created successfully\",\n      });\n      setShowCreateDialog(false);\n      resetForm();\n    },\n    onError: (error: any) => {\n      const errorMessage = error?.details || error?.message || \"Failed to create poll\";\n      toast({\n        title: \"Error\",\n        description: errorMessage,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Update poll mutation\n  const updatePollMutation = useMutation({\n    mutationFn: async (data: any) => {\n      return authenticatedRequest(`/api/admin/polls/${editingPoll?.id}`, \"PATCH\", data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/polls\"] });\n      toast({\n        title: \"Success\",\n        description: \"Poll updated successfully\",\n      });\n      setEditingPoll(null);\n      resetForm();\n    },\n    onError: (error: any) => {\n      const errorMessage = error?.details || error?.message || \"Failed to update poll\";\n      toast({\n        title: \"Error\",\n        description: errorMessage,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Delete poll mutation\n  const deletePollMutation = useMutation({\n    mutationFn: async (pollId: string) => {\n      return authenticatedRequest(`/api/admin/polls/${pollId}`, \"DELETE\");\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/polls\"] });\n      toast({\n        title: \"Success\",\n        description: \"Poll deleted successfully\",\n      });\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Error\",\n        description: error.message || \"Failed to delete poll\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const resetForm = () => {\n    setFormData({\n      title: \"\",\n      description: \"\",\n      options: [\"\"],\n    });\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (formData.options.length < 2) {\n      toast({\n        title: \"Error\",\n        description: \"Poll must have at least 2 options\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (editingPoll) {\n      updatePollMutation.mutate(formData);\n    } else {\n      createPollMutation.mutate(formData);\n    }\n  };\n\n  const handleEdit = (poll: Poll) => {\n    setEditingPoll(poll);\n    setFormData({\n      title: poll.title,\n      description: poll.description || \"\",\n      options: poll.options,\n    });\n  };\n\n  const addOption = () => {\n    setFormData(prev => ({\n      ...prev,\n      options: [...prev.options, \"\"],\n    }));\n  };\n\n  const removeOption = (index: number) => {\n    if (formData.options.length > 2) {\n      setFormData(prev => ({\n        ...prev,\n        options: prev.options.filter((_, i) => i !== index),\n      }));\n    }\n  };\n\n  const updateOption = (index: number, value: string) => {\n    setFormData(prev => ({\n      ...prev,\n      options: prev.options.map((option, i) => i === index ? value : option),\n    }));\n  };\n\n  const handleDelete = (pollId: string) => {\n    if (confirm(\"Are you sure you want to delete this poll?\")) {\n      deletePollMutation.mutate(pollId);\n    }\n  };\n\n  return (\n    <div className=\"p-6 space-y-6 bg-tech-light min-h-screen\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-3xl font-bold font-tech text-tech-dark\">Poll Management</h1>\n          <p className=\"text-tech-grey mt-2 font-tech\">Create and manage community polls</p>\n        </div>\n        <Dialog open={showCreateDialog} onOpenChange={setShowCreateDialog}>\n          <DialogTrigger asChild>\n            <Button className=\"bg-tech-blue hover:bg-tech-purple text-white font-tech\">\n              <Plus className=\"h-4 w-4 mr-2\" />\n              Create Poll\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-2xl\">\n            <DialogHeader>\n              <DialogTitle className=\"font-tech\">\n                {editingPoll ? \"Edit Poll\" : \"Create New Poll\"}\n              </DialogTitle>\n              <DialogDescription className=\"font-tech\">\n                {editingPoll ? \"Update the poll details\" : \"Add a new poll for the community\"}\n              </DialogDescription>\n            </DialogHeader>\n            \n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div>\n                <Label htmlFor=\"title\" className=\"font-tech\">Poll Title</Label>\n                <Input\n                  id=\"title\"\n                  value={formData.title}\n                  onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\n                  placeholder=\"Enter poll title\"\n                  className=\"font-tech\"\n                  required\n                />\n              </div>\n              \n              <div>\n                <Label htmlFor=\"description\" className=\"font-tech\">Description (Optional)</Label>\n                <Textarea\n                  id=\"description\"\n                  value={formData.description}\n                  onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                  placeholder=\"Enter poll description\"\n                  className=\"font-tech\"\n                  rows={3}\n                />\n              </div>\n              \n              <div>\n                <Label className=\"font-tech\">Poll Options</Label>\n                <div className=\"space-y-2\">\n                  {formData.options.map((option, index) => (\n                    <div key={index} className=\"flex gap-2\">\n                      <Input\n                        value={option}\n                        onChange={(e) => updateOption(index, e.target.value)}\n                        placeholder={`Option ${index + 1}`}\n                        className=\"font-tech\"\n                        required\n                      />\n                      {formData.options.length > 2 && (\n                        <Button\n                          type=\"button\"\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => removeOption(index)}\n                          className=\"text-red-600 hover:text-red-700\"\n                        >\n                          <Trash2 className=\"h-4 w-4\" />\n                        </Button>\n                      )}\n                    </div>\n                  ))}\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    onClick={addOption}\n                    className=\"w-full font-tech\"\n                  >\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    Add Option\n                  </Button>\n                </div>\n              </div>\n              \n              <DialogFooter>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => {\n                    setShowCreateDialog(false);\n                    setEditingPoll(null);\n                    resetForm();\n                  }}\n                  className=\"font-tech\"\n                >\n                  Cancel\n                </Button>\n                <Button\n                  type=\"submit\"\n                  className=\"bg-tech-blue hover:bg-tech-purple text-white font-tech\"\n                  disabled={createPollMutation.isPending || updatePollMutation.isPending}\n                >\n                  {createPollMutation.isPending || updatePollMutation.isPending ? \"Saving...\" : \"Save Poll\"}\n                </Button>\n              </DialogFooter>\n            </form>\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Polls Grid */}\n      {isLoading ? (\n        <div className=\"text-center py-12\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-tech-blue mx-auto\"></div>\n          <p className=\"text-tech-grey mt-2 font-tech\">Loading polls...</p>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {polls.map((poll: Poll) => (\n            <Card key={poll.id} className=\"bg-white border-tech-grey/20 hover:shadow-lg transition-shadow\">\n              <CardHeader>\n                <div className=\"flex justify-between items-start\">\n                  <div className=\"flex-1\">\n                    <CardTitle className=\"text-lg font-tech text-tech-dark\">{poll.title}</CardTitle>\n                    {poll.description && (\n                      <CardDescription className=\"font-tech text-tech-grey mt-1\">\n                        {poll.description}\n                      </CardDescription>\n                    )}\n                  </div>\n                  <Badge \n                    variant={poll.isActive ? \"default\" : \"secondary\"}\n                    className=\"ml-2 font-tech\"\n                  >\n                    {poll.isActive ? \"Active\" : \"Inactive\"}\n                  </Badge>\n                </div>\n              </CardHeader>\n              \n              <CardContent className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center gap-2 text-sm text-tech-grey font-tech\">\n                    <Vote className=\"h-4 w-4\" />\n                    {poll.options.length} options\n                  </div>\n                  <div className=\"flex items-center gap-2 text-sm text-tech-grey font-tech\">\n                    <Users className=\"h-4 w-4\" />\n                    {poll.totalVotes || 0} votes\n                  </div>\n                  <div className=\"flex items-center gap-2 text-sm text-tech-grey font-tech\">\n                    <Calendar className=\"h-4 w-4\" />\n                    {new Date(poll.createdAt).toLocaleDateString()}\n                  </div>\n                </div>\n                \n                <div className=\"flex gap-2\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => handleEdit(poll)}\n                    className=\"flex-1 font-tech\"\n                  >\n                    <Edit className=\"h-4 w-4 mr-2\" />\n                    Edit\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => handleDelete(poll.id)}\n                    className=\"text-red-600 hover:text-red-700 font-tech\"\n                    disabled={deletePollMutation.isPending}\n                  >\n                    <Trash2 className=\"h-4 w-4 mr-2\" />\n                    Delete\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n\n      {polls.length === 0 && !isLoading && (\n        <Card className=\"bg-white border-tech-grey/20\">\n          <CardContent className=\"text-center py-12\">\n            <Vote className=\"h-12 w-12 text-tech-grey mx-auto mb-4\" />\n            <h3 className=\"text-lg font-semibold text-tech-dark font-tech mb-2\">No polls yet</h3>\n            <p className=\"text-tech-grey font-tech\">Create your first poll to engage the community</p>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}\n","size_bytes":12932},"client/src/pages/admin/registrations.tsx":{"content":"import { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { UserCheck, Mail, Phone, Calendar, User, Download } from \"lucide-react\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\n\nexport default function AdminRegistrations() {\n  const { toast } = useToast();\n\n  const { data: registrations, isLoading } = useQuery({\n    queryKey: [\"/api/admin/registrations\"],\n  });\n\n  const { data: events } = useQuery({\n    queryKey: [\"/api/events\"],\n  });\n\n  const { data: techfestEvents } = useQuery({\n    queryKey: [\"/api/technofest\"],\n  });\n\n  const updateStatusMutation = useMutation({\n    mutationFn: async ({ id, status }: { id: string; status: string }) => {\n      return await apiRequest(`/api/admin/registrations/${id}/status`, \"PATCH\", { status });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/registrations\"] });\n      toast({\n        title: \"Success\",\n        description: \"Registration status updated successfully\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const getEventTitle = (eventId: string, eventType?: string) => {\n    if (eventType === 'TechFest') {\n      if (!Array.isArray(techfestEvents)) return \"Unknown TechFest Event\";\n      const event = techfestEvents.find((e: any) => e.id === eventId);\n      return event ? `${event.name} (TechFest)` : \"Unknown TechFest Event\";\n    } else {\n      if (!Array.isArray(events)) return \"Unknown Event\";\n      const event = events.find((e: any) => e.id === eventId);\n      return event ? event.title : \"Unknown Event\";\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case \"approved\":\n        return \"bg-green-100 text-green-800\";\n      case \"rejected\":\n        return \"bg-red-100 text-red-800\";\n      case \"pending\":\n      default:\n        return \"bg-yellow-100 text-yellow-800\";\n    }\n  };\n\n  const handleStatusChange = (id: string, status: string) => {\n    updateStatusMutation.mutate({ id, status });\n  };\n\n  const downloadCSVMutation = useMutation({\n    mutationFn: async () => {\n      const response = await fetch('/api/admin/registrations/csv', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('adminToken')}`,\n        },\n      });\n      \n      if (!response.ok) {\n        throw new Error('Failed to download CSV');\n      }\n      \n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.style.display = 'none';\n      a.href = url;\n      a.download = `registrations-${new Date().toISOString().split('T')[0]}.csv`;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Success\",\n        description: \"CSV file downloaded successfully\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleDownloadCSV = () => {\n    downloadCSVMutation.mutate();\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"p-6 bg-tech-light min-h-screen\">\n        <div className=\"animate-pulse\">\n          <div className=\"h-8 bg-tech-grey/20 rounded w-1/4 mb-6\"></div>\n          <div className=\"grid gap-4\">\n            {[...Array(5)].map((_, i) => (\n              <div key={i} className=\"h-32 bg-tech-grey/20 rounded\"></div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6 space-y-6 bg-tech-light min-h-screen\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-3xl font-bold font-tech text-tech-dark\">Registrations</h1>\n          <p className=\"text-tech-grey mt-2 font-tech\">Manage event registrations and approvals</p>\n        </div>\n        <div className=\"flex items-center space-x-4\">\n          <div className=\"text-sm font-tech text-tech-grey\">\n            Total: {Array.isArray(registrations) ? registrations.length : 0} registrations\n          </div>\n          <Button \n            onClick={handleDownloadCSV}\n            disabled={downloadCSVMutation.isPending}\n            className=\"bg-tech-blue hover:bg-tech-blue/90 text-white font-tech\"\n            data-testid=\"button-download-csv\"\n          >\n            <Download className=\"h-4 w-4 mr-2\" />\n            {downloadCSVMutation.isPending ? 'Downloading...' : 'Download CSV'}\n          </Button>\n        </div>\n      </div>\n\n      <div className=\"space-y-4\">\n        {Array.isArray(registrations) && registrations.length > 0 ? (\n          registrations.map((registration: any) => (\n            <Card key={registration.id} className=\"bg-white border-tech-grey/20\" data-testid={`card-registration-${registration.id}`}>\n              <CardHeader>\n                <div className=\"flex justify-between items-start\">\n                  <div className=\"flex-1\">\n                    <CardTitle className=\"text-tech-dark font-tech flex items-center\">\n                      <User className=\"h-5 w-5 mr-2\" />\n                      {registration.name}\n                    </CardTitle>\n                    <p className=\"text-tech-blue font-tech mt-1\">{getEventTitle(registration.eventId, registration.eventType)}</p>\n                    {registration.eventType && (\n                      <Badge variant=\"outline\" className=\"mt-1 text-xs\">\n                        {registration.eventType}\n                      </Badge>\n                    )}\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <Badge className={getStatusColor(registration.status)}>\n                      {registration.status}\n                    </Badge>\n                    <Select\n                      value={registration.status}\n                      onValueChange={(status) => handleStatusChange(registration.id, status)}\n                    >\n                      <SelectTrigger className=\"w-32 border-tech-grey/30 font-tech\">\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"pending\">Pending</SelectItem>\n                        <SelectItem value=\"approved\">Approved</SelectItem>\n                        <SelectItem value=\"rejected\">Rejected</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  </div>\n                </div>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid md:grid-cols-2 gap-4\">\n                  <div className=\"space-y-2\">\n                    <div className=\"flex items-center text-sm text-tech-grey font-tech\">\n                      <Mail className=\"h-4 w-4 mr-2\" />\n                      {registration.email}\n                    </div>\n                    {registration.phone && (\n                      <div className=\"flex items-center text-sm text-tech-grey font-tech\">\n                        <Phone className=\"h-4 w-4 mr-2\" />\n                        {registration.phone}\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"space-y-2\">\n                    <div className=\"flex items-center text-sm text-tech-grey font-tech\">\n                      <Calendar className=\"h-4 w-4 mr-2\" />\n                      Registered: {new Date(registration.createdAt).toLocaleDateString()}\n                    </div>\n                    <div className=\"flex items-center text-sm text-tech-grey font-tech\">\n                      <UserCheck className=\"h-4 w-4 mr-2\" />\n                      Status: {registration.status}\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          ))\n        ) : (\n          <Card className=\"bg-white border-tech-grey/20\">\n            <CardContent className=\"p-8 text-center\">\n              <UserCheck className=\"h-12 w-12 text-tech-grey mx-auto mb-4\" />\n              <p className=\"text-tech-grey font-tech\">No registrations found.</p>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n\n      {/* Statistics Summary */}\n      {Array.isArray(registrations) && registrations.length > 0 && (\n        <div className=\"grid md:grid-cols-3 gap-4\">\n          <Card className=\"bg-white border-tech-grey/20\">\n            <CardContent className=\"p-4\">\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-green-600 font-tech\">\n                  {registrations.filter((r: any) => r.status === \"approved\").length}\n                </div>\n                <div className=\"text-sm text-tech-grey font-tech\">Approved</div>\n              </div>\n            </CardContent>\n          </Card>\n          <Card className=\"bg-white border-tech-grey/20\">\n            <CardContent className=\"p-4\">\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-yellow-600 font-tech\">\n                  {registrations.filter((r: any) => r.status === \"pending\").length}\n                </div>\n                <div className=\"text-sm text-tech-grey font-tech\">Pending</div>\n              </div>\n            </CardContent>\n          </Card>\n          <Card className=\"bg-white border-tech-grey/20\">\n            <CardContent className=\"p-4\">\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-red-600 font-tech\">\n                  {registrations.filter((r: any) => r.status === \"rejected\").length}\n                </div>\n                <div className=\"text-sm text-tech-grey font-tech\">Rejected</div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n    </div>\n  );\n}","size_bytes":10320},"client/src/pages/admin/team.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Plus, Edit, Trash2, User } from \"lucide-react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\n\nconst teamMemberSchema = z.object({\n  name: z.string().min(1, \"Name is required\"),\n  position: z.string().min(1, \"Position is required\"),\n  description: z.string().min(1, \"Description is required\"),\n  imageUrl: z.string().optional(),\n});\n\ntype TeamMemberFormData = z.infer<typeof teamMemberSchema>;\n\nexport default function AdminTeam() {\n  const [isOpen, setIsOpen] = useState(false);\n  const [editingMember, setEditingMember] = useState<any>(null);\n  const { toast } = useToast();\n\n  const { data: teamMembers, isLoading } = useQuery({\n    queryKey: [\"/api/team\"],\n  });\n\n  const form = useForm<TeamMemberFormData>({\n    resolver: zodResolver(teamMemberSchema),\n    defaultValues: {\n      name: \"\",\n      position: \"\",\n      description: \"\",\n      imageUrl: \"\",\n    },\n  });\n\n  const createMutation = useMutation({\n    mutationFn: async (data: TeamMemberFormData) => {\n      return await apiRequest(\"/api/team\", \"POST\", data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/team\"] });\n      setIsOpen(false);\n      setEditingMember(null);\n      form.reset();\n      toast({\n        title: \"Success\",\n        description: \"Team member added successfully\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const updateMutation = useMutation({\n    mutationFn: async (data: TeamMemberFormData) => {\n      return await apiRequest(`/api/team/${editingMember.id}`, \"PATCH\", data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/team\"] });\n      setIsOpen(false);\n      setEditingMember(null);\n      form.reset();\n      toast({\n        title: \"Success\",\n        description: \"Team member updated successfully\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return await apiRequest(`/api/team/${id}`, \"DELETE\");\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/team\"] });\n      toast({\n        title: \"Success\",\n        description: \"Team member removed successfully\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleEdit = (member: any) => {\n    setEditingMember(member);\n    form.reset({\n      name: member.name,\n      position: member.position,\n      description: member.description,\n      imageUrl: member.imageUrl || \"\",\n    });\n    setIsOpen(true);\n  };\n\n  const handleDelete = (id: string) => {\n    if (confirm(\"Are you sure you want to remove this team member?\")) {\n      deleteMutation.mutate(id);\n    }\n  };\n\n  const onSubmit = (data: TeamMemberFormData) => {\n    if (editingMember) {\n      updateMutation.mutate(data);\n    } else {\n      createMutation.mutate(data);\n    }\n  };\n\n  const handleDialogClose = () => {\n    setIsOpen(false);\n    setEditingMember(null);\n    form.reset();\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"p-6 bg-tech-light min-h-screen\">\n        <div className=\"animate-pulse\">\n          <div className=\"h-8 bg-tech-grey/20 rounded w-1/4 mb-6\"></div>\n          <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n            {[...Array(6)].map((_, i) => (\n              <div key={i} className=\"h-64 bg-tech-grey/20 rounded\"></div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6 space-y-6 bg-tech-light min-h-screen\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-3xl font-bold font-tech text-tech-dark\">Team Management</h1>\n          <p className=\"text-tech-grey mt-2 font-tech\">Manage club team members</p>\n        </div>\n        <Dialog open={isOpen} onOpenChange={setIsOpen}>\n          <DialogTrigger asChild>\n            <Button className=\"bg-tech-blue hover:bg-tech-purple text-white font-tech\" data-testid=\"button-add-member\">\n              <Plus className=\"h-4 w-4 mr-2\" />\n              Add Member\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-md bg-white\">\n            <DialogHeader>\n              <DialogTitle className=\"text-tech-dark font-tech\">\n                {editingMember ? \"Edit Team Member\" : \"Add New Team Member\"}\n              </DialogTitle>\n              <DialogDescription className=\"text-tech-grey font-tech\">\n                {editingMember ? \"Update member details\" : \"Add a new member to your team\"}\n              </DialogDescription>\n            </DialogHeader>\n            <Form {...form}>\n              <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n                <FormField\n                  control={form.control}\n                  name=\"name\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-tech-dark font-tech\">Name</FormLabel>\n                      <FormControl>\n                        <Input \n                          placeholder=\"Member name\" \n                          className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                          {...field} \n                          data-testid=\"input-member-name\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                \n                <FormField\n                  control={form.control}\n                  name=\"position\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-tech-dark font-tech\">Position</FormLabel>\n                      <FormControl>\n                        <Input \n                          placeholder=\"e.g., President, Vice President, Secretary\" \n                          className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                          {...field} \n                          data-testid=\"input-member-position\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                \n                <FormField\n                  control={form.control}\n                  name=\"description\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-tech-dark font-tech\">Description</FormLabel>\n                      <FormControl>\n                        <Textarea \n                          placeholder=\"Brief description about the member\" \n                          className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                          {...field} \n                          data-testid=\"input-member-description\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                \n                <FormField\n                  control={form.control}\n                  name=\"imageUrl\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-tech-dark font-tech\">Image URL (Optional)</FormLabel>\n                      <FormControl>\n                        <Input \n                          placeholder=\"https://example.com/photo.jpg\" \n                          className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                          {...field} \n                          data-testid=\"input-member-image\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <DialogFooter>\n                  <Button \n                    type=\"button\" \n                    variant=\"outline\" \n                    onClick={handleDialogClose}\n                    className=\"font-tech\"\n                    data-testid=\"button-cancel\"\n                  >\n                    Cancel\n                  </Button>\n                  <Button \n                    type=\"submit\" \n                    disabled={createMutation.isPending || updateMutation.isPending}\n                    className=\"bg-tech-blue hover:bg-tech-purple text-white font-tech\"\n                    data-testid=\"button-save-member\"\n                  >\n                    {createMutation.isPending || updateMutation.isPending \n                      ? \"Saving...\" \n                      : editingMember \n                        ? \"Update\" \n                        : \"Add\"\n                    }\n                  </Button>\n                </DialogFooter>\n              </form>\n            </Form>\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n        {Array.isArray(teamMembers) && teamMembers.length > 0 ? (\n          teamMembers.map((member: any) => (\n            <Card key={member.id} className=\"bg-white border-tech-grey/20\" data-testid={`card-member-${member.id}`}>\n              <CardHeader className=\"text-center\">\n                <Avatar className=\"w-20 h-20 mx-auto mb-4\">\n                  <AvatarImage src={member.imageUrl} alt={member.name} />\n                  <AvatarFallback className=\"bg-tech-blue text-white\">\n                    {member.name.split(' ').map((n: string) => n[0]).join('')}\n                  </AvatarFallback>\n                </Avatar>\n                <CardTitle className=\"text-tech-dark font-tech\">{member.name}</CardTitle>\n                <p className=\"text-tech-blue font-tech font-medium\">{member.position}</p>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <p className=\"text-tech-grey text-sm font-tech\">{member.description}</p>\n                <div className=\"flex justify-center space-x-2\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => handleEdit(member)}\n                    className=\"font-tech\"\n                    data-testid={`button-edit-${member.id}`}\n                  >\n                    <Edit className=\"h-4 w-4 mr-1\" />\n                    Edit\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => handleDelete(member.id)}\n                    className=\"text-red-600 hover:text-red-700 font-tech\"\n                    data-testid={`button-delete-${member.id}`}\n                  >\n                    <Trash2 className=\"h-4 w-4 mr-1\" />\n                    Remove\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          ))\n        ) : (\n          <div className=\"col-span-full\">\n            <Card className=\"bg-white border-tech-grey/20\">\n              <CardContent className=\"p-8 text-center\">\n                <User className=\"h-12 w-12 text-tech-grey mx-auto mb-4\" />\n                <p className=\"text-tech-grey font-tech\">No team members found. Add your first team member!</p>\n              </CardContent>\n            </Card>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}","size_bytes":12533},"client/src/pages/admin/users.tsx":{"content":"import { useEffect, useMemo, useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport CSVUpload from \"@/components/csv-upload\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { CheckCircle2, Users, ShieldCheck, Search } from \"lucide-react\";\n\ninterface AdminUser {\n  id: string;\n  username: string;\n  email: string;\n  role: \"user\" | \"coordinator\" | \"super_admin\";\n  isApproved: boolean;\n  createdAt?: string;\n}\n\nexport default function AdminUsers() {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [search, setSearch] = useState(\"\");\n\n  const token = typeof window !== \"undefined\" ? localStorage.getItem(\"adminToken\") : null;\n\n  const { data: users, isLoading } = useQuery({\n    queryKey: [\"/api/admin/users\"],\n    queryFn: async () => {\n      const res = await fetch(\"/api/admin/users\", {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (!res.ok) throw new Error(\"Failed to fetch users\");\n      return (await res.json()) as AdminUser[];\n    },\n  });\n\n  const approveMutation = useMutation({\n    mutationFn: async (id: string) => {\n      const res = await fetch(`/api/admin/users/${id}/approve`, {\n        method: \"PATCH\",\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (!res.ok) throw new Error(\"Failed to approve user\");\n      return res.json();\n    },\n    onSuccess: () => {\n      toast({ title: \"User approved\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/users\"] });\n    },\n    onError: () => toast({ title: \"Failed to approve user\", variant: \"destructive\" }),\n  });\n\n\n\n  const filtered = useMemo(() => {\n    const term = search.trim().toLowerCase();\n    if (!Array.isArray(users)) return [] as AdminUser[];\n    if (!term) return users;\n    return users.filter(u =>\n      (u.username || \"\").toLowerCase().includes(term) ||\n      (u.email || \"\").toLowerCase().includes(term)\n    );\n  }, [users, search]);\n\n  return (\n    <div className=\"p-6 space-y-8 bg-tech-light min-h-screen\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold font-tech text-tech-dark\">Users</h1>\n          <p className=\"text-tech-grey mt-2 font-tech\">Manage access, approvals and bulk import</p>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Left: Import */}\n        <div className=\"lg:col-span-1\">\n          <CSVUpload onSuccess={() => queryClient.invalidateQueries({ queryKey: [\"/api/admin/users\"] })} />\n        </div>\n\n        {/* Right: List */}\n        <div className=\"lg:col-span-2 space-y-4\">\n          <Card className=\"bg-white border-tech-grey/20\">\n            <CardHeader>\n              <CardTitle className=\"text-tech-dark\">All Users</CardTitle>\n              <CardDescription className=\"text-tech-grey\">Approve access for imported users</CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"relative w-full\">\n                  <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-tech-grey\" />\n                  <Input\n                    placeholder=\"Search by username or email\"\n                    className=\"pl-9\"\n                    value={search}\n                    onChange={(e) => setSearch(e.target.value)}\n                  />\n                </div>\n              </div>\n\n              <div className=\"space-y-2 max-h-[540px] overflow-auto pr-1\">\n                {isLoading && <p className=\"text-sm text-tech-grey\">Loading users…</p>}\n                {!isLoading && filtered.length === 0 && (\n                  <p className=\"text-sm text-tech-grey\">No users found.</p>\n                )}\n\n                {filtered.map((u) => (\n                  <div key={u.id} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-tech-grey/10\">\n                    <div>\n                      <p className=\"font-medium text-tech-dark\">{u.username}</p>\n                      <p className=\"text-xs text-tech-grey\">{u.email}</p>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <Badge variant={u.isApproved ? \"default\" : \"secondary\"}>\n                        {u.isApproved ? \"Approved\" : \"Pending\"}\n                      </Badge>\n                      {u.isApproved ? (\n                        <ShieldCheck className=\"h-5 w-5 text-green-600\" />\n                      ) : (\n                        <Button size=\"sm\" onClick={() => approveMutation.mutate(u.id)}>\n                          <CheckCircle2 className=\"h-4 w-4 mr-2\" /> Approve\n                        </Button>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":5232},"client/src/pages/user/login.tsx":{"content":"import { useState } from \"react\";\nimport { Link, useLocation } from \"wouter\";\nimport { useAuth } from \"@/contexts/auth-context\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { HomeRobot } from \"@/components/home-robot\";\nimport { Eye, EyeOff, User, Lock, Mail, ArrowLeft } from \"lucide-react\";\n\nexport default function UserLogin() {\n  const { userLogin } = useAuth();\n  const { toast } = useToast();\n  const [, setLocation] = useLocation();\n  const [activeTab, setActiveTab] = useState(\"login\");\n  const [showPassword, setShowPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Login form state\n  const [loginData, setLoginData] = useState({\n    username: \"\",\n    password: \"\",\n  });\n\n  // Registration form state\n  const [registerData, setRegisterData] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  });\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    try {\n      const success = await userLogin(loginData.username, loginData.password);\n      if (success) {\n        toast({\n          title: \"Login Successful\",\n          description: \"Welcome back!\",\n        });\n        setLocation(\"/community\");\n      } else {\n        toast({\n          title: \"Login Failed\",\n          description: \"Invalid credentials or account not approved\",\n          variant: \"destructive\",\n        });\n      }\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"An error occurred during login\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleRegister = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    if (registerData.password !== registerData.confirmPassword) {\n      toast({\n        title: \"Error\",\n        description: \"Passwords do not match\",\n        variant: \"destructive\",\n      });\n      setIsLoading(false);\n      return;\n    }\n\n    try {\n      const response = await fetch(\"/api/user/register\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          username: registerData.username,\n          email: registerData.email,\n          password: registerData.password,\n        }),\n      });\n\n      if (response.ok) {\n        toast({\n          title: \"Registration Submitted\",\n          description: \"Your registration request has been submitted. Please wait for admin approval.\",\n        });\n        setActiveTab(\"login\");\n        setRegisterData({\n          username: \"\",\n          email: \"\",\n          password: \"\",\n          confirmPassword: \"\",\n        });\n      } else {\n        const error = await response.json();\n        toast({\n          title: \"Registration Failed\",\n          description: error.message || \"Registration failed\",\n          variant: \"destructive\",\n        });\n      }\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"An error occurred during registration\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-tech-light flex items-center justify-center p-4\">\n      <div className=\"w-full max-w-md\">\n        {/* Back to Home */}\n        <Link href=\"/\" className=\"inline-flex items-center text-tech-grey hover:text-tech-blue mb-6 transition-colors\">\n          <ArrowLeft className=\"h-4 w-4 mr-2\" />\n          Back to Home\n        </Link>\n\n        {/* Logo */}\n        <div className=\"text-center mb-8\">\n          <HomeRobot className=\"w-20 h-20 mx-auto mb-4\" />\n          <h1 className=\"text-2xl font-bold text-tech-dark font-tech\">Welcome to Innovare</h1>\n          <p className=\"text-tech-grey font-tech\">Join our technical community</p>\n        </div>\n\n        <Card className=\"bg-white border-tech-grey/20 shadow-lg\">\n          <CardHeader className=\"text-center\">\n            <CardTitle className=\"text-tech-dark font-tech\">User Portal</CardTitle>\n            <CardDescription className=\"font-tech\">\n              Sign in to your account or register for access\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n              <TabsList className=\"grid w-full grid-cols-2 bg-tech-grey/10\">\n                <TabsTrigger value=\"login\" className=\"font-tech\">Login</TabsTrigger>\n                <TabsTrigger value=\"register\" className=\"font-tech\">Register</TabsTrigger>\n              </TabsList>\n\n              {/* Login Tab */}\n              <TabsContent value=\"login\" className=\"space-y-4 mt-6\">\n                <form onSubmit={handleLogin} className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"login-username\" className=\"font-tech\">Username</Label>\n                    <div className=\"relative\">\n                      <User className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-tech-grey\" />\n                      <Input\n                        id=\"login-username\"\n                        type=\"text\"\n                        placeholder=\"Enter your username\"\n                        value={loginData.username}\n                        onChange={(e) => setLoginData({ ...loginData, username: e.target.value })}\n                        className=\"pl-10 font-tech\"\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"login-password\" className=\"font-tech\">Password</Label>\n                    <div className=\"relative\">\n                      <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-tech-grey\" />\n                      <Input\n                        id=\"login-password\"\n                        type={showPassword ? \"text\" : \"password\"}\n                        placeholder=\"Enter your password\"\n                        value={loginData.password}\n                        onChange={(e) => setLoginData({ ...loginData, password: e.target.value })}\n                        className=\"pl-10 pr-10 font-tech\"\n                        required\n                      />\n                      <button\n                        type=\"button\"\n                        onClick={() => setShowPassword(!showPassword)}\n                        className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-tech-grey hover:text-tech-blue\"\n                      >\n                        {showPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n                      </button>\n                    </div>\n                  </div>\n\n                  <Button\n                    type=\"submit\"\n                    className=\"w-full bg-tech-blue hover:bg-tech-purple text-white font-tech\"\n                    disabled={isLoading}\n                  >\n                    {isLoading ? \"Signing in...\" : \"Sign In\"}\n                  </Button>\n                </form>\n              </TabsContent>\n\n              {/* Register Tab */}\n              <TabsContent value=\"register\" className=\"space-y-4 mt-6\">\n                <form onSubmit={handleRegister} className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"register-username\" className=\"font-tech\">Username</Label>\n                    <div className=\"relative\">\n                      <User className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-tech-grey\" />\n                      <Input\n                        id=\"register-username\"\n                        type=\"text\"\n                        placeholder=\"Choose a username\"\n                        value={registerData.username}\n                        onChange={(e) => setRegisterData({ ...registerData, username: e.target.value })}\n                        className=\"pl-10 font-tech\"\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"register-email\" className=\"font-tech\">Email</Label>\n                    <div className=\"relative\">\n                      <Mail className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-tech-grey\" />\n                      <Input\n                        id=\"register-email\"\n                        type=\"email\"\n                        placeholder=\"Enter your email\"\n                        value={registerData.email}\n                        onChange={(e) => setRegisterData({ ...registerData, email: e.target.value })}\n                        className=\"pl-10 font-tech\"\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"register-password\" className=\"font-tech\">Password</Label>\n                    <div className=\"relative\">\n                      <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-tech-grey\" />\n                      <Input\n                        id=\"register-password\"\n                        type={showPassword ? \"text\" : \"password\"}\n                        placeholder=\"Choose a password\"\n                        value={registerData.password}\n                        onChange={(e) => setRegisterData({ ...registerData, password: e.target.value })}\n                        className=\"pl-10 pr-10 font-tech\"\n                        required\n                      />\n                      <button\n                        type=\"button\"\n                        onClick={() => setShowPassword(!showPassword)}\n                        className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-tech-grey hover:text-tech-blue\"\n                      >\n                        {showPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n                      </button>\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"confirm-password\" className=\"font-tech\">Confirm Password</Label>\n                    <div className=\"relative\">\n                      <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-tech-grey\" />\n                      <Input\n                        id=\"confirm-password\"\n                        type={showPassword ? \"text\" : \"password\"}\n                        placeholder=\"Confirm your password\"\n                        value={registerData.confirmPassword}\n                        onChange={(e) => setRegisterData({ ...registerData, confirmPassword: e.target.value })}\n                        className=\"pl-10 font-tech\"\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  <Button\n                    type=\"submit\"\n                    className=\"w-full bg-tech-green hover:bg-tech-blue text-white font-tech\"\n                    disabled={isLoading}\n                  >\n                    {isLoading ? \"Submitting...\" : \"Submit Registration\"}\n                  </Button>\n                </form>\n\n                <div className=\"text-center text-sm text-tech-grey font-tech\">\n                  <p>Registration requests are reviewed by administrators</p>\n                  <p>You will be notified once your account is approved</p>\n                </div>\n              </TabsContent>\n            </Tabs>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n","size_bytes":12043},"client/src/pages/admin/technofest.tsx":{"content":"import React, { useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { \n  Dialog, \n  DialogContent, \n  DialogHeader, \n  DialogTitle, \n  DialogTrigger,\n  DialogDescription \n} from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Label } from \"@/components/ui/label\";\nimport { \n  Plus, \n  Edit, \n  Trash2, \n  Calendar, \n  Users, \n  Eye,\n  ExternalLink,\n  Globe\n} from \"lucide-react\";\nimport { authenticatedRequest } from \"@/lib/api\";\n\ninterface TechnofestEvent {\n  id: string;\n  slug?: string;\n  name: string;\n  number?: number;\n  category: string;\n  short_description: string;\n  description: string;\n  rules: string[];\n  youtube_url?: string;\n  team_min: number;\n  team_max: number;\n  spline_right_url?: string;\n  is_active: boolean;\n  created_at: string;\n  updated_at: string;\n}\n\ninterface FormData {\n  name: string;\n  slug: string;\n  number: number;\n  category: string;\n  shortDescription: string;\n  description: string;\n  rules: string[];\n  youtubeUrl: string;\n  teamMin: number;\n  teamMax: number;\n  splineRightUrl: string;\n  isActive: boolean;\n}\n\nconst CATEGORIES = ['Cultural', 'Sports', 'Technical'];\n\nexport default function AdminTechnofest() {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [showCreateDialog, setShowCreateDialog] = useState(false);\n  const [editingEvent, setEditingEvent] = useState<TechnofestEvent | null>(null);\n  const [viewingEvent, setViewingEvent] = useState<TechnofestEvent | null>(null);\n  const [newRule, setNewRule] = useState(\"\");\n  const [formData, setFormData] = useState<FormData>({\n    name: \"\",\n    slug: \"\",\n    number: 1,\n    category: \"\",\n    shortDescription: \"\",\n    description: \"\",\n    rules: [],\n    youtubeUrl: \"\",\n    teamMin: 1,\n    teamMax: 4,\n    splineRightUrl: \"\",\n    isActive: true,\n  });\n\n  // Fetch technofest events\n  const { data: events = [], isLoading } = useQuery({\n    queryKey: [\"/api/technofest\"],\n    queryFn: () => authenticatedRequest(\"/api/technofest\"),\n  });\n\n  // Create event mutation\n  const createEventMutation = useMutation({\n    mutationFn: async (data: any) => {\n      return authenticatedRequest(\"/api/admin/technofest\", \"POST\", data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/technofest\"] });\n      toast({\n        title: \"Success\",\n        description: \"TechFest event created successfully\",\n      });\n      setShowCreateDialog(false);\n      resetForm();\n    },\n    onError: (error: any) => {\n      const errorMessage = error?.details || error?.message || \"Failed to create event\";\n      toast({\n        title: \"Error\",\n        description: errorMessage,\n        variant: \"destructive\",\n      });\n      \n      // Handle authentication errors\n      if (errorMessage.includes('session has expired') || errorMessage.includes('Unauthorized')) {\n        setTimeout(() => {\n          window.location.href = '/admin';\n        }, 2000);\n      }\n    },\n  });\n\n  // Update event mutation\n  const updateEventMutation = useMutation({\n    mutationFn: async (data: any) => {\n      return authenticatedRequest(`/api/admin/technofest/${editingEvent?.id}`, \"PATCH\", data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/technofest\"] });\n      toast({\n        title: \"Success\",\n        description: \"TechFest event updated successfully\",\n      });\n      setEditingEvent(null);\n      resetForm();\n    },\n    onError: (error: any) => {\n      const errorMessage = error?.details || error?.message || \"Failed to update event\";\n      toast({\n        title: \"Error\",\n        description: errorMessage,\n        variant: \"destructive\",\n      });\n      \n      // Handle authentication errors\n      if (errorMessage.includes('session has expired') || errorMessage.includes('Unauthorized')) {\n        setTimeout(() => {\n          window.location.href = '/admin';\n        }, 2000);\n      }\n    },\n  });\n\n  // Delete event mutation\n  const deleteEventMutation = useMutation({\n    mutationFn: async (eventId: string) => {\n      return authenticatedRequest(`/api/admin/technofest/${eventId}`, \"DELETE\");\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/technofest\"] });\n      toast({\n        title: \"Success\",\n        description: \"TechFest event deleted successfully\",\n      });\n    },\n    onError: (error: any) => {\n      const errorMessage = error?.details || error?.message || \"Failed to delete event\";\n      toast({\n        title: \"Error\",\n        description: errorMessage,\n        variant: \"destructive\",\n      });\n      \n      // Handle authentication errors\n      if (errorMessage.includes('session has expired') || errorMessage.includes('Unauthorized')) {\n        setTimeout(() => {\n          window.location.href = '/admin';\n        }, 2000);\n      }\n    },\n  });\n\n  const resetForm = () => {\n    setFormData({\n      name: \"\",\n      slug: \"\",\n      number: 1,\n      category: \"\",\n      shortDescription: \"\",\n      description: \"\",\n      rules: [],\n      youtubeUrl: \"\",\n      teamMin: 1,\n      teamMax: 4,\n      splineRightUrl: \"\",\n      isActive: true,\n    });\n    setNewRule(\"\");\n  };\n\n  const handleCreate = () => {\n    setEditingEvent(null);\n    resetForm();\n    setShowCreateDialog(true);\n  };\n\n  const handleEdit = (event: TechnofestEvent) => {\n    setEditingEvent(event);\n    setFormData({\n      name: event.name,\n      slug: event.slug || \"\",\n      number: event.number || 1,\n      category: event.category,\n      shortDescription: event.short_description,\n      description: event.description,\n      rules: event.rules || [],\n      youtubeUrl: event.youtube_url || \"\",\n      teamMin: event.team_min,\n      teamMax: event.team_max,\n      splineRightUrl: event.spline_right_url || \"\",\n      isActive: event.is_active,\n    });\n    setShowCreateDialog(true);\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!formData.name.trim() || !formData.category || !formData.shortDescription.trim()) {\n      toast({\n        title: \"Error\",\n        description: \"Please fill in all required fields\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (formData.teamMin > formData.teamMax) {\n      toast({\n        title: \"Error\",\n        description: \"Minimum team size cannot be greater than maximum team size\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    // Map form data to database field names (snake_case)\n    const submitData = {\n      name: formData.name.trim(),\n      slug: formData.slug.trim() || formData.name.toLowerCase().replace(/\\s+/g, '-'),\n      number: formData.number,\n      category: formData.category,\n      short_description: formData.shortDescription.trim(),\n      description: formData.description.trim(),\n      rules: formData.rules,\n      youtube_url: formData.youtubeUrl || null,\n      team_min: formData.teamMin,\n      team_max: formData.teamMax,\n      spline_right_url: formData.splineRightUrl || null,\n      is_active: formData.isActive,\n    };\n\n    if (editingEvent) {\n      updateEventMutation.mutate(submitData);\n    } else {\n      createEventMutation.mutate(submitData);\n    }\n  };\n\n  const handleDelete = (event: TechnofestEvent) => {\n    if (window.confirm(`Are you sure you want to delete \"${event.name}\"?`)) {\n      deleteEventMutation.mutate(event.id);\n    }\n  };\n\n  const addRule = () => {\n    if (newRule.trim()) {\n      setFormData(prev => ({\n        ...prev,\n        rules: [...prev.rules, newRule.trim()]\n      }));\n      setNewRule(\"\");\n    }\n  };\n\n  const removeRule = (index: number) => {\n    setFormData(prev => ({\n      ...prev,\n      rules: prev.rules.filter((_, i) => i !== index)\n    }));\n  };\n\n  const getCategoryColor = (category: string) => {\n    switch (category) {\n      case 'Cultural':\n        return 'bg-purple-100 text-purple-800';\n      case 'Sports':\n        return 'bg-green-100 text-green-800';\n      case 'Technical':\n        return 'bg-blue-100 text-blue-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"p-6 bg-tech-light min-h-screen\">\n        <div className=\"animate-pulse\">\n          <div className=\"h-8 bg-tech-grey/20 rounded w-1/4 mb-6\"></div>\n          <div className=\"grid gap-4\">\n            {[...Array(3)].map((_, i) => (\n              <div key={i} className=\"h-40 bg-tech-grey/20 rounded\"></div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6 space-y-6 bg-tech-light min-h-screen\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-3xl font-bold font-tech text-tech-dark\">TechFest Events</h1>\n          <p className=\"text-tech-grey mt-2 font-tech\">Manage TechFest competition events</p>\n        </div>\n        <Button \n          onClick={handleCreate}\n          className=\"bg-tech-blue hover:bg-tech-purple text-white font-tech\"\n          data-testid=\"button-add-technofest-event\"\n        >\n          <Plus className=\"h-4 w-4 mr-2\" />\n          Add Event\n        </Button>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <Card className=\"bg-white border-tech-grey/20\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-tech text-tech-grey\">Total Events</p>\n                <p className=\"text-2xl font-bold font-tech text-tech-dark\">{events.length}</p>\n              </div>\n              <Calendar className=\"h-8 w-8 text-tech-blue\" />\n            </div>\n          </CardContent>\n        </Card>\n        <Card className=\"bg-white border-tech-grey/20\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-tech text-tech-grey\">Active Events</p>\n                <p className=\"text-2xl font-bold font-tech text-tech-dark\">{events.filter(e => e.isActive).length}</p>\n              </div>\n              <Eye className=\"h-8 w-8 text-green-600\" />\n            </div>\n          </CardContent>\n        </Card>\n        <Card className=\"bg-white border-tech-grey/20\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-tech text-tech-grey\">Cultural</p>\n                <p className=\"text-2xl font-bold font-tech text-tech-dark\">{events.filter(e => e.category === 'Cultural').length}</p>\n              </div>\n              <div className=\"h-8 w-8 text-purple-600 flex items-center justify-center text-xl\">🎭</div>\n            </div>\n          </CardContent>\n        </Card>\n        <Card className=\"bg-white border-tech-grey/20\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-tech text-tech-grey\">Technical</p>\n                <p className=\"text-2xl font-bold font-tech text-tech-dark\">{events.filter(e => e.category === 'Technical').length}</p>\n              </div>\n              <div className=\"h-8 w-8 text-blue-600 flex items-center justify-center text-xl\">💻</div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Events List */}\n      <div className=\"grid gap-4\">\n        {events.length > 0 ? (\n          events.map((event: TechnofestEvent) => (\n            <Card key={event.id} className=\"bg-white border-tech-grey/20\">\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1 space-y-3\">\n                    <div className=\"flex items-center space-x-4\">\n                      <h3 className=\"text-xl font-bold font-tech text-tech-dark\">{event.name}</h3>\n                      <Badge className={getCategoryColor(event.category)}>\n                        {event.category}\n                      </Badge>\n                      <Badge variant={event.isActive ? \"default\" : \"secondary\"} className=\"font-tech\">\n                        {event.isActive ? \"Active\" : \"Inactive\"}\n                      </Badge>\n                      {event.number && (\n                        <Badge variant=\"outline\" className=\"font-tech\">\n                          #{event.number}\n                        </Badge>\n                      )}\n                    </div>\n                    \n                    <p className=\"text-tech-grey font-tech\">{event.shortDescription}</p>\n                    \n                    <div className=\"flex items-center space-x-6 text-sm text-tech-grey font-tech\">\n                      <div className=\"flex items-center\">\n                        <Users className=\"h-4 w-4 mr-1\" />\n                        Team: {event.teamMin}-{event.teamMax}\n                      </div>\n                      <div className=\"flex items-center\">\n                        <Calendar className=\"h-4 w-4 mr-1\" />\n                        {event.rules?.length || 0} rules\n                      </div>\n                      {event.splineRightUrl && (\n                        <div className=\"flex items-center\">\n                          <Globe className=\"h-4 w-4 mr-1\" />\n                          3D Model\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex space-x-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => setViewingEvent(event)}\n                      className=\"font-tech\"\n                      data-testid={`button-view-${event.id}`}\n                    >\n                      <Eye className=\"h-4 w-4\" />\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => handleEdit(event)}\n                      className=\"font-tech\"\n                      data-testid={`button-edit-${event.id}`}\n                    >\n                      <Edit className=\"h-4 w-4\" />\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => handleDelete(event)}\n                      className=\"text-red-600 hover:text-red-700 font-tech\"\n                      data-testid={`button-delete-${event.id}`}\n                    >\n                      <Trash2 className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          ))\n        ) : (\n          <Card className=\"bg-white border-tech-grey/20\">\n            <CardContent className=\"text-center py-12\">\n              <Calendar className=\"h-12 w-12 text-tech-grey mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-tech-dark font-tech mb-2\">No TechFest events yet</h3>\n              <p className=\"text-tech-grey font-tech mb-4\">Create your first TechFest competition event</p>\n              <Button onClick={handleCreate} className=\"bg-tech-blue hover:bg-tech-purple text-white font-tech\">\n                <Plus className=\"h-4 w-4 mr-2\" />\n                Add Event\n              </Button>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n\n      {/* Create/Edit Dialog */}\n      <Dialog open={showCreateDialog} onOpenChange={setShowCreateDialog}>\n        <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto bg-white\">\n          <DialogHeader>\n            <DialogTitle className=\"text-tech-dark font-tech\">\n              {editingEvent ? \"Edit TechFest Event\" : \"Create TechFest Event\"}\n            </DialogTitle>\n            <DialogDescription className=\"text-tech-grey font-tech\">\n              {editingEvent ? \"Update event details\" : \"Create a new TechFest competition event\"}\n            </DialogDescription>\n          </DialogHeader>\n          \n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <Label className=\"text-tech-dark font-tech\">Event Name *</Label>\n                <Input\n                  value={formData.name}\n                  onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n                  placeholder=\"Enter event name\"\n                  className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                  required\n                  data-testid=\"input-event-name\"\n                />\n              </div>\n              \n              <div>\n                <Label className=\"text-tech-dark font-tech\">Slug</Label>\n                <Input\n                  value={formData.slug}\n                  onChange={(e) => setFormData(prev => ({ ...prev, slug: e.target.value }))}\n                  placeholder=\"event-slug (auto-generated if empty)\"\n                  className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                  data-testid=\"input-event-slug\"\n                />\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div>\n                <Label className=\"text-tech-dark font-tech\">Event Number</Label>\n                <Input\n                  type=\"number\"\n                  min=\"1\"\n                  value={formData.number}\n                  onChange={(e) => setFormData(prev => ({ ...prev, number: parseInt(e.target.value) || 1 }))}\n                  className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                  data-testid=\"input-event-number\"\n                />\n              </div>\n              \n              <div>\n                <Label className=\"text-tech-dark font-tech\">Category *</Label>\n                <Select value={formData.category} onValueChange={(value) => setFormData(prev => ({ ...prev, category: value }))}>\n                  <SelectTrigger className=\"border-tech-grey/30 focus:border-tech-blue font-tech\" data-testid=\"select-category\">\n                    <SelectValue placeholder=\"Select category\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {CATEGORIES.map((category) => (\n                      <SelectItem key={category} value={category}>{category}</SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n              \n              <div className=\"flex items-center space-x-2\">\n                <Switch\n                  checked={formData.isActive}\n                  onCheckedChange={(checked) => setFormData(prev => ({ ...prev, isActive: checked }))}\n                  data-testid=\"switch-is-active\"\n                />\n                <Label className=\"text-tech-dark font-tech\">Active</Label>\n              </div>\n            </div>\n\n            <div>\n              <Label className=\"text-tech-dark font-tech\">Short Description *</Label>\n              <Input\n                value={formData.shortDescription}\n                onChange={(e) => setFormData(prev => ({ ...prev, shortDescription: e.target.value }))}\n                placeholder=\"Brief description for event cards\"\n                className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                required\n                data-testid=\"input-short-description\"\n              />\n            </div>\n\n            <div>\n              <Label className=\"text-tech-dark font-tech\">Full Description</Label>\n              <Textarea\n                value={formData.description}\n                onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                placeholder=\"Detailed event description\"\n                className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                rows={4}\n                data-testid=\"textarea-description\"\n              />\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <Label className=\"text-tech-dark font-tech\">Min Team Size *</Label>\n                <Input\n                  type=\"number\"\n                  min=\"1\"\n                  value={formData.teamMin}\n                  onChange={(e) => setFormData(prev => ({ ...prev, teamMin: parseInt(e.target.value) || 1 }))}\n                  className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                  required\n                  data-testid=\"input-team-min\"\n                />\n              </div>\n              \n              <div>\n                <Label className=\"text-tech-dark font-tech\">Max Team Size *</Label>\n                <Input\n                  type=\"number\"\n                  min=\"1\"\n                  value={formData.teamMax}\n                  onChange={(e) => setFormData(prev => ({ ...prev, teamMax: parseInt(e.target.value) || 1 }))}\n                  className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                  required\n                  data-testid=\"input-team-max\"\n                />\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <Label className=\"text-tech-dark font-tech\">YouTube URL</Label>\n                <Input\n                  type=\"url\"\n                  value={formData.youtubeUrl}\n                  onChange={(e) => setFormData(prev => ({ ...prev, youtubeUrl: e.target.value }))}\n                  placeholder=\"https://youtube.com/watch?v=...\"\n                  className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                  data-testid=\"input-youtube-url\"\n                />\n              </div>\n              \n              <div>\n                <Label className=\"text-tech-dark font-tech\">Spline 3D Model URL</Label>\n                <Input\n                  type=\"url\"\n                  value={formData.splineRightUrl}\n                  onChange={(e) => setFormData(prev => ({ ...prev, splineRightUrl: e.target.value }))}\n                  placeholder=\"https://prod.spline.design/...\"\n                  className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                  data-testid=\"input-spline-url\"\n                />\n              </div>\n            </div>\n\n            {/* Rules Section */}\n            <div>\n              <Label className=\"text-tech-dark font-tech\">Rules & Guidelines</Label>\n              <div className=\"space-y-2\">\n                <div className=\"flex space-x-2\">\n                  <Input\n                    value={newRule}\n                    onChange={(e) => setNewRule(e.target.value)}\n                    placeholder=\"Add a rule\"\n                    className=\"border-tech-grey/30 focus:border-tech-blue font-tech\"\n                    data-testid=\"input-new-rule\"\n                  />\n                  <Button \n                    type=\"button\" \n                    onClick={addRule}\n                    className=\"bg-tech-blue hover:bg-tech-purple text-white font-tech\"\n                    data-testid=\"button-add-rule\"\n                  >\n                    Add\n                  </Button>\n                </div>\n                {formData.rules.length > 0 && (\n                  <div className=\"space-y-1\">\n                    {formData.rules.map((rule, index) => (\n                      <div key={index} className=\"flex items-center justify-between bg-tech-light p-2 rounded\">\n                        <span className=\"text-tech-dark font-tech text-sm\">{rule}</span>\n                        <Button\n                          type=\"button\"\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={() => removeRule(index)}\n                          className=\"text-red-600 hover:text-red-700\"\n                          data-testid={`button-remove-rule-${index}`}\n                        >\n                          <Trash2 className=\"h-4 w-4\" />\n                        </Button>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <div className=\"flex justify-end space-x-4\">\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => setShowCreateDialog(false)}\n                className=\"font-tech\"\n                data-testid=\"button-cancel\"\n              >\n                Cancel\n              </Button>\n              <Button\n                type=\"submit\"\n                className=\"bg-tech-blue hover:bg-tech-purple text-white font-tech\"\n                disabled={createEventMutation.isPending || updateEventMutation.isPending}\n                data-testid=\"button-submit\"\n              >\n                {editingEvent ? \"Update Event\" : \"Create Event\"}\n              </Button>\n            </div>\n          </form>\n        </DialogContent>\n      </Dialog>\n\n      {/* View Event Dialog */}\n      {viewingEvent && (\n        <Dialog open={!!viewingEvent} onOpenChange={() => setViewingEvent(null)}>\n          <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto bg-white\">\n            <DialogHeader>\n              <DialogTitle className=\"text-tech-dark font-tech\">{viewingEvent.name}</DialogTitle>\n              <div className=\"flex space-x-2\">\n                <Badge className={getCategoryColor(viewingEvent.category)}>\n                  {viewingEvent.category}\n                </Badge>\n                <Badge variant={viewingEvent.isActive ? \"default\" : \"secondary\"} className=\"font-tech\">\n                  {viewingEvent.isActive ? \"Active\" : \"Inactive\"}\n                </Badge>\n              </div>\n            </DialogHeader>\n            \n            <div className=\"space-y-4\">\n              <div>\n                <h4 className=\"font-tech font-semibold text-tech-dark\">Description</h4>\n                <p className=\"text-tech-grey font-tech\">{viewingEvent.description}</p>\n              </div>\n              \n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <h4 className=\"font-tech font-semibold text-tech-dark\">Team Size</h4>\n                  <p className=\"text-tech-grey font-tech\">{viewingEvent.teamMin} - {viewingEvent.teamMax} members</p>\n                </div>\n                <div>\n                  <h4 className=\"font-tech font-semibold text-tech-dark\">Event Number</h4>\n                  <p className=\"text-tech-grey font-tech\">#{viewingEvent.number || 'N/A'}</p>\n                </div>\n              </div>\n              \n              {viewingEvent.rules && viewingEvent.rules.length > 0 && (\n                <div>\n                  <h4 className=\"font-tech font-semibold text-tech-dark\">Rules & Guidelines</h4>\n                  <ul className=\"list-disc list-inside space-y-1 text-tech-grey font-tech\">\n                    {viewingEvent.rules.map((rule, index) => (\n                      <li key={index}>{rule}</li>\n                    ))}\n                  </ul>\n                </div>\n              )}\n              \n              <div className=\"flex space-x-4 pt-4\">\n                {viewingEvent.youtubeUrl && (\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => window.open(viewingEvent.youtubeUrl, '_blank')}\n                    className=\"font-tech\"\n                  >\n                    <ExternalLink className=\"h-4 w-4 mr-2\" />\n                    View Video\n                  </Button>\n                )}\n                {viewingEvent.splineRightUrl && (\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => window.open(viewingEvent.splineRightUrl, '_blank')}\n                    className=\"font-tech\"\n                  >\n                    <Globe className=\"h-4 w-4 mr-2\" />\n                    View 3D Model\n                  </Button>\n                )}\n              </div>\n            </div>\n          </DialogContent>\n        </Dialog>\n      )}\n    </div>\n  );\n}","size_bytes":28742},"server/component-generator.ts":{"content":"import { promises as fs } from 'fs';\nimport { join } from 'path';\n\n// Component template based on home-robot.tsx\nconst createSplineComponentTemplate = (componentName: string, splineUrl: string) => {\n  const pascalCaseName = componentName\n    .replace(/[^a-zA-Z0-9]/g, ' ')\n    .split(' ')\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n    .join('');\n\n  return `import { memo, useRef, useEffect } from \"react\";\n\ninterface ${pascalCaseName}Props {\n  className?: string;\n}\n\nexport const ${pascalCaseName} = memo(function ${pascalCaseName}({ className = \"\" }: ${pascalCaseName}Props) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const appRef = useRef<any>(null);\n\n  useEffect(() => {\n    let Application: any;\n    let app: any;\n\n    async function init() {\n      if (!canvasRef.current) return;\n\n      try {\n        // Dynamically import the Spline runtime ES module from CDN\n        // @ts-ignore - Dynamic import from CDN\n        const module = await import('https://unpkg.com/@splinetool/runtime@1.10.51/build/runtime.js');\n        Application = module.Application;\n\n        // Initialize the 3D app on the canvas\n        app = new Application(canvasRef.current);\n\n        // Load the Spline scene for ${componentName}\n        await app.load('${splineUrl}');\n\n        appRef.current = app;\n      } catch (error) {\n        console.error('Failed to load ${componentName} Spline scene:', error);\n      }\n    }\n\n    init();\n\n    // Cleanup on unmount\n    return () => {\n      if (appRef.current) {\n        try {\n          appRef.current.destroy();\n        } catch (error) {\n          console.error('Error destroying ${componentName} Spline app:', error);\n        }\n        appRef.current = null;\n      }\n    };\n  }, []);\n\n  return (\n    <div\n      className={\\`relative overflow-hidden rounded-2xl w-full h-64 sm:h-80 md:h-96 lg:h-[500px] \\${className}\\`}\n    >\n      <canvas\n        ref={canvasRef}\n        className=\"w-full h-full block outline-none\"\n        style={{\n          background: 'transparent',\n          display: 'block',\n        }}\n      />\n    </div>\n  );\n});\n`;\n};\n\nexport class ComponentGenerator {\n  private componentsDir = join(process.cwd(), 'client', 'src', 'components', 'generated');\n\n  async ensureComponentsDir() {\n    try {\n      await fs.access(this.componentsDir);\n    } catch {\n      await fs.mkdir(this.componentsDir, { recursive: true });\n    }\n  }\n\n  sanitizeComponentName(eventName: string): string {\n    return eventName\n      .replace(/[^a-zA-Z0-9]/g, '-')\n      .toLowerCase()\n      .replace(/-+/g, '-')\n      .replace(/^-|-$/g, '');\n  }\n\n  getPascalCase(eventName: string): string {\n    return eventName\n      .replace(/[^a-zA-Z0-9]/g, ' ')\n      .split(' ')\n      .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n      .join('');\n  }\n\n  async createSplineComponent(eventName: string, splineUrl: string): Promise<string> {\n    if (!splineUrl) {\n      throw new Error('Spline URL is required to create component');\n    }\n\n    await this.ensureComponentsDir();\n\n    const sanitizedName = this.sanitizeComponentName(eventName);\n    const componentContent = createSplineComponentTemplate(eventName, splineUrl);\n    const filePath = join(this.componentsDir, `${sanitizedName}.tsx`);\n\n    await fs.writeFile(filePath, componentContent, 'utf-8');\n    \n    console.log(`Created Spline component: ${filePath}`);\n    return filePath;\n  }\n\n  async deleteSplineComponent(eventName: string): Promise<boolean> {\n    const sanitizedName = this.sanitizeComponentName(eventName);\n    const filePath = join(this.componentsDir, `${sanitizedName}.tsx`);\n\n    try {\n      await fs.unlink(filePath);\n      console.log(`Deleted Spline component: ${filePath}`);\n      return true;\n    } catch (error) {\n      console.warn(`Could not delete component file: ${filePath}`, error);\n      return false;\n    }\n  }\n\n  async componentExists(eventName: string): Promise<boolean> {\n    const sanitizedName = this.sanitizeComponentName(eventName);\n    const filePath = join(this.componentsDir, `${sanitizedName}.tsx`);\n\n    try {\n      await fs.access(filePath);\n      return true;\n    } catch {\n      return false;\n    }\n  }\n\n  async updateSplineComponent(eventName: string, splineUrl: string): Promise<string> {\n    // For updates, we just recreate the component with the new URL\n    return await this.createSplineComponent(eventName, splineUrl);\n  }\n\n  getComponentImportPath(eventName: string): string {\n    const sanitizedName = this.sanitizeComponentName(eventName);\n    return `@/components/generated/${sanitizedName}`;\n  }\n\n  getComponentName(eventName: string): string {\n    return this.getPascalCase(eventName);\n  }\n}\n\nexport const componentGenerator = new ComponentGenerator();","size_bytes":4752},"client/src/components/generated/test.tsx":{"content":"import { memo, useRef, useEffect } from \"react\";\n\ninterface TestProps {\n  className?: string;\n}\n\nexport const Test = memo(function Test({ className = \"\" }: TestProps) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const appRef = useRef<any>(null);\n\n  useEffect(() => {\n    let Application: any;\n    let app: any;\n\n    async function init() {\n      if (!canvasRef.current) return;\n\n      try {\n        // Dynamically import the Spline runtime ES module from CDN\n        // @ts-ignore - Dynamic import from CDN\n        const module = await import('https://unpkg.com/@splinetool/runtime@1.10.51/build/runtime.js');\n        Application = module.Application;\n\n        // Initialize the 3D app on the canvas\n        app = new Application(canvasRef.current);\n\n        // Load the Spline scene for test\n        await app.load('https://prod.spline.design/N5KWfoFEi1dBayTl/scene.splinecode');\n\n        appRef.current = app;\n      } catch (error) {\n        console.error('Failed to load test Spline scene:', error);\n      }\n    }\n\n    init();\n\n    // Cleanup on unmount\n    return () => {\n      if (appRef.current) {\n        try {\n          appRef.current.destroy();\n        } catch (error) {\n          console.error('Error destroying test Spline app:', error);\n        }\n        appRef.current = null;\n      }\n    };\n  }, []);\n\n  return (\n    <div\n      className={`relative overflow-hidden rounded-2xl w-full h-64 sm:h-80 md:h-96 lg:h-[500px] ${className}`}\n    >\n      <canvas\n        ref={canvasRef}\n        className=\"w-full h-full block outline-none\"\n        style={{\n          background: 'transparent',\n          display: 'block',\n        }}\n      />\n    </div>\n  );\n});\n","size_bytes":1678},"client/src/components/generated/suit-pursuit.tsx":{"content":"import { memo, useRef, useEffect } from \"react\";\n\ninterface SuitPursuitProps {\n  className?: string;\n}\n\nexport const SuitPursuit = memo(function SuitPursuit({ className = \"\" }: SuitPursuitProps) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const appRef = useRef<any>(null);\n\n  useEffect(() => {\n    let Application: any;\n    let app: any;\n\n    async function init() {\n      if (!canvasRef.current) return;\n\n      try {\n        // Dynamically import the Spline runtime ES module from CDN\n        // @ts-ignore - Dynamic import from CDN\n        const module = await import('https://unpkg.com/@splinetool/runtime@1.10.51/build/runtime.js');\n        Application = module.Application;\n\n        // Initialize the 3D app on the canvas\n        app = new Application(canvasRef.current);\n\n        // Load the Spline scene for SUIT PURSUIT\n        await app.load('https://prod.spline.design/N5KWfoFEi1dBayTl/scene.splinecode');\n\n        appRef.current = app;\n      } catch (error) {\n        console.error('Failed to load SUIT PURSUIT Spline scene:', error);\n      }\n    }\n\n    init();\n\n    // Cleanup on unmount\n    return () => {\n      if (appRef.current) {\n        try {\n          appRef.current.destroy();\n        } catch (error) {\n          console.error('Error destroying SUIT PURSUIT Spline app:', error);\n        }\n        appRef.current = null;\n      }\n    };\n  }, []);\n\n  return (\n    <div\n      className={`relative overflow-hidden w-full h-full rounded-xl ${className}`}\n      style={{ minHeight: '200px', maxHeight: '100%' }}\n    >\n      <canvas\n        ref={canvasRef}\n        className=\"w-full h-full block outline-none\"\n        style={{\n          background: 'transparent',\n          display: 'block',\n          borderRadius: '0.75rem',\n        }}\n      />\n    </div>\n  );\n});\n","size_bytes":1793},"client/src/components/generated/syntax-vs-semantics.tsx":{"content":"import { memo, useRef, useEffect } from \"react\";\n\ninterface SyntaxVsSemanticsProps {\n  className?: string;\n}\n\nexport const SyntaxVsSemantics = memo(function SyntaxVsSemantics({ className = \"\" }: SyntaxVsSemanticsProps) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const appRef = useRef<any>(null);\n\n  useEffect(() => {\n    let Application: any;\n    let app: any;\n\n    async function init() {\n      if (!canvasRef.current) return;\n\n      try {\n        // Dynamically import the Spline runtime ES module from CDN\n        // @ts-ignore - Dynamic import from CDN\n        const module = await import('https://unpkg.com/@splinetool/runtime@1.10.51/build/runtime.js');\n        Application = module.Application;\n\n        // Initialize the 3D app on the canvas\n        app = new Application(canvasRef.current);\n\n        // Load the Spline scene for SYNTAX VS SEMANTICS\n        await app.load('https://prod.spline.design/igDIeIuXWbuegzCZ/scene.splinecode');\n\n        appRef.current = app;\n      } catch (error) {\n        console.error('Failed to load SYNTAX VS SEMANTICS Spline scene:', error);\n      }\n    }\n\n    init();\n\n    // Cleanup on unmount\n    return () => {\n      if (appRef.current) {\n        try {\n          appRef.current.destroy();\n        } catch (error) {\n          console.error('Error destroying SYNTAX VS SEMANTICS Spline app:', error);\n        }\n        appRef.current = null;\n      }\n    };\n  }, []);\n\n  return (\n    <div\n      className={`relative overflow-hidden rounded-2xl w-full h-64 sm:h-80 md:h-96 lg:h-[500px] ${className}`}\n    >\n      <canvas\n        ref={canvasRef}\n        className=\"w-full h-full block outline-none\"\n        style={{\n          background: 'transparent',\n          display: 'block',\n        }}\n      />\n    </div>\n  );\n});\n","size_bytes":1775},"client/src/components/ui/hover-border-gradient.tsx":{"content":"\"use client\";\nimport React, { useState, useEffect, useRef } from \"react\";\n\nimport { motion } from \"framer-motion\";\nimport { cn } from \"@/lib/utils\";\n\ntype Direction = \"TOP\" | \"LEFT\" | \"BOTTOM\" | \"RIGHT\";\n\nexport function HoverBorderGradient({\n  children,\n  containerClassName,\n  className,\n  as: Tag = \"button\",\n  duration = 1,\n  clockwise = true,\n  ...props\n}: React.PropsWithChildren<\n  {\n    as?: React.ElementType;\n    containerClassName?: string;\n    className?: string;\n    duration?: number;\n    clockwise?: boolean;\n  } & React.HTMLAttributes<HTMLElement>\n>) {\n  const [hovered, setHovered] = useState<boolean>(false);\n  const [direction, setDirection] = useState<Direction>(\"TOP\");\n\n  const rotateDirection = (currentDirection: Direction): Direction => {\n    const directions: Direction[] = [\"TOP\", \"LEFT\", \"BOTTOM\", \"RIGHT\"];\n    const currentIndex = directions.indexOf(currentDirection);\n    const nextIndex = clockwise\n      ? (currentIndex - 1 + directions.length) % directions.length\n      : (currentIndex + 1) % directions.length;\n    return directions[nextIndex];\n  };\n\n  const movingMap: Record<Direction, string> = {\n    TOP: \"radial-gradient(20.7% 50% at 50% 0%, hsl(0, 0%, 100%) 0%, rgba(255, 255, 255, 0) 100%)\",\n    LEFT: \"radial-gradient(16.6% 43.1% at 0% 50%, hsl(0, 0%, 100%) 0%, rgba(255, 255, 255, 0) 100%)\",\n    BOTTOM:\n      \"radial-gradient(20.7% 50% at 50% 100%, hsl(0, 0%, 100%) 0%, rgba(255, 255, 255, 0) 100%)\",\n    RIGHT:\n      \"radial-gradient(16.2% 41.199999999999996% at 100% 50%, hsl(0, 0%, 100%) 0%, rgba(255, 255, 255, 0) 100%)\",\n  };\n\n  const highlight =\n    \"radial-gradient(75% 181.15942028985506% at 50% 50%, #3275F8 0%, rgba(255, 255, 255, 0) 100%)\";\n\n  useEffect(() => {\n    if (!hovered) {\n      const interval = setInterval(() => {\n        setDirection((prevState) => rotateDirection(prevState));\n      }, duration * 1000);\n      return () => clearInterval(interval);\n    }\n  }, [hovered]);\n  return (\n    <Tag\n      onMouseEnter={(event: React.MouseEvent<HTMLDivElement>) => {\n        setHovered(true);\n      }}\n      onMouseLeave={() => setHovered(false)}\n      className={cn(\n        \"relative flex rounded-full border  content-center bg-black/20 hover:bg-black/10 transition duration-500 dark:bg-white/20 items-center flex-col flex-nowrap gap-10 h-min justify-center overflow-visible p-px decoration-clone w-fit\",\n        containerClassName\n      )}\n      {...props}\n    >\n      <div\n        className={cn(\n          \"w-auto text-white z-10 bg-black px-4 py-2 rounded-[inherit]\",\n          className\n        )}\n      >\n        {children}\n      </div>\n      <motion.div\n        className={cn(\n          \"flex-none inset-0 overflow-hidden absolute z-0 rounded-[inherit]\"\n        )}\n        style={{\n          filter: \"blur(2px)\",\n          position: \"absolute\",\n          width: \"100%\",\n          height: \"100%\",\n        }}\n        initial={{ background: movingMap[direction] }}\n        animate={{\n          background: hovered\n            ? [movingMap[direction], highlight]\n            : movingMap[direction],\n        }}\n        transition={{ ease: \"linear\", duration: duration ?? 1 }}\n      />\n      <div className=\"bg-black absolute z-1 flex-none inset-[2px] rounded-[100px]\" />\n    </Tag>\n  );\n}","size_bytes":3251},"client/src/types/lottie.d.ts":{"content":"declare global {\n  namespace JSX {\n    interface IntrinsicElements {\n      'dotlottie-wc': {\n        src: string;\n        style?: React.CSSProperties;\n        speed?: string;\n        autoplay?: boolean;\n        loop?: boolean;\n      };\n    }\n  }\n}\n\nexport {};","size_bytes":259}},"version":1}